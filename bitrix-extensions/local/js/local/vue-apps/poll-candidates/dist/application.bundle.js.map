{"version":3,"file":"application.bundle.js","sources":["../src/components/candidate-component.js","../src/stores/data.js","../src/components/application.js","../src/loader.js"],"sourcesContent":["import { DocComponent } from 'local.vue-components.doc-component';\r\n\r\nexport const CandidateComponent = {\r\n    data() {\r\n        return {\r\n            print: false\r\n        }\r\n    },\r\n    props: ['lang', 'groups', 'candidate'],\r\n    emits: ['printGroup'],\r\n    components: {\r\n        DocComponent\r\n    },\r\n    template: `\r\n        <h2 v-if=\"group && print\">{{ group.title }}</h2>\r\n        <div class=\"twpx-poll-candidates-item\" v-if=\"candidate\">\r\n            <div class=\"twpx-poll-candidates-item__info\">\r\n                <a :href=\"candidate.url\" class=\"twpx-poll-candidates-item__img\">\r\n                    <img :src=\"candidate.img\" :alt=\"candidate.name\">\r\n                </a>\r\n                <div class=\"twpx-poll-candidates-item__text\">\r\n                    <h3 v-if=\"candidate.name\">\r\n                        <a :href=\"candidate.url\">{{ candidate.name }}</a>\r\n                    </h3>\r\n                    <div class=\"twpx-poll-candidates-item__description\" v-if=\"candidate.description\" v-html=\"candidate.description\"></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"twpx-poll-candidates-item__docs\">\r\n                <DocComponent v-for=\"doc in candidate.docs\" :key=\"doc.id\"  :doc=\"doc\" />\r\n            </div>\r\n        </div>\r\n    `,\r\n    computed: {\r\n        group() {\r\n            return this.groups.find(g => String(g.id) === String(this.candidate.group));\r\n        }\r\n    },\r\n    beforeMount() {\r\n        if (this.group && !this.group.printed) {\r\n            this.print = true;\r\n            this.$emit('printGroup', this.group);\r\n        }\r\n        \r\n    }\r\n};","import { defineStore } from 'ui.vue3.pinia';\n\nexport const dataStore = defineStore('data', {\n  state: () => ({\n    customData: {},\n    signedParameters: '',\n    lang: {},\n    actions: [],\n    groups: [],\n    candidates: [],\n    errorMessage: ''\n  }),\n  actions: {\n    printGroup(group) {\n      group.printed = true;\n    },\n    changeProp(prop, value) {\n      this[prop] = value;\n    },\n    setError(error) {\n      // Нормализуем ошибку в человекочитаемое сообщение\n      let message = '';\n      if (error && typeof error === 'object') {\n        if (Array.isArray(error.errors) && error.errors[0]?.message) {\n          message = error.errors[0].message;\n        } else if (error.message) {\n          message = error.message;\n        } else if (error.code) {\n          message = `Error: ${String(error.code)}`;\n        }\n      }\n      if (!message) {\n        message = 'Произошла ошибка. Попробуйте снова позже.';\n      }\n      this.errorMessage = message;\n    },\n    clearError() {\n      this.errorMessage = '';\n    },\n    runBitrixMethod(method, data, formData) {\n\n      if (method === 'getGroups') {\n        return Promise.resolve({\n          status: 'success',\n          data: [\n            {\n              id: 1,\n              title: 'Кандидаты в назависимые члены',\n            },\n            {\n              id: 2,\n              title: 'Кандидаты от аудиторских организаций на финансовом рынке',\n            }\n          ]\n        });\n      }\n\n      if (method === 'getCandidates') {\n        return Promise.resolve({\n          status: 'success',\n          data: [\n            {\n              id: 'candidateId1',\n              group: 1,\n              img: '/local/components/twinpx/disciplinar.comments/images/nopic.svg',\n              name: 'Петров Петр Петрович',\n              url: \"/person/19891/\",\n              description: 'Маркетинговая компания с 10-летним опытом, предоставляющая услуги по SEO, контент-маркетингу и SMM для малого и среднего бизнеса. Мы работаем по всей России и за ее пределами, наша команда состоит из профессионалов с опытом в международных проектах.',\n              docs: [\n                {\n                  id: 'doc1',\n                  name: \"Резюме Петрова Петра Петровича\",\n                  href: \"/pages/Протокол заседания дисицплинарной комиссии 234.pdf\",\n                  size: 512000,\n                  date: \"22 февраля 2021\",\n                  author: \"Васильев Виктор Степанович\",\n                  icon: \"/template/images/icons/pdf-23x32.svg\",\n                },\n                {\n                  id: 'doc2',\n                  name: \"Резюме Петрова Петра Петровича\",\n                  href: \"/pages/Протокол заседания дисицплинарной комиссии 234.pdf\",\n                  size: 512000,\n                  date: \"22 февраля 2021\",\n                  author: \"Васильев Виктор Степанович\",\n                  icon: \"/template/images/icons/pdf-23x32.svg\",\n                }\n              ]\n            },\n            {\n              id: 'candidateId2',\n              group: 1,\n              img: '/local/components/twinpx/disciplinar.comments/images/nopic.svg',\n              name: 'Сидоров Алексей Сергеевич',\n              url: \"/person/19891/\",\n              description: 'IT-компания с 5-летним опытом, специализирующаяся на разработке мобильных приложений и веб-сервисов. Наши клиенты включают стартапы и крупные корпорации, мы предлагаем индивидуальные решения под любой проект.',\n              docs: [\n                {\n                  id: 'doc3',\n                  name: \"Резюме Сидорова Алексея Сергеевича\",\n                  href: \"/pages/Протокол заседания дисицплинарной комиссии 234.docx\",\n                  size: 1200000,\n                  date: \"10 марта 2022\",\n                  author: \"Беляев Артем Викторович\",\n                  icon: \"/template/images/icons/pdf-23x32.svg\",\n                },\n                {\n                  id: 'doc4',\n                  name: \"Резюме Сидорова Алексея Сергеевича\",\n                  href: \"/pages/Протокол заседания дисицплинарной комиссии 234.docx\",\n                  size: 512000,\n                  date: \"10 марта 2022\",\n                  author: \"Беляев Артем Викторович\",\n                  icon: \"/template/images/icons/pdf-23x32.svg\",\n                }\n              ]\n            },\n            {\n              id: 'candidateId3',\n              group: 1,\n              img: '/local/components/twinpx/disciplinar.comments/images/nopic.svg',\n              name: 'Николаев Николай Николаевич',\n              url: \"/person/19891/\",\n              description: 'Консалтинговая компания с 20-летним опытом в области управления и финансового консультирования. Мы помогаем бизнесам повышать эффективность и адаптироваться к изменениям на рынке.',\n              docs: [\n                {\n                  id: 'doc5',\n                  name: \"Резюме Николаева Николая Николаевича\",\n                  href: \"/pages/Протокол заседания дисицплинарной комиссии 234.docx\",\n                  size: 700000,\n                  date: \"5 апреля 2023\",\n                  author: \"Кузнецов Дмитрий Сергеевич\",\n                  icon: \"/template/images/icons/pdf-23x32.svg\",\n                },\n                {\n                  id: 'doc6',\n                  name: \"Резюме Николаева Николая Николаевича\",\n                  href: \"/pages/Протокол заседания дисицплинарной комиссии 234.docx\",\n                  size: 700000,\n                  date: \"5 апреля 2023\",\n                  author: \"Кузнецов Дмитрий Сергеевич\",\n                  icon: \"/template/images/icons/pdf-23x32.svg\",\n                }\n              ]\n            },\n            {\n              id: 'candidateId4',\n              group: 2,\n              img: '/local/components/twinpx/disciplinar.comments/images/nopic.svg',\n              name: 'Семенов Семен Семенович',\n              url: \"/person/19891/\",\n              description: 'Строительная компания с 30-летним опытом, активно работающая в сфере жилого и коммерческого строительства. Мы гарантируем высокое качество и соблюдение сроков выполнения работ.',\n              docs: [\n                {\n                  id: 'doc7',\n                  name: \"Резюме Семенова Семена Семеновича\",\n                  href: \"/pages/Протокол заседания дисицплинарной комиссии 234.pdf\",\n                  size: 1512000,\n                  date: \"15 мая 2023\",\n                  author: \"Орлов Сергей Владимирович\",\n                  icon: \"/template/images/icons/pdf-23x32.svg\",\n                },\n                {\n                  id: 'doc8',\n                  name: \"Резюме Семенова Семена Семеновича\",\n                  href: \"/pages/Протокол заседания дисицплинарной комиссии 234.pdf\",\n                  size: 1512000,\n                  date: \"15 мая 2023\",\n                  author: \"Орлов Сергей Владимирович\",\n                  icon: \"/template/images/icons/pdf-23x32.svg\",\n                }\n              ]\n            }\n          ]\n        });\n      }\n\n\n      return Promise.reject({\n        status: 'error',\n        errors: [{message: 'Error'}]\n      });\n\n      const action = this.actions[method];\n      if (!action || !Array.isArray(action) || action.length < 2) {\n        return Promise.reject({ code: 'UNKNOWN_METHOD', message: `Unknown action mapping for method: ${method}` });\n      }\n\n      // Готовим payload для поля data\n      let payload;\n      if (formData instanceof FormData) {\n        payload = formData;\n        // Добавляем customData\n        if (this.customData && typeof this.customData === 'object') {\n          Object.entries(this.customData).forEach(([key, value]) => {\n            if (value !== undefined && value !== null) {\n              payload.append(key, value);\n            }\n          });\n        }\n      } else {\n        payload = {\n          ...this.customData,\n          ...(data || {})\n        };\n      }\n\n      const requestPromise = BX.ajax.runComponentAction(action[0], action[1], {\n        mode: 'class',\n        data: payload,\n        signedParameters: this.signedParameters,\n      });\n\n      // Таймаут: 20 секунд\n      const TIMEOUT_MS = 20000;\n      let timeoutId;\n      const timeoutPromise = new Promise((_, reject) => {\n        timeoutId = setTimeout(() => {\n          reject({ code: 'TIMEOUT', message: 'Превышено время ожидания ответа (20с).' });\n        }, TIMEOUT_MS);\n      });\n\n      // Централизованная обработка ошибок: сохраняем сообщение и пробрасываем дальше при необходимости\n      return Promise.race([requestPromise, timeoutPromise])\n        .catch((error) => {\n          this.setError(error);\n          return Promise.reject(error);\n        })\n        .finally(() => {\n          if (timeoutId) {\n            clearTimeout(timeoutId);\n          }\n        });\n    }\n  }\n});\n","import './application.css';\r\n\r\nimport { CandidateComponent } from './candidate-component';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    CandidateComponent\r\n  },\r\n  template: `\r\n    <div v-if=\"groups && candidates\" class=\"twpx-poll-candidates\">\r\n      <CandidateComponent v-for=\"candidate in candidates\"\r\n        :key=\"candidate.id\"\r\n        :lang=\"lang\"\r\n        :groups=\"groups\"\r\n        :candidate=\"candidate\"\r\n        @printGroup=\"printGroup\"\r\n      />\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, [\r\n      'lang',\r\n      'groups',\r\n      'candidates'\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...mapActions(dataStore, [\r\n      'runBitrixMethod',\r\n      'changeProp',\r\n      'printGroup'\r\n    ]),\r\n  },\r\n  mounted() {\r\n    this.runBitrixMethod('getGroups', {})\r\n      .then(\r\n        response => {\r\n          console.log(response)\r\n          this.changeProp('groups', response.data);\r\n        },\r\n        error => {}\r\n      );\r\n\r\n    this.runBitrixMethod('getCandidates', {})\r\n      .then(\r\n        response => {\r\n          console.log(response)\r\n          this.changeProp('candidates', response.data);\r\n        },\r\n        error => {}\r\n      );\r\n  },\r\n};\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { Application } from './components/application';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { dataStore } from './stores/data';\r\n\r\nexport class PollCandidates {\r\n  #store;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options) {\r\n    this.#store = createPinia();\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run() {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'PollCandidates',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: '<Application/>',\r\n      mounted() {\r\n        dataStore().customData = self.options.data || {};\r\n        dataStore().signedParameters = self.options.signedParameters || '';\r\n\r\n        dataStore().lang = self.options.lang || {};\r\n        dataStore().actions = self.options.actions || [];\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication() {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getTableStore() {\r\n    return tableStore;\r\n  }\r\n}\r\n"],"names":["CandidateComponent","data","print","props","emits","components","DocComponent","template","computed","group","groups","find","g","String","id","candidate","beforeMount","printed","$emit","dataStore","defineStore","state","customData","signedParameters","lang","actions","candidates","errorMessage","printGroup","changeProp","prop","value","setError","error","message","Array","isArray","errors","code","clearError","runBitrixMethod","method","formData","Promise","resolve","status","title","img","name","url","description","docs","href","size","date","author","icon","reject","action","length","payload","FormData","Object","entries","forEach","key","undefined","append","requestPromise","BX","ajax","runComponentAction","mode","TIMEOUT_MS","timeoutId","timeoutPromise","_","setTimeout","race","clearTimeout","Application","mapState","methods","mapActions","mounted","then","response","console","log","PollCandidates","rootNode","options","createPinia","document","querySelector","self","BitrixVue","createApp","use","mount","setActivePinia","tableStore"],"mappings":"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"}