{"version":3,"file":"application.bundle.js","sources":["../src/stores/data.js","../src/stores/table.js","../src/stores/filter.js","../src/components/application.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    sessionid: '',\r\n    userid: '',\r\n  }),\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const tableStore = defineStore('table', {\r\n  state: () => {\r\n    return {\r\n      loading: false,\r\n      columnsNames: [],\r\n      items: {},\r\n      sort: {},\r\n      actions: {},\r\n    };\r\n  },\r\n  actions: {\r\n    runColumnsNames(data, callback) {\r\n      this.loading = true;\r\n      let a = window.BX.ajax.runComponentAction(\r\n        this.actions.columnsNames,\r\n        data\r\n      );\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loading = false;\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          this.loading = false;\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['filter-table']\r\n          ) {\r\n            resultFn(state, window.twinpx.vue['filter-table'].columnsNames);\r\n          } else {\r\n            //showError(error)\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.columnsNames = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    runItems(data, callback) {\r\n      this.loading = true;\r\n      let a = window.BX.ajax.runComponentAction(this.actions.items, data);\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loading = false;\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          this.loading = false;\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['filter-table']\r\n          ) {\r\n            resultFn(\r\n              state,\r\n              window.twinpx.vue['filter-table'].items(data.startIndex)\r\n            );\r\n          } else {\r\n            //showError(error)\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.items = data;\r\n\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    runDefaultSort(data, callback) {\r\n      let a = window.BX.ajax.runComponentAction(this.actions.defaultSort, data);\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['filter-table']\r\n          ) {\r\n            resultFn(state, window.twinpx.vue['filter-table'].defaultSort);\r\n          } else {\r\n            //showError(error)\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.sort = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    runSetDefaultSort(data, callback) {\r\n      let a = window.BX.ajax.runComponentAction(\r\n        this.actions.setDefaultSort,\r\n        data\r\n      );\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['filter-table']\r\n          ) {\r\n            resultFn(state, window.twinpx.vue['filter-table'].setDefaultSort);\r\n          } else {\r\n            //showError(error)\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.sort = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n  },\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const filterStore = defineStore('filter', {\r\n  state: () => ({\r\n    actions: {},\r\n    filters: [],\r\n  }),\r\n  actions: {\r\n    changeTextControlValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeSelectRadioValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeSelectDropdownValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeControlValue({ control, value, checked }) {\r\n      switch (control.property) {\r\n        case 'text':\r\n        case 'textarea':\r\n          this.changeTextControlValue({ control, value });\r\n          break;\r\n        // case 'multiselect':\r\n        //   commit('changeMultiselectValue', { control, value, checked });\r\n        //   break;\r\n        // case 'checkbox':\r\n        //   commit('changeCheckboxValue', { control, checked });\r\n        //   break;\r\n        case 'select':\r\n          this[\r\n            `changeSelect${control.type\r\n              .substring(0, 1)\r\n              .toUpperCase()}${control.type.substring(1).toLowerCase()}Value`\r\n          ]({ control, value });\r\n          break;\r\n        // case 'file':\r\n        //   commit('changeFileValue', { control, value });\r\n        //   break;\r\n        // case 'date':\r\n        //   commit('changeDateValue', { control, value });\r\n        //   break;\r\n        // case 'color':\r\n        //   commit('changeColorValue', { control, value });\r\n        //   break;\r\n      }\r\n    },\r\n    runFilters(data, callback) {\r\n      let a = window.BX.ajax.runComponentAction(this.actions.filters, data);\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['filter-table']\r\n          ) {\r\n            resultFn(state, window.twinpx.vue['filter-table'].filters);\r\n          } else {\r\n            //showError(error)\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.filters = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n  },\r\n});\r\n","import './application.css';\n\nimport { FilterComponent } from 'local.vue-components.filter';\nimport { TableComponent } from 'local.vue-components.table';\nimport { TablePagination } from 'local.vue-components.pagination';\n\nimport { mapState, mapActions } from 'ui.vue3.pinia';\nimport { dataStore } from '../stores/data';\nimport { tableStore } from '../stores/table';\nimport { filterStore } from '../stores/filter';\n\nexport const Application = {\n  data() {\n    return {};\n  },\n  components: {\n    FilterComponent,\n    TableComponent,\n    TablePagination,\n  },\n  // language=Vue\n  template: `\n    <div>\n      <FilterComponent :filters=\"filters\" @input=\"input\" />\n      <hr>\n      <TableComponent :cols=\"cols\" :columnsNames=\"columnsNames\" :items=\"items\" :sort=\"sort\" :maxCountPerRequest=\"maxCountPerRequest\" @clickTh=\"clickTh\" @clickPage=\"clickPage\" />\n      <hr>\n      <div class=\"vue-ft-table-bottom\">\n        <div class=\"vue-ft-table-all\" v-if=\"items.resultCount\">Всего: {{ items.resultCount }}</div>\n        <TablePagination :pagesNum=\"pagesNum\" :pageActive=\"pageActive\" @clickPage=\"clickPage\" />\n      </div>\n    </div>\n\t`,\n  computed: {\n    ...mapState(dataStore, ['sessionid', 'userid']),\n    ...mapState(tableStore, [\n      'loading',\n      'columnsNames',\n      'items',\n      'sort',\n      'cols',\n      'maxCountPerRequest',\n    ]),\n    ...mapState(filterStore, ['filters']),\n    pagesNum() {\n      return Math.ceil(this.items.resultCount / this.maxCountPerRequest);\n    },\n    pageActive() {\n      return this.items.startIndex / this.maxCountPerRequest + 1;\n    },\n  },\n  methods: {\n    ...mapActions(tableStore, [\n      'runColumnsNames',\n      'runItems',\n      'runDefaultSort',\n      'runSetDefaultSort',\n    ]),\n    ...mapActions(filterStore, ['runFilters', 'changeControlValue']),\n    clickTh({ column }) {\n      const sortType =\n        this.sort.columnSort === column.id && this.sort.sortType === 0 ? 1 : 0;\n\n      this.runSetDefaultSort(\n        {\n          userid: this.userid,\n          sessionid: this.sessionid,\n          columnSort: column.id,\n          sortType,\n        },\n        () => {\n          this.runItems({\n            userid: this.userid,\n            sessionid: this.sessionid,\n            startIndex: this.items.startIndex || 0,\n            maxCountPerRequest: this.maxCountPerRequest,\n            filters: [],\n            columnSort: 1,\n            sortType: 'asc',\n          });\n          this.runDefaultSort({\n            userid: this.userid,\n            sessionid: this.sessionid,\n          });\n        }\n      );\n    },\n    input({ control, value, checked }) {\n      this.changeControlValue({\n        control,\n        value,\n        checked,\n      });\n\n      this.runItems({\n        userid: this.userid,\n        sessionid: this.sessionid,\n        startIndex: this.items.startIndex || 0,\n        maxCountPerRequest: this.maxCountPerRequest,\n        filters: this.filters,\n        columnSort: this.sort.columnSort,\n        sortType: this.sort.sortType,\n      });\n    },\n    clickPage({ count }) {\n      this.runItems({\n        userid: this.userid,\n        sessionid: this.sessionid,\n        startIndex: (count - 1) * this.maxCountPerRequest,\n        maxCountPerRequest: this.maxCountPerRequest,\n        filters: this.filters,\n        columnSort: this.sort.columnSort,\n        sortType: this.sort.sortType,\n      });\n    },\n  },\n  mounted() {\n    this.runColumnsNames({\n      userid: this.userid,\n      sessionid: this.sessionid,\n    });\n\n    this.runDefaultSort(\n      {\n        userid: this.userid,\n        sessionid: this.sessionid,\n      },\n      () => {\n        this.runItems({\n          userid: this.userid,\n          sessionid: this.sessionid,\n          startIndex: this.items.startIndex || 0,\n          maxCountPerRequest: this.maxCountPerRequest,\n          filters: this.filters,\n          columnSort: this.sort.columnSort,\n          sortType: this.sort.sortType,\n        });\n      }\n    );\n\n    this.runFilters({\n      userid: this.userid,\n      sessionid: this.sessionid,\n    });\n  },\n};\n","import { BitrixVue } from 'ui.vue3';\nimport { Application } from './components/application';\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\nimport { dataStore } from './stores/data';\nimport { filterStore } from './stores/filter';\nimport { tableStore } from './stores/table';\n\nexport class FilterTable {\n  #store;\n  #rootNode;\n  #application;\n\n  constructor(rootNode, options): void {\n    this.#store = createPinia();\n    this.#rootNode = document.querySelector(rootNode);\n    this.options = options;\n  }\n\n  run(): void {\n    const self = this;\n\n    this.#application = BitrixVue.createApp({\n      name: 'Filter Table Application',\n      components: {\n        Application,\n      },\n      template: '<Application/>',\n      mounted() {\n        dataStore().sessionid = self.options.SESSION_ID;\n        dataStore().userid = self.options.USER_ID;\n\n        tableStore().cols = self.options.COLS;\n        tableStore().maxCountPerRequest = self.options.maxCountPerRequest;\n        tableStore().actions = {\n          columnsNames: self.options.columnsNames,\n          items: self.options.items,\n          defaultSort: self.options.defaultSort,\n          setDefaultSort: self.options.setDefaultSort,\n        };\n\n        filterStore().actions = {\n          filters: self.options.filters,\n        };\n      },\n    });\n\n    this.#application.use(this.#store);\n    this.#application.mount(this.#rootNode);\n  }\n\n  initStorageBeforeStartApplication(): void {\n    setActivePinia(this.#store);\n  }\n\n  getTableStore(): Object {\n    return tableStore;\n  }\n}\n"],"names":["dataStore","defineStore","state","sessionid","userid","tableStore","loading","columnsNames","items","sort","actions","runColumnsNames","data","callback","a","window","BX","ajax","runComponentAction","then","result","resultFn","error","twinpx","vue","markup","runItems","startIndex","runDefaultSort","defaultSort","runSetDefaultSort","setDefaultSort","filterStore","filters","changeTextControlValue","control","value","changeSelectRadioValue","changeSelectDropdownValue","changeControlValue","checked","property","type","substring","toUpperCase","toLowerCase","runFilters","Application","components","FilterComponent","TableComponent","TablePagination","template","computed","mapState","pagesNum","Math","ceil","resultCount","maxCountPerRequest","pageActive","methods","mapActions","clickTh","column","sortType","columnSort","id","input","clickPage","count","mounted","FilterTable","rootNode","options","createPinia","document","querySelector","self","BitrixVue","createApp","name","SESSION_ID","USER_ID","cols","COLS","use","mount","setActivePinia"],"mappings":"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"}