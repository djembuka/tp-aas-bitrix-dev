{"version":3,"file":"application.bundle.js","sources":["../src/stores/data.js","../src/stores/result.js","../src/components/application.js","../src/components/the-navigation.js","../src/components/stepComponent.js","../src/components/the-buttons.js","../src/stores/application.js","../src/stores/controls.js","../src/pages/step.js","../src/components/resultItemComponent.js","../src/components/groupApplicationComponent.js","../src/pages/result.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    customData: {},\r\n    signedParameters: '',\r\n    lang: {},\r\n    actions: [],\r\n\r\n    error: '',\r\n    loading: false,\r\n    \r\n    steps: [\r\n      {\r\n        id: 'one',\r\n        name: 'Цель',\r\n        html: '<h3>Определите вашу цель</h3><p>Выберите необходимые вам требования и параметры аудиторской организации.</p>',\r\n        controls: [\r\n          {\r\n            \"property\": \"select\",\r\n            \"type\": \"dropdown\",\r\n            \"id\": \"id13\",\r\n            \"name\": \"PURPOSE\",\r\n            \"label\": \"Цель аудита\",\r\n            \"options\": [\r\n              {\r\n                \"label\": \"molestias\",\r\n                \"code\": \"23423423423\"\r\n              },\r\n              {\r\n                \"label\": \"Farming\",\r\n                \"code\": \"324234324\"\r\n              },\r\n              {\r\n                \"label\": \"Very\",\r\n                \"code\": \"324234325\"\r\n              }\r\n            ],\r\n            \"value\": \"\",\r\n            \"disabled\": false\r\n          },\r\n          \r\n          {\r\n            \"property\": \"select\",\r\n            \"type\": \"dropdown\",\r\n            \"id\": \"id14\",\r\n            \"name\": \"TYPE\",\r\n            \"label\": \"Тип отчетности\",\r\n            \"options\": [\r\n              {\r\n                \"label\": \"molestias\",\r\n                \"code\": \"23423423423\"\r\n              },\r\n              {\r\n                \"label\": \"Farming\",\r\n                \"code\": \"324234324\"\r\n              },\r\n              {\r\n                \"label\": \"Very\",\r\n                \"code\": \"324234325\"\r\n              }\r\n            ],\r\n            \"value\": \"\",\r\n            \"disabled\": false\r\n          }\r\n        ],\r\n      },\r\n      {\r\n        id: 'two',\r\n        name: 'Сроки',\r\n        html: '<h3>Определите сроки</h3><p>Определите ваши требования к срокам проведения аудита.</p>',\r\n        controls: [\r\n          {\r\n            \"id\": \"id21\",\r\n            \"property\": \"text\",\r\n            \"name\": \"PERIOD\",\r\n            \"label\": \"Период аудита\",\r\n            \"value\": \"\",\r\n            \"required\": false,\r\n            \"disabled\": false,\r\n            \"hint_external\": 'Определите период за который будет проводится аудит.'\r\n          },\r\n          {\r\n            \"id\": \"id22\",\r\n            \"property\": \"text\",\r\n            \"name\": \"TIME\",\r\n            \"label\": \"Сколько времени есть на проведение аудита\",\r\n            \"value\": \"\",\r\n            \"required\": false,\r\n            \"disabled\": false,\r\n            \"hint_external\": 'Определите ограничения по срокам проведения аудита.'\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id23\",\r\n            \"name\": \"URGENT\",\r\n            \"required\": false,\r\n            \"label\": \"Требуется срочная проверка\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'three',\r\n        name: 'Размер бизнеса',\r\n        html: '<h3>Уточните размер вашего бизнеса</h3><p>Для определения критериев компании уточните параметры вашего бизнеса.</p>',\r\n        controls: [\r\n          {\r\n            \"id\": \"id31\",\r\n            \"property\": \"text\",\r\n            \"name\": \"REVENUE\",\r\n            \"label\": \"Выручка\",\r\n            \"value\": \"\",\r\n            \"required\": false,\r\n            \"disabled\": false,\r\n            \"hint_external\": 'Укажите выручку в миллионах рублей.'\r\n          },\r\n          {\r\n            \"id\": \"id32\",\r\n            \"property\": \"text\",\r\n            \"name\": \"ASSETS\",\r\n            \"label\": \"Объем активов\",\r\n            \"value\": \"\",\r\n            \"required\": false,\r\n            \"disabled\": false,\r\n            \"hint_external\": 'Укажите объем активов компании в миллионах рублей.'\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id33\",\r\n            \"name\": \"ISSUER\",\r\n            \"required\": false,\r\n            \"label\": \"Эмитент\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id34\",\r\n            \"name\": \"MEMBER\",\r\n            \"required\": false,\r\n            \"label\": \"Участник госзакупок\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id35\",\r\n            \"name\": \"INFO\",\r\n            \"required\": false,\r\n            \"label\": \"Наличие требования к раскрытию информации\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"id\": \"id36\",\r\n            \"property\": \"text\",\r\n            \"name\": \"REGION\",\r\n            \"label\": \"Регион или город, где находится заказчик\",\r\n            \"value\": \"\",\r\n            \"required\": false,\r\n            \"disabled\": false,\r\n            \"hint_external\": 'Укажите название вашего города или населенного пункта.'\r\n          },\r\n        ]\r\n      },\r\n      {\r\n        id: 'four',\r\n        name: 'Требования',\r\n        html: '<h3>Сформулируйте требования</h3><p>Укажите требования к аудиторской организации, которые могут влиять на ограничения к доступу.</p>',\r\n        controls: [\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id41\",\r\n            \"name\": \"EXPERIENCE\",\r\n            \"required\": false,\r\n            \"label\": \"Опыт работы с иностранными структурами\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id42\",\r\n            \"name\": \"INTERNATIONAL\",\r\n            \"required\": false,\r\n            \"label\": \"Входит в международные сети\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id43\",\r\n            \"name\": \"SECRET\",\r\n            \"required\": false,\r\n            \"label\": \"Доступ к гос. тайне\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id44\",\r\n            \"name\": \"SERVICE\",\r\n            \"required\": false,\r\n            \"label\": \"Оказание аудиторских услуг общественно значимым организациям на финансовом рынке\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n        ]\r\n      },\r\n      {\r\n        id: 'five',\r\n        name: 'Дополнительно',\r\n        html: '<h3>Дополнительные требования</h3><p>Укажите требования к аудиторской организации, которые могут влиять на ограничения к доступу.</p>',\r\n        controls: [\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id51\",\r\n            \"name\": \"ENGLISH\",\r\n            \"required\": false,\r\n            \"label\": \"Необходимость в англоязычном сопровождении\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n        ]\r\n      },\r\n    ]\r\n  }),\r\n  actions: {\r\n    setStepActive({ step, active }) {\r\n      step.active = active;\r\n    },\r\n    changeError(value) {\r\n      this.error = value;\r\n    },\r\n    changeLoading(value) {\r\n      this.loading = value;\r\n    },\r\n    createUrl(controls) {\r\n        const url = new URL(window.location.href);\r\n        controls.forEach(c => {\r\n            url.searchParams.set(c.name, String(c.value));\r\n        });\r\n        window.history.pushState({}, '', url);\r\n    },\r\n    runApiMethod(method = 'applicationTemplate', data = {}, formData) {\r\n\r\n      if (formData) {\r\n        Object.entries(this.customData).forEach((key,value) => {\r\n          formData.append(key, value);\r\n        });\r\n      }\r\n      \r\n      return BX.ajax.runComponentAction(this.actions[method][0], this.actions[method][1], {\r\n        mode: 'class',\r\n        data: formData || {\r\n          ...this.customData,\r\n          ...data\r\n        },\r\n        signedParameters: this.signedParameters\r\n      })\r\n    },\r\n  }\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const resultStore = defineStore('result', {\r\n  state: () => ({\r\n    formIdArray: [],\r\n    formDataArray: [],\r\n    startIndex: 0,\r\n    maxCountPerRequest: 3,\r\n    loadingMore: false\r\n  }),\r\n  getters: {\r\n    groupApplicationArray(state) {\r\n      return state.formDataArray\r\n        .filter(d => d.checkbox.checked)\r\n        .map(d => d.id);\r\n    }\r\n  },\r\n  actions: {\r\n    setFormIdArray(data) {\r\n        this.formIdArray = data;\r\n    },\r\n    setFormDataArray(data) {\r\n        this.formDataArray = this.formDataArray.concat(data);\r\n    },\r\n    setStartIndex(value) {\r\n      this.startIndex = value;\r\n    },\r\n    setMaxCountPerRequest(value) {\r\n      this.maxCountPerRequest = value;\r\n    },\r\n    changeLoadingMore(value) {\r\n      this.loadingMore = value;\r\n    }\r\n  }});","import './application.css';\r\n\r\nimport { mapState } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\n\r\nexport const Application = {\r\n  template: `\r\n    <router-view />\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, ['sessid', 'signedParameters']),\r\n  },\r\n  mounted() {},\r\n};\r\n","import './navigation.css';\r\n\r\nexport const TheNavigation = {\r\n    data(){\r\n        return {}\r\n    },\r\n    props: ['groups'],\r\n    emits: ['clickNavItem'],\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-nav\">\r\n            <div class=\"twpx-vue-marketplace-nav-items\">\r\n                <div\r\n                    :class=\"{'twpx-vue-marketplace-nav__item': true, 'twpx-vue-marketplace-nav__item--active': isGroupActive(groupIndex)}\"\r\n                    v-for=\"(group, groupIndex) in groups\"\r\n                    :key=\"group.id\"\r\n                    @click.prevent=\"click(group)\">\r\n                        {{ group.label }}\r\n                </div>\r\n            </div>\r\n            <div :class=\"{'twpx-vue-marketplace-nav-line': true, 'twpx-vue-marketplace-nav-line--full': lineWidth === '100%'}\">\r\n                <div :style=\"'width: ' + lineWidth\"></div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    computed: {\r\n        currentIndex() {\r\n            const index =  this.groups.findIndex(s => String(s.id) === String(this.$route.params.id)) || 0;\r\n            return index === -1 ? 0 : index;\r\n        },\r\n        lineWidth() {\r\n            return ((this.currentIndex + 1) * 100 / this.groups.length) + '%';\r\n        }\r\n    },\r\n    methods: {\r\n        click(group) {\r\n            this.$emit('clickNavItem', {group});\r\n        },\r\n        isGroupActive(groupIndex) {\r\n            return groupIndex <= this.currentIndex;\r\n        },\r\n    },\r\n}","import { ControlComponent } from 'local.vue-components.control-component';\r\n\r\nexport const StepComponent = {\r\n    props: ['step'],\r\n    emits: ['input', 'hints'],\r\n    components: {\r\n        ControlComponent\r\n    },\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-application-html\" v-if=\"step.title || step.subtitle\">\r\n            <h3 v-if=\"step.title\">{{ step.title }}</h3>\r\n            <p v-if=\"step.subtitle\">{{ step.subtitle }}</p>\r\n        </div>\r\n\r\n        <div class=\"twpx-vue-marketplace-application-controls\">\r\n            <ControlComponent v-for=\"control in step.controls\" :key=\"control.id\" :control=\"control\" @input=\"input\" @hints=\"hints\" />\r\n        </div>\r\n    `,\r\n    methods: {\r\n        input(args) {\r\n            this.$emit('input', args);\r\n        },\r\n        hints(args) {\r\n            console.log(args)\r\n            this.$emit('hints', args);\r\n        }\r\n    }\r\n};","import './buttons.css';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const TheButtons = {\r\n  props: ['groups', 'step', 'lang'],\r\n  emits: ['send'],\r\n  components: {\r\n    ButtonComponent,\r\n  },\r\n  template: `\r\n        <div class=\"twpx-vue-marketplace-buttons\">\r\n            <ButtonComponent :text=\"lang.prevButton\" :props=\"['gray-color','large']\" @clickButton=\"goBack\" v-if=\"currentIndex > 0\" />\r\n            <ButtonComponent :text=\"lang.nextButton\" :props=\"['secondary','large']\" :disabled=\"isDisabled\" @clickButton=\"goForward\" v-if=\"currentIndex < groups.length - 1\" />\r\n            <ButtonComponent :text=\"lang.sendButton\" :props=\"['secondary','large']\" :disabled=\"isDisabled\" @clickButton=\"$emit('send')\" v-if=\"currentIndex == groups.length - 1\" />\r\n        </div>\r\n    `,\r\n  computed: {\r\n    currentIndex() {\r\n      return this.$route.params.id\r\n        ? this.groups.findIndex(\r\n            (s) => String(s.id) === String(this.$route.params.id)\r\n          )\r\n        : 0;\r\n    },\r\n    isDisabled() {\r\n      if (this.step.controls && this.step.controls.find) {\r\n        return this.step.controls.find(\r\n          (c) => c.property !== 'checkbox' && c.required && !c.value\r\n        );\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      const group = this.groups[this.currentIndex - 1];\r\n      if (group) {\r\n        this.$router.push(`/step/${group.id}`);\r\n      }\r\n    },\r\n    goForward() {\r\n      const group = this.groups[this.currentIndex + 1];\r\n      if (group) {\r\n        this.$router.push(`/step/${group.id}`);\r\n      }\r\n    },\r\n  },\r\n};\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const applicationStore = defineStore('application', {\r\n    state: () => ({\r\n        applicationControls: [],\r\n        applicationGroups: []\r\n    }),\r\n    actions: {\r\n        setStepActive({ step, active }) {\r\n            step.active = active;\r\n        },\r\n        changeApplicationControls(controls) {\r\n            this.applicationControls = controls.map(c => {\r\n                if (c.required) {\r\n                    c.label = `${c.label} *`;\r\n                }\r\n                return c;\r\n            });\r\n        },\r\n        changeApplicationGroups(groups) {\r\n            this.applicationGroups = groups;\r\n        },\r\n    }\r\n});","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const controlsStore = defineStore('controls', {\r\n  state: () => ({\r\n    controls: []\r\n  }),\r\n  actions: {\r\n    changeControls(controls) {\r\n        this.controls = controls;\r\n    },\r\n    changeTextControlValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeSelectRadioValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeSelectDropdownValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeDateValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeCheckboxValue({ control, checked }) {\r\n        control.checked = checked;\r\n    },\r\n    changeFileValue({ control, value }) {\r\n        control.value = value;\r\n        if (control.type === 'upload') {\r\n        this.uploadFile(control, value);\r\n        }\r\n    },\r\n    changeControlValue({ control, value, checked }) {\r\n        switch (control.property) {\r\n        case 'text':\r\n        case 'textarea':\r\n        case 'hint':\r\n        case 'tel':\r\n        case 'email':\r\n        case 'num':\r\n            this.changeTextControlValue({ control, value });\r\n            break;\r\n        // case 'multiselect':\r\n        //   commit('changeMultiselectValue', { control, value, checked });\r\n        //   break;\r\n        case 'checkbox':\r\n          this.changeCheckboxValue({ control, checked });\r\n          break;\r\n        case 'select':\r\n            this[\r\n            `changeSelect${control.type\r\n                .substring(0, 1)\r\n                .toUpperCase()}${control.type.substring(1).toLowerCase()}Value`\r\n            ]({ control, value });\r\n            break;\r\n        case 'file':\r\n            this.changeFileValue({ control, value });\r\n            break;\r\n        case 'date':\r\n            this.changeDateValue({ control, value });\r\n            break;\r\n        // case 'color':\r\n        //   commit('changeColorValue', { control, value });\r\n        //   break;\r\n        }\r\n    },\r\n    async runHintsAction({control, action}) {\r\n        const url = new URL(action, window.location.origin);\r\n        url.searchParams.append('s', control.value);\r\n\r\n        try {\r\n        // Создаем AbortController для возможности отмены запроса\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 20000); // 20 секунд таймаут\r\n\r\n        const response = await fetch(url, {\r\n            signal: controller.signal,\r\n            headers: {\r\n            'Content-Type': 'application/json',\r\n            },\r\n        });\r\n\r\n        clearTimeout(timeoutId);\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const result = await response.json();\r\n\r\n        if (result.status === 'success' && result.data) {\r\n            this.setHints(control, result.data);\r\n        } else if (result.errors) {\r\n            this.error = result.errors[0]?.message\r\n        } else {\r\n            this.error = 'Invalid response format';\r\n        }\r\n        } catch (error) {\r\n            this.error = error?.message\r\n        }\r\n    },\r\n    setHints(control, value) {\r\n        control.hints = value;\r\n    },\r\n  }\r\n});","import { TheNavigation } from '../components/the-navigation';\r\nimport { StepComponent } from '../components/stepComponent'\r\nimport { TheButtons } from '../components/the-buttons';\r\n\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\nimport { LoaderCircle } from 'local.vue-components.loader-circle';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\nimport { applicationStore } from '../stores/application';\r\nimport { controlsStore } from '../stores/controls';\r\nimport { resultStore } from '../stores/result';\r\n\r\nexport const Step = {\r\n    components: {\r\n        TheNavigation,\r\n        StepComponent,\r\n        TheButtons,\r\n        MessageComponent,\r\n        LoaderCircle\r\n    },\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-application\">\r\n\r\n            <LoaderCircle :show=\"loading\" />\r\n\r\n            <MessageComponent type=\"error\" size=\"big\" :message=\"error\" v-if=\"!loading && error\" />\r\n\r\n            <div v-if=\"!loading\" class=\"twpx-vue-marketplace-application__content\">\r\n\r\n                <h2>{{ lang.application.heading }}</h2>\r\n\r\n                <TheNavigation :groups=\"applicationGroups\" @clickNavItem=\"clickNavItem\" />\r\n\r\n                <StepComponent :step=\"step\" @input=\"input\" @hints=\"hints\" />\r\n\r\n                <TheButtons :groups=\"applicationGroups\" :step=\"step\" :lang=\"lang.application\" @send=\"send\" />\r\n\r\n            </div>\r\n\r\n        </div>\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n            'lang',\r\n            'steps',\r\n            'error',\r\n            'loading'\r\n        ]),\r\n        ...mapState(applicationStore, [\r\n            'applicationControls',\r\n            'applicationGroups'\r\n        ]),\r\n        step() {\r\n            const groupId = this.$route.params.id || (this.applicationGroups.length ? this.applicationGroups[0].id : undefined);\r\n            const group = this.applicationGroups.find(g => String(g.id) === String(groupId));\r\n            const controls = this.applicationControls.filter(c => String(c.groupid) === String(groupId));\r\n            \r\n            return controls.length ?\r\n                {\r\n                    id: groupId,\r\n                    title: group.title,\r\n                    subtitle: group.subtitle,\r\n                    controls\r\n                }\r\n                : {};\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions(dataStore, [\r\n            'runApiMethod',\r\n            'changeError',\r\n            'changeLoading',\r\n            'createUrl'\r\n        ]),\r\n        ...mapActions(applicationStore, [\r\n            'changeApplicationControls',\r\n            'changeApplicationGroups'\r\n        ]),\r\n        ...mapActions(controlsStore, [\r\n            'changeControlValue',\r\n            'runHintsAction',\r\n            'setHints'\r\n        ]),\r\n        ...mapActions(resultStore, [\r\n            'setFormTemplate',\r\n            'setFormDataArray'\r\n        ]),\r\n        clickNavItem({group}) {\r\n            this.$router.push(`/step/${group.id}`);\r\n        },\r\n        showError(response, method) {\r\n            this.changeLoading(false);\r\n            if (response && response.errors.length) {\r\n                this.changeError(`${method ? method + ' - ' : ''}${response.errors[0].message}`);\r\n            }\r\n        },\r\n        send() {\r\n            this.changeLoading(true);\r\n            this.changeError('');\r\n\r\n            const controls = this.applicationControls.slice();\r\n            controls.forEach(c => {\r\n                if (c.property === 'date' && c.type === 'range') {\r\n                    c.value = `${c.value[0]}-${c.value[1]}`\r\n                }\r\n            });\r\n\r\n            this.runApiMethod('applicationSave', {fields: controls})\r\n                .then(\r\n                    (response) => {\r\n                        return this.runApiMethod('searchForms', {applicationID: response?.data?.applicationID})\r\n                    },\r\n                    (r) => {this.showError(r, 'applicationSave')}\r\n                )\r\n                .then(\r\n                    (response) => {\r\n                        this.setFormIdArray(response.data);\r\n\r\n                        this.createUrl(this.applicationControls);\r\n                        this.$router.push(`/result`);\r\n                    },\r\n                    (r) => {this.showError(r, 'searchForms')}\r\n                )\r\n        },\r\n        input(args) {\r\n            this.changeControlValue(args)\r\n        },\r\n        hints({ type, control, action, value }) {\r\n            switch (type) {\r\n                case 'get':\r\n                    this.runHintsAction({\r\n                        control,\r\n                        action,\r\n                    });\r\n                    break;\r\n                case 'set':\r\n                    this.setHints({\r\n                        control,\r\n                        value,\r\n                    });\r\n                    break;\r\n            }\r\n        },\r\n    },\r\n    mounted() {\r\n        this.changeLoading(true);\r\n        this.changeError('');\r\n\r\n        this.runApiMethod('applicationGroups')\r\n            .then(\r\n                (response) => {\r\n                    this.changeApplicationGroups(response.data);\r\n\r\n                    return this.runApiMethod('applicationTemplate');\r\n                },\r\n                (r) => {this.showError(r, 'applicationGroups')}\r\n            )\r\n            .then(\r\n                (response) => {\r\n                    this.changeLoading(false);\r\n                    this.changeError('');\r\n                    this.changeApplicationControls(response.data);\r\n                },\r\n                (r) => {this.showError(r, 'applicationTemplate')}\r\n            );\r\n    }\r\n}","import './result.css'\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\nimport { ControlComponent } from 'local.vue-components.control-component';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\nimport { resultStore } from '../stores/result';\r\n\r\nexport const ResultItemComponent = {\r\n    data() {\r\n        return {\r\n            s: false\r\n        }\r\n    },\r\n    components: {\r\n        ButtonComponent,\r\n        ControlComponent\r\n    },\r\n    props: ['company'],\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-company\" :data-id=\"company.id\">\r\n            <div class=\"twpx-vue-marketplace-company__text\">\r\n                <h3 v-if=\"companyName\" v-html=\"companyName\"></h3>\r\n                <p v-if=\"companyDescription\">{{ companyDescription }}</p>\r\n            </div>\r\n            <div class=\"twpx-vue-marketplace-company__properties\">\r\n                <div class=\"twpx-vue-marketplace-company__props\">\r\n                    <div class=\"twpx-vue-marketplace-company__prop\" v-for=\"prop in getProperties().slice(0,6)\" :key=\"prop.id\">\r\n                        <b>{{ prop.label }}</b>\r\n                        <span v-html=\"getValue(prop)\"></span>\r\n                    </div>\r\n                    <TransitionGroup name=\"list\">\r\n                        <div class=\"twpx-vue-marketplace-company__prop\" v-for=\"prop in getProperties().slice(6)\" :key=\"prop.id\" v-show=\"s\">\r\n                            <b>{{ prop.label }}</b>\r\n                            <span v-html=\"getValue(prop)\"></span>\r\n                        </div>\r\n                    </TransitionGroup>\r\n                </div>\r\n                <ButtonComponent :text=\"lang.result.moreProps\" :props=\"['serve', 'small']\" @clickButton=\"moreProperties\" />\r\n            </div>\r\n            <div class=\"twpx-vue-marketplace-company__buttons\">\r\n                <ButtonComponent :text=\"lang.result.getButton\" :props=\"['icon-content', 'primary', 'medium']\" @clickButton=\"\" />\r\n                <div class=\"twpx-vue-marketplace-company__buttons__right\">\r\n                    <ControlComponent :control='company.checkbox' @input=\"input\" />\r\n                    <ButtonComponent :text=\"lang.result.sendButton\" :props=\"['secondary', 'medium']\" @clickButton=\"\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n            'lang',\r\n        ]),\r\n        ...mapState(resultStore, [\r\n            'formTemplate',\r\n            'formData',\r\n        ]),\r\n        dataObject() {\r\n            return this.company.data\r\n                .filter(d => String(d.value))\r\n                .forEach(d => {\r\n                    d.label = this.template[d.name];\r\n                });\r\n        },\r\n        companyName() {\r\n            const site = this.company.data.find(c => c.name === 'UF_SITE');\r\n            const name = this.company.data.find(c => c.name === 'UF_NAME');\r\n\r\n            if (site) {\r\n                return `<a href=\"${site.value}\">${name.value}</a>`;\r\n            }\r\n            return name?.value;\r\n        },\r\n        companyDescription() {\r\n            return this.company.data.find(c => c.name === 'UF_DESCRIPTION')?.value;\r\n        },\r\n    },\r\n    methods: {\r\n        getProperties() {\r\n            let result = this.company.data.slice();\r\n            result = result.filter(d => d.name !== 'UF_NAME' && d.name !== 'UF_DESCRIPTION');\r\n            result.sort((a, b) => Number(a.sort) - Number(b.sort));\r\n\r\n            return result;\r\n        },\r\n        getValue(d) {\r\n            if (!d.value) {\r\n                return '-';\r\n            } else if (d.name === 'UF_SITE') {\r\n                let site = d.value;\r\n                if (!String(d.value).startsWith('http')) {\r\n                    site = `http://${d.value}`\r\n                }\r\n                return `<a href=\"${site}\" target=\"_blank\">${d.value}</a>`;\r\n            } else if (d.name === 'UF_EMAIL') {\r\n                return `<a href=\"mailto:${d.value}\">${d.value}</a>`;\r\n            } else if (d.name === 'UF_EGRUL_DATA') {\r\n                const s = d.value;\r\n                const date = new Date(s);\r\n                const dd = String(date.getDate()).padStart(2, \"0\");\r\n                const mm = String(date.getMonth() + 1).padStart(2, \"0\");\r\n                const yyyy = date.getFullYear();\r\n                const formatted = `${dd}.${mm}.${yyyy}`; // \"15.02.1996\"\r\n\r\n                return formatted;\r\n            }\r\n\r\n            return d.value;\r\n        },\r\n        moreProperties() {\r\n            this.s = true;\r\n        },\r\n    }\r\n};","import './result.css'\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\n\r\nexport const GroupApplicationComponent = {\r\n    components: {\r\n        ButtonComponent\r\n    },\r\n    props: ['groupApplicationArray'],\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-group-application\" v-if=\"groupApplicationArray.length > 0\">\r\n            <div class=\"twpx-vue-marketplace-group-application__text\">\r\n                <h4>{{ lang.result.groupApplicationHeading }}</h4>\r\n                <div>{{ lang.result.groupApplicationText }}: {{ num }} {{ pluralizeOrganization(num) }}.</div>\r\n            </div>\r\n            <ButtonComponent :text=\"lang.result.sendButton\" :props=\"['secondary', 'medium']\" @clickButton=\"getGroup\" />\r\n        </div>\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n            'lang',\r\n        ]),\r\n        num() {\r\n            return this.groupApplicationArray.length\r\n        }\r\n    },\r\n    methods: {\r\n        getGroup() {\r\n            console.log(this.groupApplicationArray)\r\n        },\r\n        pluralizeOrganization(n, forms = this.lang.result.groupApplicationCompany) {\r\n            const abs = Math.abs(n);\r\n            const mod10 = abs % 10;\r\n            const mod100 = abs % 100;\r\n            if (mod100 >= 11 && mod100 <= 14) return forms[2];\r\n            if (mod10 === 1) return forms[0];\r\n            if (mod10 >= 2 && mod10 <= 4) return forms[1];\r\n            return forms[2];\r\n        }\r\n    }\r\n};","import { MessageComponent } from 'local.vue-components.message-component';\r\nimport { LoaderCircle } from 'local.vue-components.loader-circle';\r\nimport { MoreButton } from 'local.vue-components.more-button';\r\n\r\nimport { ResultItemComponent } from '../components/resultItemComponent'\r\nimport { GroupApplicationComponent } from '../components/groupApplicationComponent'\r\n\r\nimport { dataStore } from '../stores/data';\r\nimport { resultStore } from '../stores/result';\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\n\r\nexport const Result = {\r\n    components: {\r\n        MessageComponent,\r\n        LoaderCircle,\r\n        MoreButton,\r\n        ResultItemComponent,\r\n        GroupApplicationComponent,\r\n    },\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-result\">\r\n\r\n            <LoaderCircle :show=\"loading\" />\r\n\r\n            <MessageComponent type=\"error\" size=\"big\" :message=\"error\" v-if=\"!loading && error\" />\r\n\r\n            <div v-if=\"!loading\" class=\"twpx-vue-marketplace-result__content\">\r\n\r\n                <h2>{{ lang.result.heading }}</h2>\r\n\r\n                <ResultItemComponent v-for=\"company in formDataArray\" :key=\"company.id\" :company=\"company\" />\r\n\r\n                <MoreButton :loading=\"loadingMore\" :show=\"showMore\" @clickMore=\"clickMore\" />\r\n\r\n                <GroupApplicationComponent :groupApplicationArray=\"groupApplicationArray\" />\r\n\r\n            </div>\r\n\r\n        </div>\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n            'lang',\r\n            'error',\r\n            'loading'\r\n        ]),\r\n        ...mapState(resultStore, [\r\n            'formIdArray',\r\n            'formDataArray',\r\n            'groupApplicationArray',\r\n            'startIndex',\r\n            'maxCountPerRequest',\r\n            'loadingMore'\r\n        ]),\r\n        showMore() {\r\n            return this.startIndex < this.formIdArray.length\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions(dataStore, [\r\n            'runApiMethod',\r\n            'changeError',\r\n            'changeLoading',\r\n        ]),\r\n        ...mapActions(resultStore, [\r\n            'setFormIdArray',\r\n            'setFormDataArray',\r\n            'setStartIndex',\r\n            'setMaxCountPerRequest',\r\n            'changeLoadingMore',\r\n        ]),\r\n        clickMore() {\r\n            this.loadNextPage();\r\n        },\r\n        loadNextPage() {\r\n            this.changeLoadingMore(true);\r\n            try {\r\n                const requestArr = this.formIdArray.slice(this.startIndex, this.startIndex + this.maxCountPerRequest).map((formID) => {\r\n                    return this.runApiMethod('formData', {code: formID});\r\n                });\r\n\r\n                Promise.all(requestArr)\r\n                    .then((formDataArray) => {\r\n                        this.setFormDataArray(formDataArray.map((r, i) => {\r\n                            return {\r\n                                id: this.formIdArray[i],\r\n                                data: r.data,\r\n                                checkbox: {\r\n                                    \"property\": \"checkbox\",\r\n                                    \"type\": \"block\",\r\n                                    \"id\": Math.floor(Math.random()*1000),\r\n                                    \"name\": \"APPLICATION_GROUP\",\r\n                                    \"required\": false,\r\n                                    \"label\": this.lang.result.checkboxLable,\r\n                                    \"value\": this.formIdArray[i],\r\n                                    \"checked\": false,\r\n                                }\r\n                            }\r\n                        }));\r\n                        this.changeLoading(false);\r\n                        this.changeLoadingMore(false);\r\n                        this.setStartIndex(this.startIndex + this.maxCountPerRequest);\r\n                    },\r\n                    (r) => {\r\n                        console.log('formData error: ', r)\r\n                        this.changeLoading(false);\r\n                        if (r && r.errors.length) {\r\n                            this.changeError(`searchForms - ${response.errors[0].message}`);\r\n                        }\r\n                    }\r\n                );\r\n            } catch(err) {\r\n                throw err;\r\n            }\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.changeLoading(true);\r\n        this.loadNextPage();\r\n    }\r\n}","import { BitrixVue } from 'ui.vue3';\r\nimport { createRouter, createMemoryHistory } from 'ui.vue3.router';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\n\r\nimport { dataStore } from './stores/data';\r\nimport { resultStore } from './stores/result';\r\n\r\nimport { Application } from './components/application';\r\nimport { Step } from './pages/step';\r\nimport { Result } from './pages/result';\r\n\r\nexport class Marketplace {\r\n  #store;\r\n  #router;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options) {\r\n    this.#store = createPinia();\r\n    this.#router = createRouter({\r\n      history: createMemoryHistory(),\r\n      routes: [\r\n        {\r\n          path: '/',\r\n          component: Step,\r\n          alias: '/step'\r\n        },\r\n        {\r\n          path: '/step/:id',\r\n          component: Step,\r\n        },\r\n        {\r\n          path: '/result',\r\n          component: Result,\r\n        },\r\n      ],\r\n    });\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run() {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Marketplace Application',\r\n      components: {\r\n        Application\r\n      },\r\n      template: '<Application />',\r\n      beforeMount() {\r\n        dataStore().customData = self.options.data || {};\r\n        dataStore().signedParameters = self.options.signedParameters || '';\r\n\r\n        dataStore().lang = self.options.lang || {};\r\n        dataStore().actions = self.options.actions || [];\r\n\r\n        resultStore().maxCountPerRequest = self.options.maxCountPerRequest || 3;\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.use(this.#router);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication() {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getTableStore() {\r\n    return tableStore;\r\n  }\r\n}\r\n"],"names":["dataStore","defineStore","state","customData","signedParameters","lang","actions","error","loading","steps","id","name","html","controls","setStepActive","step","active","changeError","value","changeLoading","createUrl","url","URL","window","location","href","forEach","c","searchParams","set","String","history","pushState","runApiMethod","method","data","formData","Object","entries","key","append","BX","ajax","runComponentAction","mode","resultStore","formIdArray","formDataArray","startIndex","maxCountPerRequest","loadingMore","getters","groupApplicationArray","filter","d","checkbox","checked","map","setFormIdArray","setFormDataArray","concat","setStartIndex","setMaxCountPerRequest","changeLoadingMore","Application","template","computed","mapState","mounted","TheNavigation","props","emits","currentIndex","index","groups","findIndex","s","$route","params","lineWidth","length","methods","click","group","$emit","isGroupActive","groupIndex","StepComponent","components","ControlComponent","input","args","hints","console","log","TheButtons","ButtonComponent","isDisabled","find","property","required","goBack","$router","push","goForward","applicationStore","applicationControls","applicationGroups","changeApplicationControls","label","changeApplicationGroups","controlsStore","changeControls","changeTextControlValue","control","changeSelectRadioValue","changeSelectDropdownValue","changeDateValue","changeCheckboxValue","changeFileValue","type","uploadFile","changeControlValue","substring","toUpperCase","toLowerCase","runHintsAction","action","origin","controller","AbortController","timeoutId","setTimeout","abort","fetch","signal","headers","response","clearTimeout","ok","Error","status","json","result","setHints","errors","message","Step","MessageComponent","LoaderCircle","groupId","undefined","g","groupid","title","subtitle","mapActions","clickNavItem","showError","send","slice","fields","then","applicationID","r","ResultItemComponent","dataObject","company","companyName","site","companyDescription","getProperties","sort","a","b","Number","getValue","startsWith","date","Date","dd","getDate","padStart","mm","getMonth","yyyy","getFullYear","formatted","moreProperties","GroupApplicationComponent","num","getGroup","pluralizeOrganization","n","forms","groupApplicationCompany","abs","Math","mod10","mod100","Result","MoreButton","showMore","clickMore","loadNextPage","requestArr","formID","code","Promise","all","i","floor","random","checkboxLable","err","Marketplace","rootNode","options","createPinia","createRouter","createMemoryHistory","routes","path","component","alias","document","querySelector","self","BitrixVue","createApp","beforeMount","use","mount","setActivePinia","tableStore"],"mappings":"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"}