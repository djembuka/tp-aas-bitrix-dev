{"version":3,"file":"application.bundle.js","sources":["../src/stores/data.js","../src/components/the-navigation.js","../src/components/the-buttons.js","../src/components/application.js","../src/pages/step.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    sessid: '',\r\n    signedParameters: '',\r\n    steps: [\r\n      {\r\n        id: 'one',\r\n        name: 'Цель',\r\n        html: '<h3>Определите вашу цель</h3><p>Выберите необходимы вам требования и параметры аудиторской организации.</p>',\r\n        controls: [\r\n          {\r\n            \"property\": \"select\",\r\n            \"type\": \"dropdown\",\r\n            \"id\": \"id13\",\r\n            \"name\": \"PURPOSE\",\r\n            \"label\": \"Цель аудита\",\r\n            \"options\": [\r\n              {\r\n                \"label\": \"molestias\",\r\n                \"code\": \"23423423423\"\r\n              },\r\n              {\r\n                \"label\": \"Farming\",\r\n                \"code\": \"324234324\"\r\n              },\r\n              {\r\n                \"label\": \"Very\",\r\n                \"code\": \"324234325\"\r\n              }\r\n            ],\r\n            \"value\": \"\",\r\n            \"disabled\": false\r\n          },\r\n          \r\n          {\r\n            \"property\": \"select\",\r\n            \"type\": \"dropdown\",\r\n            \"id\": \"id14\",\r\n            \"name\": \"TYPE\",\r\n            \"label\": \"Тип отчетности\",\r\n            \"options\": [\r\n              {\r\n                \"label\": \"molestias\",\r\n                \"code\": \"23423423423\"\r\n              },\r\n              {\r\n                \"label\": \"Farming\",\r\n                \"code\": \"324234324\"\r\n              },\r\n              {\r\n                \"label\": \"Very\",\r\n                \"code\": \"324234325\"\r\n              }\r\n            ],\r\n            \"value\": \"\",\r\n            \"disabled\": false\r\n          }\r\n        ],\r\n        active: true\r\n      },\r\n      {\r\n        id: 'two',\r\n        name: 'Сроки',\r\n      },\r\n      {\r\n        id: 'three',\r\n        name: 'Размер бизнеса',\r\n      },\r\n      {\r\n        id: 'four',\r\n        name: 'Требования',\r\n      },\r\n      {\r\n        id: 'five',\r\n        name: 'Дополнительно',\r\n      },\r\n    ]\r\n  }),\r\n  actions: {\r\n    setStepActive({ step, active }) {\r\n      step.active = active;\r\n    }\r\n  }\r\n});\r\n","import './navigation.css';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\n\r\nexport const TheNavigation = {\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-nav\">\r\n            <div class=\"twpx-vue-marketplace-nav-items\">\r\n                <div\r\n                    :class=\"{'twpx-vue-marketplace-nav__item': true, 'twpx-vue-marketplace-nav__item--active': step.active}\"\r\n                    v-for=\"step in steps\"\r\n                    :key=\"step.id\"\r\n                    @click.prevent=\"click(step)\">\r\n                        {{ step.name }}\r\n                </div>\r\n            </div>\r\n            <div class=\"twpx-vue-marketplace-nav-line\">\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    computed: {...mapState(dataStore, ['steps'])},\r\n    methods: {\r\n        ...mapActions(dataStore, ['setStepActive']),\r\n        click(step) {\r\n            this.$router.push(`/step/${step.id}`);\r\n\r\n            let before = true;\r\n            this.steps.forEach(s => {\r\n                if (String(s.id) === String(step.id)) {\r\n                    before = false;\r\n                    setStepActive({\r\n                        step: s,\r\n                        active: true\r\n                    });\r\n                } else {\r\n                    setStepActive({\r\n                        step: s,\r\n                        active: before\r\n                    });\r\n                }\r\n            })\r\n        }\r\n    }\r\n}","import { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const TheButtons = {\r\n    components: {\r\n        ButtonComponent\r\n    },\r\n    template: `\r\n        <div>\r\n            <ButtonComponent :text=\"$Bitrix.Loc.getMessage('TWPX_MARKETPLACE_BUTTON_NEXT')\" :props=\"['secondary','medium']\" @clickButton=\"\" />\r\n        </div>\r\n    `\r\n}","import './application.css';\r\n\r\nimport { TheNavigation } from './the-navigation';\r\nimport { ControlComponent } from 'local.vue-components.control-component';\r\nimport { TheButtons } from './the-buttons';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    TheNavigation,\r\n    ControlComponent,\r\n    TheButtons\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n    <div class=\"twpx-vue-marketplace\">\r\n      <h2>{{ $Bitrix.Loc.getMessage('TWPX_MARKETPLACE_H2') }}</h2>\r\n      <TheNavigation />\r\n      <router-view />\r\n      <div v-html=\"steps[0].html\"></div>\r\n      <div>\r\n        <ControlComponent v-for=\"control in steps[0].controls\" :key=\"control.id\" :control=\"control\" @input=\"input\" />\r\n      </div>\r\n      <TheButtons />\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, ['sessid', 'signedParameters', 'steps']),\r\n  },\r\n  methods: {\r\n    ...mapActions(dataStore, []),\r\n    one() {\r\n      console.log(this.$route.path)\r\n      console.log(this.$route.params.id)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.one()\r\n    // this.runColumnsNames({\r\n    //   mode: 'class',\r\n    //   data: {\r\n    //     signedParameters: this.signedParameters,\r\n    //     sessid: this.sessid,\r\n    //   },\r\n    // });\r\n\r\n    // this.runItems({\r\n    //   mode: 'class',\r\n    //   data: {\r\n    //     signedParameters: this.signedParameters,\r\n    //     sessid: this.sessid,\r\n    //     startIndex: this.items.startIndex || 0,\r\n    //     maxCountPerRequest: this.maxCountPerRequest,\r\n    //   },\r\n    // });\r\n  },\r\n};\r\n","export const Step = {\r\n    template: `\r\n        <div>Step id {{ $route.params.id }}</div>\r\n    `\r\n}","import { BitrixVue } from 'ui.vue3';\r\nimport { createRouter, createMemoryHistory } from 'ui.vue3.router';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\n\r\nimport { dataStore } from './stores/data';\r\n\r\nimport { Application } from './components/application';\r\nimport { Step } from './pages/step';\r\n\r\nexport class Marketplace {\r\n  #store;\r\n  #router;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options): void {\r\n    this.#store = createPinia();\r\n    this.#router = createRouter({\r\n      history: createMemoryHistory(),\r\n      routes: [\r\n        {\r\n          path: '/',\r\n          component: Step,\r\n          alias: '/step'\r\n        },\r\n        {\r\n          path: '/step/:id',\r\n          component: Step,\r\n        },\r\n      ],\r\n    });\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run(): void {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Marketplace Application',\r\n      components: {\r\n        Application\r\n      },\r\n      template: '<Application />',\r\n      beforeMount() {\r\n        dataStore().sessid = self.options.sessid || '';\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.use(this.#router);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication(): void {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getTableStore(): Object {\r\n    return tableStore;\r\n  }\r\n}\r\n"],"names":["dataStore","defineStore","state","sessid","signedParameters","steps","id","name","html","controls","active","actions","setStepActive","step","TheNavigation","template","computed","mapState","methods","mapActions","click","$router","push","before","forEach","s","String","TheButtons","components","ButtonComponent","Application","data","ControlComponent","one","console","log","$route","path","params","mounted","Step","Marketplace","rootNode","options","createPinia","createRouter","history","createMemoryHistory","routes","component","alias","document","querySelector","self","BitrixVue","createApp","beforeMount","use","mount","setActivePinia","tableStore"],"mappings":"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"}