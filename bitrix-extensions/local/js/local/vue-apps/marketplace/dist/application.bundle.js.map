{"version":3,"file":"application.bundle.js","sources":["../src/stores/data.js","../src/stores/result.js","../src/components/application.js","../src/components/the-navigation.js","../src/components/stepComponent.js","../src/components/the-buttons.js","../src/stores/application.js","../src/stores/controls.js","../src/pages/step.js","../src/components/resultItemComponent.js","../src/components/groupApplicationComponent.js","../src/pages/result.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    customData: {},\r\n    signedParameters: '',\r\n    lang: {},\r\n    actions: [],\r\n\r\n    error: '',\r\n    loading: false,\r\n    \r\n    steps: [\r\n      {\r\n        id: 'one',\r\n        name: 'Цель',\r\n        html: '<h3>Определите вашу цель</h3><p>Выберите необходимые вам требования и параметры аудиторской организации.</p>',\r\n        controls: [\r\n          {\r\n            \"property\": \"select\",\r\n            \"type\": \"dropdown\",\r\n            \"id\": \"id13\",\r\n            \"name\": \"PURPOSE\",\r\n            \"label\": \"Цель аудита\",\r\n            \"options\": [\r\n              {\r\n                \"label\": \"molestias\",\r\n                \"code\": \"23423423423\"\r\n              },\r\n              {\r\n                \"label\": \"Farming\",\r\n                \"code\": \"324234324\"\r\n              },\r\n              {\r\n                \"label\": \"Very\",\r\n                \"code\": \"324234325\"\r\n              }\r\n            ],\r\n            \"value\": \"\",\r\n            \"disabled\": false\r\n          },\r\n          \r\n          {\r\n            \"property\": \"select\",\r\n            \"type\": \"dropdown\",\r\n            \"id\": \"id14\",\r\n            \"name\": \"TYPE\",\r\n            \"label\": \"Тип отчетности\",\r\n            \"options\": [\r\n              {\r\n                \"label\": \"molestias\",\r\n                \"code\": \"23423423423\"\r\n              },\r\n              {\r\n                \"label\": \"Farming\",\r\n                \"code\": \"324234324\"\r\n              },\r\n              {\r\n                \"label\": \"Very\",\r\n                \"code\": \"324234325\"\r\n              }\r\n            ],\r\n            \"value\": \"\",\r\n            \"disabled\": false\r\n          }\r\n        ],\r\n      },\r\n      {\r\n        id: 'two',\r\n        name: 'Сроки',\r\n        html: '<h3>Определите сроки</h3><p>Определите ваши требования к срокам проведения аудита.</p>',\r\n        controls: [\r\n          {\r\n            \"id\": \"id21\",\r\n            \"property\": \"text\",\r\n            \"name\": \"PERIOD\",\r\n            \"label\": \"Период аудита\",\r\n            \"value\": \"\",\r\n            \"required\": false,\r\n            \"disabled\": false,\r\n            \"hint_external\": 'Определите период за который будет проводится аудит.'\r\n          },\r\n          {\r\n            \"id\": \"id22\",\r\n            \"property\": \"text\",\r\n            \"name\": \"TIME\",\r\n            \"label\": \"Сколько времени есть на проведение аудита\",\r\n            \"value\": \"\",\r\n            \"required\": false,\r\n            \"disabled\": false,\r\n            \"hint_external\": 'Определите ограничения по срокам проведения аудита.'\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id23\",\r\n            \"name\": \"URGENT\",\r\n            \"required\": false,\r\n            \"label\": \"Требуется срочная проверка\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'three',\r\n        name: 'Размер бизнеса',\r\n        html: '<h3>Уточните размер вашего бизнеса</h3><p>Для определения критериев компании уточните параметры вашего бизнеса.</p>',\r\n        controls: [\r\n          {\r\n            \"id\": \"id31\",\r\n            \"property\": \"text\",\r\n            \"name\": \"REVENUE\",\r\n            \"label\": \"Выручка\",\r\n            \"value\": \"\",\r\n            \"required\": false,\r\n            \"disabled\": false,\r\n            \"hint_external\": 'Укажите выручку в миллионах рублей.'\r\n          },\r\n          {\r\n            \"id\": \"id32\",\r\n            \"property\": \"text\",\r\n            \"name\": \"ASSETS\",\r\n            \"label\": \"Объем активов\",\r\n            \"value\": \"\",\r\n            \"required\": false,\r\n            \"disabled\": false,\r\n            \"hint_external\": 'Укажите объем активов компании в миллионах рублей.'\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id33\",\r\n            \"name\": \"ISSUER\",\r\n            \"required\": false,\r\n            \"label\": \"Эмитент\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id34\",\r\n            \"name\": \"MEMBER\",\r\n            \"required\": false,\r\n            \"label\": \"Участник госзакупок\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id35\",\r\n            \"name\": \"INFO\",\r\n            \"required\": false,\r\n            \"label\": \"Наличие требования к раскрытию информации\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"id\": \"id36\",\r\n            \"property\": \"text\",\r\n            \"name\": \"REGION\",\r\n            \"label\": \"Регион или город, где находится заказчик\",\r\n            \"value\": \"\",\r\n            \"required\": false,\r\n            \"disabled\": false,\r\n            \"hint_external\": 'Укажите название вашего города или населенного пункта.'\r\n          },\r\n        ]\r\n      },\r\n      {\r\n        id: 'four',\r\n        name: 'Требования',\r\n        html: '<h3>Сформулируйте требования</h3><p>Укажите требования к аудиторской организации, которые могут влиять на ограничения к доступу.</p>',\r\n        controls: [\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id41\",\r\n            \"name\": \"EXPERIENCE\",\r\n            \"required\": false,\r\n            \"label\": \"Опыт работы с иностранными структурами\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id42\",\r\n            \"name\": \"INTERNATIONAL\",\r\n            \"required\": false,\r\n            \"label\": \"Входит в международные сети\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id43\",\r\n            \"name\": \"SECRET\",\r\n            \"required\": false,\r\n            \"label\": \"Доступ к гос. тайне\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id44\",\r\n            \"name\": \"SERVICE\",\r\n            \"required\": false,\r\n            \"label\": \"Оказание аудиторских услуг общественно значимым организациям на финансовом рынке\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n        ]\r\n      },\r\n      {\r\n        id: 'five',\r\n        name: 'Дополнительно',\r\n        html: '<h3>Дополнительные требования</h3><p>Укажите требования к аудиторской организации, которые могут влиять на ограничения к доступу.</p>',\r\n        controls: [\r\n          {\r\n            \"property\": \"checkbox\",\r\n            \"type\": \"checkbox\",\r\n            \"id\": \"id51\",\r\n            \"name\": \"ENGLISH\",\r\n            \"required\": false,\r\n            \"label\": \"Необходимость в англоязычном сопровождении\",\r\n            \"value\": \"on\",\r\n            \"checked\": true,\r\n            \"disabled\": false,\r\n          },\r\n        ]\r\n      },\r\n    ]\r\n  }),\r\n  actions: {\r\n    setStepActive({ step, active }) {\r\n      step.active = active;\r\n    },\r\n    changeError(value) {\r\n      this.error = value;\r\n    },\r\n    changeLoading(value) {\r\n      this.loading = value;\r\n    },\r\n    createUrl(controls) {\r\n        const url = new URL(window.location.href);\r\n        controls.forEach(c => {\r\n            url.searchParams.set(c.name, String(c.value));\r\n        });\r\n        window.history.pushState({}, '', url);\r\n    },\r\n    runApiMethod(method = 'applicationTemplate', data = {}, formData) {\r\n\r\n      if (formData) {\r\n        Object.entries(this.customData).forEach((key,value) => {\r\n          formData.append(key, value);\r\n        });\r\n      }\r\n      \r\n      return BX.ajax.runComponentAction(this.actions[method][0], this.actions[method][1], {\r\n        mode: 'class',\r\n        data: formData || {\r\n          ...this.customData,\r\n          ...data\r\n        },\r\n        signedParameters: this.signedParameters\r\n      })\r\n    },\r\n  }\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const resultStore = defineStore('result', {\r\n  state: () => ({\r\n    formIdArray: [\r\n        'd4312f16-c2b4-45a4-b280-f85e62dd61a8',\r\n        'd4312f16-c2b4-45a4-b280-f85e62dd61a8',\r\n        'd4312f16-c2b4-45a4-b280-f85e62dd61a8',\r\n        'd4312f16-c2b4-45a4-b280-f85e62dd61a8'\r\n    ],\r\n    formDataArray: [],\r\n    startIndex: 0,\r\n    maxCountPerRequest: 3,\r\n    loadingMore: false\r\n  }),\r\n  getters: {\r\n    groupApplicationArray(state) {\r\n      return state.formDataArray\r\n        .filter(d => d.checkbox.checked)\r\n        .map(d => d.id);\r\n    }\r\n  },\r\n  actions: {\r\n    setFormIdArray(data) {\r\n        this.formIdArray = data;\r\n    },\r\n    setFormDataArray(data) {\r\n        this.formDataArray = this.formDataArray.concat(data);\r\n    },\r\n    setStartIndex(value) {\r\n      this.startIndex = value;\r\n    },\r\n    setMaxCountPerRequest(value) {\r\n      this.maxCountPerRequest = value;\r\n    },\r\n    changeLoadingMore(value) {\r\n      this.loadingMore = value;\r\n    }\r\n  }});","import './application.css';\r\n\r\nimport { mapState } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\n\r\nexport const Application = {\r\n  template: `\r\n    <router-view />\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, ['sessid', 'signedParameters']),\r\n  },\r\n  mounted() {},\r\n};\r\n","import './navigation.css';\r\n\r\nexport const TheNavigation = {\r\n    data(){\r\n        return {}\r\n    },\r\n    props: ['groups'],\r\n    emits: ['clickNavItem'],\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-nav\">\r\n            <div class=\"twpx-vue-marketplace-nav-items\">\r\n                <div\r\n                    :class=\"{'twpx-vue-marketplace-nav__item': true, 'twpx-vue-marketplace-nav__item--active': isGroupActive(groupIndex)}\"\r\n                    v-for=\"(group, groupIndex) in groups\"\r\n                    :key=\"group.id\"\r\n                    @click.prevent=\"click(group)\">\r\n                        {{ group.label }}\r\n                </div>\r\n            </div>\r\n            <div :class=\"{'twpx-vue-marketplace-nav-line': true, 'twpx-vue-marketplace-nav-line--full': lineWidth === '100%'}\">\r\n                <div :style=\"'width: ' + lineWidth\"></div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    computed: {\r\n        currentIndex() {\r\n            const index =  this.groups.findIndex(s => String(s.id) === String(this.$route.params.id)) || 0;\r\n            return index === -1 ? 0 : index;\r\n        },\r\n        lineWidth() {\r\n            return ((this.currentIndex + 1) * 100 / this.groups.length) + '%';\r\n        }\r\n    },\r\n    methods: {\r\n        click(group) {\r\n            this.$emit('clickNavItem', {group});\r\n        },\r\n        isGroupActive(groupIndex) {\r\n            return groupIndex <= this.currentIndex;\r\n        },\r\n    },\r\n}","import { ControlComponent } from 'local.vue-components.control-component';\r\n\r\nexport const StepComponent = {\r\n    props: ['step'],\r\n    emits: ['input'],\r\n    components: {\r\n        ControlComponent\r\n    },\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-application-html\" v-if=\"step.title || step.subtitle\">\r\n            <h3 v-if=\"step.title\">{{ step.title }}</h3>\r\n            <p v-if=\"step.subtitle\">{{ step.subtitle }}</p>\r\n        </div>\r\n\r\n        <div class=\"twpx-vue-marketplace-application-controls\">\r\n            <ControlComponent v-for=\"control in step.controls\" :key=\"control.id\" :control=\"control\" @input=\"input\" />\r\n        </div>\r\n    `,\r\n    methods: {\r\n        input(args) {\r\n            this.$emit('input', args);\r\n        }\r\n    }\r\n};","\r\nimport './buttons.css'\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const TheButtons = {\r\n    props: ['groups', 'lang'],\r\n    emits: ['send'],\r\n    components: {\r\n        ButtonComponent\r\n    },\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-buttons\">\r\n            <ButtonComponent :text=\"lang.prevButton\" :props=\"['gray-color','large']\" @clickButton=\"goBack\" v-if=\"currentIndex > 0\" />\r\n            <ButtonComponent :text=\"lang.nextButton\" :props=\"['secondary','large']\" @clickButton=\"goForward\" v-if=\"currentIndex < groups.length - 1\" />\r\n            <ButtonComponent :text=\"lang.sendButton\" :props=\"['secondary','large']\" @clickButton=\"$emit('send')\" v-if=\"currentIndex == groups.length - 1\" />\r\n        </div>\r\n    `,\r\n    computed: {\r\n        currentIndex() {\r\n            return this.$route.params.id ? this.groups.findIndex(s => String(s.id) === String(this.$route.params.id)) : 0;\r\n        }\r\n    },\r\n    methods: {\r\n        goBack() {\r\n            const group = this.groups[this.currentIndex - 1];\r\n            if (group) {\r\n                this.$router.push(`/step/${group.id}`);\r\n            }\r\n        },\r\n        goForward() {\r\n            const group = this.groups[this.currentIndex + 1];\r\n            if (group) {\r\n                this.$router.push(`/step/${group.id}`);\r\n            }\r\n        },\r\n        \r\n    }\r\n}","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const applicationStore = defineStore('application', {\r\n    state: () => ({\r\n        applicationControls: [],\r\n        applicationGroups: []\r\n    }),\r\n    actions: {\r\n        setStepActive({ step, active }) {\r\n            step.active = active;\r\n        },\r\n        changeApplicationControls(controls) {\r\n            this.applicationControls = controls;\r\n        },\r\n        changeApplicationGroups(groups) {\r\n            this.applicationGroups = groups;\r\n        },\r\n    }\r\n});","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const controlsStore = defineStore('controls', {\r\n  state: () => ({\r\n    controls: []\r\n  }),\r\n  actions: {\r\n    changeControls(controls) {\r\n      this.controls = controls;\r\n    },\r\n    changeTextControlValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeSelectRadioValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeSelectDropdownValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeDateValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeCheckboxValue({ control, checked }) {\r\n        control.checked = checked;\r\n    },\r\n    changeFileValue({ control, value }) {\r\n        control.value = value;\r\n        if (control.type === 'upload') {\r\n        this.uploadFile(control, value);\r\n        }\r\n    },\r\n    changeControlValue({ control, value, checked }) {\r\n        switch (control.property) {\r\n        case 'text':\r\n        case 'textarea':\r\n        case 'hint':\r\n        case 'tel':\r\n        case 'email':\r\n        case 'num':\r\n            this.changeTextControlValue({ control, value });\r\n            break;\r\n        // case 'multiselect':\r\n        //   commit('changeMultiselectValue', { control, value, checked });\r\n        //   break;\r\n        case 'checkbox':\r\n          this.changeCheckboxValue({ control, checked });\r\n          break;\r\n        case 'select':\r\n            this[\r\n            `changeSelect${control.type\r\n                .substring(0, 1)\r\n                .toUpperCase()}${control.type.substring(1).toLowerCase()}Value`\r\n            ]({ control, value });\r\n            break;\r\n        case 'file':\r\n            this.changeFileValue({ control, value });\r\n            break;\r\n        case 'date':\r\n            this.changeDateValue({ control, value });\r\n            break;\r\n        // case 'color':\r\n        //   commit('changeColorValue', { control, value });\r\n        //   break;\r\n        }\r\n    },\r\n    async runHints(control, action) {\r\n        try {\r\n        // Создаем AbortController для возможности отмены запроса\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 20000); // 20 секунд таймаут\r\n\r\n        const response = await fetch(action, {\r\n            signal: controller.signal,\r\n            headers: {\r\n            'Content-Type': 'application/json',\r\n            },\r\n        });\r\n\r\n        clearTimeout(timeoutId);\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const result = await response.json();\r\n\r\n        if (result.status === 'success' && result.data) {\r\n            this.setHints(control, result.data);\r\n        } else if (result.errors) {\r\n            this.error = result.errors[0]?.message\r\n        } else {\r\n            this.error = 'Invalid response format';\r\n        }\r\n        } catch (error) {\r\n        this.error = error?.message\r\n        }\r\n    },\r\n    setHints(control, value) {\r\n        control.hints = value;\r\n    },\r\n  }\r\n});","import { TheNavigation } from '../components/the-navigation';\r\nimport { StepComponent } from '../components/stepComponent'\r\nimport { TheButtons } from '../components/the-buttons';\r\n\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\nimport { LoaderCircle } from 'local.vue-components.loader-circle';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\nimport { applicationStore } from '../stores/application';\r\nimport { controlsStore } from '../stores/controls';\r\nimport { resultStore } from '../stores/result';\r\n\r\nexport const Step = {\r\n    components: {\r\n        TheNavigation,\r\n        StepComponent,\r\n        TheButtons,\r\n        MessageComponent,\r\n        LoaderCircle\r\n    },\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-application\">\r\n\r\n            <LoaderCircle :show=\"loading\" />\r\n\r\n            <MessageComponent type=\"error\" size=\"big\" :message=\"error\" v-if=\"!loading && error\" />\r\n\r\n            <div v-if=\"!loading\" class=\"twpx-vue-marketplace-application__content\">\r\n\r\n                <h2>{{ lang.application.heading }}</h2>\r\n\r\n                <TheNavigation :groups=\"applicationGroups\" @clickNavItem=\"clickNavItem\" />\r\n\r\n                <StepComponent :step=\"step\" @input=\"input\" />\r\n\r\n                <TheButtons :groups=\"applicationGroups\" :lang=\"lang.application\" @send=\"send\" />\r\n\r\n            </div>\r\n\r\n        </div>\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n            'lang',\r\n            'steps',\r\n            'error',\r\n            'loading'\r\n        ]),\r\n        ...mapState(applicationStore, [\r\n            'applicationControls',\r\n            'applicationGroups'\r\n        ]),\r\n        step() {\r\n            const groupId = this.$route.params.id || (this.applicationGroups.length ? this.applicationGroups[0].id : undefined);\r\n            const group = this.applicationGroups.find(g => String(g.id) === String(groupId));\r\n            const controls = this.applicationControls.filter(c => String(c.groupid) === String(groupId));\r\n            \r\n            return controls.length ?\r\n                {\r\n                    id: groupId,\r\n                    title: group.title,\r\n                    subtitle: group.subtitle,\r\n                    controls\r\n                }\r\n                : {};\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions(dataStore, [\r\n            'runApiMethod',\r\n            'changeError',\r\n            'changeLoading',\r\n            'createUrl'\r\n        ]),\r\n        ...mapActions(applicationStore, [\r\n            'changeApplicationControls',\r\n            'changeApplicationGroups'\r\n        ]),\r\n        ...mapActions(controlsStore, [\r\n            'changeControlValue'\r\n        ]),\r\n        ...mapActions(resultStore, [\r\n            'setFormTemplate',\r\n            'setFormDataArray'\r\n        ]),\r\n        clickNavItem({group}) {\r\n            this.$router.push(`/step/${group.id}`);\r\n        },\r\n        showError(response, method) {\r\n            this.changeLoading(false);\r\n            if (response && response.errors.length) {\r\n                this.changeError(`${method ? method + ' - ' : ''}${response.errors[0].message}`);\r\n            }\r\n        },\r\n        send() {\r\n            this.changeLoading(true);\r\n            this.changeError('');\r\n\r\n            const controls = this.applicationControls.slice();\r\n            controls.forEach(c => {\r\n                if (c.property === 'date' && c.type === 'range') {\r\n                    c.value = `${c.value[0]}-${c.value[1]}`\r\n                }\r\n            });\r\n\r\n            this.runApiMethod('applicationSave', {fields: controls})\r\n                .then(\r\n                    (response) => {\r\n                        return this.runApiMethod('searchForms', {applicationID: response?.data?.applicationID})\r\n                    },\r\n                    (r) => {this.showError(r, 'applicationSave')}\r\n                )\r\n                .then(\r\n                    (response) => {\r\n                        // this.setFormIdArray(response.data);\r\n                        this.setFormIdArray([\r\n                            'd4312f16-c2b4-45a4-b280-f85e62dd61a8',\r\n                            'd4312f16-c2b4-45a4-b280-f85e62dd61a8',\r\n                            'd4312f16-c2b4-45a4-b280-f85e62dd61a8',\r\n                            'd4312f16-c2b4-45a4-b280-f85e62dd61a8'\r\n                        ]);//!!!!!убрать когда будет готов метод\r\n\r\n                        this.createUrl(this.applicationControls);\r\n                        this.$router.push(`/result`);\r\n                    },\r\n                    (r) => {this.showError(r, 'searchForms')}\r\n                )\r\n        },\r\n        input(args) {\r\n            this.changeControlValue(args)\r\n        },\r\n    },\r\n    mounted() {\r\n        this.changeLoading(true);\r\n        this.changeError('');\r\n\r\n        this.runApiMethod('applicationGroups')\r\n            .then(\r\n                (response) => {\r\n                    this.changeApplicationGroups(response.data);\r\n                    console.log(this.applicationGroups);\r\n\r\n                    return this.runApiMethod('applicationTemplate');\r\n                },\r\n                (r) => {this.showError(r, 'applicationGroups')}\r\n            )\r\n            .then(\r\n                (response) => {\r\n                    this.changeLoading(false);\r\n                    this.changeError('');\r\n                    this.changeApplicationControls(response.data);\r\n                    console.log(this.applicationControls);\r\n                },\r\n                (r) => {this.showError(r, 'applicationTemplate')}\r\n            );\r\n    }\r\n}","import './result.css'\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\nimport { ControlComponent } from 'local.vue-components.control-component';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\nimport { resultStore } from '../stores/result';\r\n\r\nexport const ResultItemComponent = {\r\n    data() {\r\n        return {\r\n            s: false\r\n        }\r\n    },\r\n    components: {\r\n        ButtonComponent,\r\n        ControlComponent\r\n    },\r\n    props: ['company'],\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-company\" :data-id=\"company.id\">\r\n            <div class=\"twpx-vue-marketplace-company__text\">\r\n                <h3 v-if=\"companyName\" v-html=\"companyName\"></h3>\r\n                <p v-if=\"companyDescription\">{{ companyDescription }}</p>\r\n            </div>\r\n            <div class=\"twpx-vue-marketplace-company__properties\">\r\n                <div class=\"twpx-vue-marketplace-company__props\">\r\n                    <div class=\"twpx-vue-marketplace-company__prop\" v-for=\"prop in getProperties().slice(0,6)\" :key=\"prop.id\">\r\n                        <b>{{ prop.label }}</b>\r\n                        <span v-html=\"getValue(prop)\"></span>\r\n                    </div>\r\n                    <TransitionGroup name=\"list\">\r\n                        <div class=\"twpx-vue-marketplace-company__prop\" v-for=\"prop in getProperties().slice(6)\" :key=\"prop.id\" v-show=\"s\">\r\n                            <b>{{ prop.label }}</b>\r\n                            <span v-html=\"getValue(prop)\"></span>\r\n                        </div>\r\n                    </TransitionGroup>\r\n                </div>\r\n                <ButtonComponent :text=\"lang.result.moreProps\" :props=\"['serve', 'small']\" @clickButton=\"moreProperties\" />\r\n            </div>\r\n            <div class=\"twpx-vue-marketplace-company__buttons\">\r\n                <ButtonComponent :text=\"lang.result.getButton\" :props=\"['icon-content', 'primary', 'medium']\" @clickButton=\"\" />\r\n                <div class=\"twpx-vue-marketplace-company__buttons__right\">\r\n                    <ControlComponent :control='company.checkbox' @input=\"input\" />\r\n                    <ButtonComponent :text=\"lang.result.sendButton\" :props=\"['secondary', 'medium']\" @clickButton=\"\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n            'lang',\r\n        ]),\r\n        ...mapState(resultStore, [\r\n            'formTemplate',\r\n            'formData',\r\n        ]),\r\n        dataObject() {\r\n            return this.company.data\r\n                .filter(d => String(d.value))\r\n                .forEach(d => {\r\n                    d.label = this.template[d.name];\r\n                });\r\n        },\r\n        companyName() {\r\n            const site = this.company.data.find(c => c.name === 'UF_SITE');\r\n            const name = this.company.data.find(c => c.name === 'UF_NAME');\r\n\r\n            if (site) {\r\n                return `<a href=\"${site.value}\">${name.value}</a>`;\r\n            }\r\n            return name?.value;\r\n        },\r\n        companyDescription() {\r\n            return this.company.data.find(c => c.name === 'UF_DESCRIPTION')?.value;\r\n        },\r\n    },\r\n    methods: {\r\n        getProperties() {\r\n            let result = this.company.data.slice();\r\n            result = result.filter(d => d.name !== 'UF_NAME' && d.name !== 'UF_DESCRIPTION');\r\n            result.sort((a, b) => Number(a.sort) - Number(b.sort));\r\n\r\n            return result;\r\n        },\r\n        getValue(d) {\r\n            if (!d.value) {\r\n                return '-';\r\n            } else if (d.name === 'UF_SITE') {\r\n                let site = d.value;\r\n                if (!String(d.value).startsWith('http')) {\r\n                    site = `http://${d.value}`\r\n                }\r\n                return `<a href=\"${site}\" target=\"_blank\">${d.value}</a>`;\r\n            } else if (d.name === 'UF_EMAIL') {\r\n                return `<a href=\"mailto:${d.value}\">${d.value}</a>`;\r\n            } else if (d.name === 'UF_EGRUL_DATA') {\r\n                const s = d.value;\r\n                const date = new Date(s);\r\n                const dd = String(date.getDate()).padStart(2, \"0\");\r\n                const mm = String(date.getMonth() + 1).padStart(2, \"0\");\r\n                const yyyy = date.getFullYear();\r\n                const formatted = `${dd}.${mm}.${yyyy}`; // \"15.02.1996\"\r\n\r\n                return formatted;\r\n            }\r\n\r\n            return d.value;\r\n        },\r\n        moreProperties() {\r\n            this.s = true;\r\n        },\r\n    }\r\n};","import './result.css'\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\n\r\nexport const GroupApplicationComponent = {\r\n    components: {\r\n        ButtonComponent\r\n    },\r\n    props: ['groupApplicationArray'],\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-group-application\" v-if=\"groupApplicationArray.length > 0\">\r\n            <div class=\"twpx-vue-marketplace-group-application__text\">\r\n                <h4>{{ lang.result.groupApplicationHeading }}</h4>\r\n                <div>{{ lang.result.groupApplicationText }}: {{ num }} {{ pluralizeOrganization(num) }}.</div>\r\n            </div>\r\n            <ButtonComponent :text=\"lang.result.sendButton\" :props=\"['secondary', 'medium']\" @clickButton=\"getGroup\" />\r\n        </div>\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n            'lang',\r\n        ]),\r\n        num() {\r\n            return this.groupApplicationArray.length\r\n        }\r\n    },\r\n    methods: {\r\n        getGroup() {\r\n            console.log(this.groupApplicationArray)\r\n        },\r\n        pluralizeOrganization(n, forms = this.lang.result.groupApplicationCompany) {\r\n            const abs = Math.abs(n);\r\n            const mod10 = abs % 10;\r\n            const mod100 = abs % 100;\r\n            if (mod100 >= 11 && mod100 <= 14) return forms[2];\r\n            if (mod10 === 1) return forms[0];\r\n            if (mod10 >= 2 && mod10 <= 4) return forms[1];\r\n            return forms[2];\r\n        }\r\n    }\r\n};","import { MessageComponent } from 'local.vue-components.message-component';\r\nimport { LoaderCircle } from 'local.vue-components.loader-circle';\r\nimport { MoreButton } from 'local.vue-components.more-button';\r\n\r\nimport { ResultItemComponent } from '../components/resultItemComponent'\r\nimport { GroupApplicationComponent } from '../components/groupApplicationComponent'\r\n\r\nimport { dataStore } from '../stores/data';\r\nimport { resultStore } from '../stores/result';\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\n\r\nexport const Result = {\r\n    components: {\r\n        MessageComponent,\r\n        LoaderCircle,\r\n        MoreButton,\r\n        ResultItemComponent,\r\n        GroupApplicationComponent,\r\n    },\r\n    template: `\r\n        <div class=\"twpx-vue-marketplace-result\">\r\n\r\n            <LoaderCircle :show=\"loading\" />\r\n\r\n            <MessageComponent type=\"error\" size=\"big\" :message=\"error\" v-if=\"!loading && error\" />\r\n\r\n            <div v-if=\"!loading\" class=\"twpx-vue-marketplace-result__content\">\r\n\r\n                <h2>{{ lang.result.heading }}</h2>\r\n\r\n                <ResultItemComponent v-for=\"company in formDataArray\" :key=\"company.id\" :company=\"company\" />\r\n\r\n                <MoreButton :loading=\"loadingMore\" :show=\"showMore\" @clickMore=\"clickMore\" />\r\n\r\n                <GroupApplicationComponent :groupApplicationArray=\"groupApplicationArray\" />\r\n\r\n            </div>\r\n\r\n        </div>\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n            'lang',\r\n            'error',\r\n            'loading'\r\n        ]),\r\n        ...mapState(resultStore, [\r\n            'formIdArray',\r\n            'formDataArray',\r\n            'groupApplicationArray',\r\n            'startIndex',\r\n            'maxCountPerRequest',\r\n            'loadingMore'\r\n        ]),\r\n        showMore() {\r\n            return this.startIndex < this.formIdArray.length\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions(dataStore, [\r\n            'runApiMethod',\r\n            'changeError',\r\n            'changeLoading',\r\n        ]),\r\n        ...mapActions(resultStore, [\r\n            'setFormIdArray',\r\n            'setFormDataArray',\r\n            'setStartIndex',\r\n            'setMaxCountPerRequest',\r\n            'changeLoadingMore',\r\n        ]),\r\n        clickMore() {\r\n            this.loadNextPage();\r\n        },\r\n        loadNextPage() {\r\n            this.changeLoadingMore(true);\r\n            try {\r\n                const requestArr = this.formIdArray.slice(this.startIndex, this.startIndex + this.maxCountPerRequest).map((formID) => {\r\n                    return this.runApiMethod('formData', {code: formID});\r\n                });\r\n\r\n                Promise.all(requestArr)\r\n                    .then((formDataArray) => {\r\n                        this.setFormDataArray(formDataArray.map((r, i) => {\r\n                            return {\r\n                                id: this.formIdArray[i],\r\n                                data: r.data,\r\n                                checkbox: {\r\n                                    \"property\": \"checkbox\",\r\n                                    \"type\": \"block\",\r\n                                    \"id\": Math.floor(Math.random()*1000),\r\n                                    \"name\": \"APPLICATION_GROUP\",\r\n                                    \"required\": false,\r\n                                    \"label\": this.lang.result.checkboxLable,\r\n                                    \"value\": this.formIdArray[i],\r\n                                    \"checked\": false,\r\n                                }\r\n                            }\r\n                        }));\r\n                        this.changeLoading(false);\r\n                        this.changeLoadingMore(false);\r\n                        this.setStartIndex(this.startIndex + this.maxCountPerRequest);\r\n                    },\r\n                    (r) => {\r\n                        console.log('formData error: ', r)\r\n                        this.changeLoading(false);\r\n                        if (r && r.errors.length) {\r\n                            this.changeError(`searchForms - ${response.errors[0].message}`);\r\n                        }\r\n                    }\r\n                );\r\n            } catch(err) {\r\n                throw err;\r\n            }\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.changeLoading(true);\r\n        this.loadNextPage();\r\n    }\r\n}","import { BitrixVue } from 'ui.vue3';\r\nimport { createRouter, createMemoryHistory } from 'ui.vue3.router';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\n\r\nimport { dataStore } from './stores/data';\r\nimport { resultStore } from './stores/result';\r\n\r\nimport { Application } from './components/application';\r\nimport { Step } from './pages/step';\r\nimport { Result } from './pages/result';\r\n\r\nexport class Marketplace {\r\n  #store;\r\n  #router;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options) {\r\n    this.#store = createPinia();\r\n    this.#router = createRouter({\r\n      history: createMemoryHistory(),\r\n      routes: [\r\n        {\r\n          path: '/',\r\n          component: Step,\r\n          alias: '/step'\r\n        },\r\n        {\r\n          path: '/step/:id',\r\n          component: Step,\r\n        },\r\n        {\r\n          path: '/result',\r\n          component: Result,\r\n        },\r\n      ],\r\n    });\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run() {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Marketplace Application',\r\n      components: {\r\n        Application\r\n      },\r\n      template: '<Application />',\r\n      beforeMount() {\r\n        dataStore().customData = self.options.data || {};\r\n        dataStore().signedParameters = self.options.signedParameters || '';\r\n\r\n        dataStore().lang = self.options.lang || {};\r\n        dataStore().actions = self.options.actions || [];\r\n\r\n        resultStore().maxCountPerRequest = self.options.maxCountPerRequest || 3;\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.use(this.#router);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication() {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getTableStore() {\r\n    return tableStore;\r\n  }\r\n}\r\n"],"names":["dataStore","defineStore","state","customData","signedParameters","lang","actions","error","loading","steps","id","name","html","controls","setStepActive","step","active","changeError","value","changeLoading","createUrl","url","URL","window","location","href","forEach","c","searchParams","set","String","history","pushState","runApiMethod","method","data","formData","Object","entries","key","append","BX","ajax","runComponentAction","mode","resultStore","formIdArray","formDataArray","startIndex","maxCountPerRequest","loadingMore","getters","groupApplicationArray","filter","d","checkbox","checked","map","setFormIdArray","setFormDataArray","concat","setStartIndex","setMaxCountPerRequest","changeLoadingMore","Application","template","computed","mapState","mounted","TheNavigation","props","emits","currentIndex","index","groups","findIndex","s","$route","params","lineWidth","length","methods","click","group","$emit","isGroupActive","groupIndex","StepComponent","components","ControlComponent","input","args","TheButtons","ButtonComponent","goBack","$router","push","goForward","applicationStore","applicationControls","applicationGroups","changeApplicationControls","changeApplicationGroups","controlsStore","changeControls","changeTextControlValue","control","changeSelectRadioValue","changeSelectDropdownValue","changeDateValue","changeCheckboxValue","changeFileValue","type","uploadFile","changeControlValue","property","substring","toUpperCase","toLowerCase","runHints","action","controller","AbortController","timeoutId","setTimeout","abort","fetch","signal","headers","response","clearTimeout","ok","Error","status","json","result","setHints","errors","message","hints","Step","MessageComponent","LoaderCircle","groupId","undefined","find","g","groupid","title","subtitle","mapActions","clickNavItem","showError","send","slice","fields","then","applicationID","r","console","log","ResultItemComponent","dataObject","company","label","companyName","site","companyDescription","getProperties","sort","a","b","Number","getValue","startsWith","date","Date","dd","getDate","padStart","mm","getMonth","yyyy","getFullYear","formatted","moreProperties","GroupApplicationComponent","num","getGroup","pluralizeOrganization","n","forms","groupApplicationCompany","abs","Math","mod10","mod100","Result","MoreButton","showMore","clickMore","loadNextPage","requestArr","formID","code","Promise","all","i","floor","random","checkboxLable","err","Marketplace","rootNode","options","createPinia","createRouter","createMemoryHistory","routes","path","component","alias","document","querySelector","self","BitrixVue","createApp","beforeMount","use","mount","setActivePinia","tableStore"],"mappings":";;;;;;AAAA,EAEO,IAAMA,SAAS,GAAGC,yBAAW,CAAC,MAAM,EAAE;IAC3CC,KAAK,EAAE;MAAA,OAAO;QACZC,UAAU,EAAE,EAAE;QACdC,gBAAgB,EAAE,EAAE;QACpBC,IAAI,EAAE,EAAE;QACRC,OAAO,EAAE,EAAE;QAEXC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE,KAAK;QAEdC,KAAK,EAAE,CACL;UACEC,EAAE,EAAE,KAAK;UACTC,IAAI,EAAE,MAAM;UACZC,IAAI,EAAE,8GAA8G;UACpHC,QAAQ,EAAE,CACR;YACE,UAAU,EAAE,QAAQ;YACpB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,SAAS;YACjB,OAAO,EAAE,aAAa;YACtB,SAAS,EAAE,CACT;cACE,OAAO,EAAE,WAAW;cACpB,MAAM,EAAE;aACT,EACD;cACE,OAAO,EAAE,SAAS;cAClB,MAAM,EAAE;aACT,EACD;cACE,OAAO,EAAE,MAAM;cACf,MAAM,EAAE;aACT,CACF;YACD,OAAO,EAAE,EAAE;YACX,UAAU,EAAE;WACb,EAED;YACE,UAAU,EAAE,QAAQ;YACpB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,MAAM;YACd,OAAO,EAAE,gBAAgB;YACzB,SAAS,EAAE,CACT;cACE,OAAO,EAAE,WAAW;cACpB,MAAM,EAAE;aACT,EACD;cACE,OAAO,EAAE,SAAS;cAClB,MAAM,EAAE;aACT,EACD;cACE,OAAO,EAAE,MAAM;cACf,MAAM,EAAE;aACT,CACF;YACD,OAAO,EAAE,EAAE;YACX,UAAU,EAAE;WACb;SAEJ,EACD;UACEH,EAAE,EAAE,KAAK;UACTC,IAAI,EAAE,OAAO;UACbC,IAAI,EAAE,wFAAwF;UAC9FC,QAAQ,EAAE,CACR;YACE,IAAI,EAAE,MAAM;YACZ,UAAU,EAAE,MAAM;YAClB,MAAM,EAAE,QAAQ;YAChB,OAAO,EAAE,eAAe;YACxB,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,KAAK;YACjB,eAAe,EAAE;WAClB,EACD;YACE,IAAI,EAAE,MAAM;YACZ,UAAU,EAAE,MAAM;YAClB,MAAM,EAAE,MAAM;YACd,OAAO,EAAE,2CAA2C;YACpD,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,KAAK;YACjB,eAAe,EAAE;WAClB,EACD;YACE,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,4BAA4B;YACrC,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,IAAI;YACf,UAAU,EAAE;WACb;SAEJ,EACD;UACEH,EAAE,EAAE,OAAO;UACXC,IAAI,EAAE,gBAAgB;UACtBC,IAAI,EAAE,qHAAqH;UAC3HC,QAAQ,EAAE,CACR;YACE,IAAI,EAAE,MAAM;YACZ,UAAU,EAAE,MAAM;YAClB,MAAM,EAAE,SAAS;YACjB,OAAO,EAAE,SAAS;YAClB,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,KAAK;YACjB,eAAe,EAAE;WAClB,EACD;YACE,IAAI,EAAE,MAAM;YACZ,UAAU,EAAE,MAAM;YAClB,MAAM,EAAE,QAAQ;YAChB,OAAO,EAAE,eAAe;YACxB,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,KAAK;YACjB,eAAe,EAAE;WAClB,EACD;YACE,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,SAAS;YAClB,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,IAAI;YACf,UAAU,EAAE;WACb,EACD;YACE,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,qBAAqB;YAC9B,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,IAAI;YACf,UAAU,EAAE;WACb,EACD;YACE,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,2CAA2C;YACpD,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,IAAI;YACf,UAAU,EAAE;WACb,EACD;YACE,IAAI,EAAE,MAAM;YACZ,UAAU,EAAE,MAAM;YAClB,MAAM,EAAE,QAAQ;YAChB,OAAO,EAAE,0CAA0C;YACnD,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,KAAK;YACjB,UAAU,EAAE,KAAK;YACjB,eAAe,EAAE;WAClB;SAEJ,EACD;UACEH,EAAE,EAAE,MAAM;UACVC,IAAI,EAAE,YAAY;UAClBC,IAAI,EAAE,sIAAsI;UAC5IC,QAAQ,EAAE,CACR;YACE,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,YAAY;YACpB,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,wCAAwC;YACjD,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,IAAI;YACf,UAAU,EAAE;WACb,EACD;YACE,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,eAAe;YACvB,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,6BAA6B;YACtC,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,IAAI;YACf,UAAU,EAAE;WACb,EACD;YACE,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,QAAQ;YAChB,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,qBAAqB;YAC9B,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,IAAI;YACf,UAAU,EAAE;WACb,EACD;YACE,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,kFAAkF;YAC3F,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,IAAI;YACf,UAAU,EAAE;WACb;SAEJ,EACD;UACEH,EAAE,EAAE,MAAM;UACVC,IAAI,EAAE,eAAe;UACrBC,IAAI,EAAE,uIAAuI;UAC7IC,QAAQ,EAAE,CACR;YACE,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,UAAU;YAClB,IAAI,EAAE,MAAM;YACZ,MAAM,EAAE,SAAS;YACjB,UAAU,EAAE,KAAK;YACjB,OAAO,EAAE,4CAA4C;YACrD,OAAO,EAAE,IAAI;YACb,SAAS,EAAE,IAAI;YACf,UAAU,EAAE;WACb;SAEJ;OAEJ;KAAC;IACFP,OAAO,EAAE;MACPQ,aAAa,+BAAmB;QAAA,IAAhBC,IAAI,QAAJA,IAAI;UAAEC,MAAM,QAANA,MAAM;QAC1BD,IAAI,CAACC,MAAM,GAAGA,MAAM;OACrB;MACDC,WAAW,uBAACC,KAAK,EAAE;QACjB,IAAI,CAACX,KAAK,GAAGW,KAAK;OACnB;MACDC,aAAa,yBAACD,KAAK,EAAE;QACnB,IAAI,CAACV,OAAO,GAAGU,KAAK;OACrB;MACDE,SAAS,qBAACP,QAAQ,EAAE;QAChB,IAAMQ,GAAG,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC;QACzCZ,QAAQ,CAACa,OAAO,CAAC,UAAAC,CAAC,EAAI;UAClBN,GAAG,CAACO,YAAY,CAACC,GAAG,CAACF,CAAC,CAAChB,IAAI,EAAEmB,MAAM,CAACH,CAAC,CAACT,KAAK,CAAC,CAAC;SAChD,CAAC;QACFK,MAAM,CAACQ,OAAO,CAACC,SAAS,CAAC,EAAE,EAAE,EAAE,EAAEX,GAAG,CAAC;OACxC;MACDY,YAAY,0BAAsD;QAAA,IAArDC,MAAM,uEAAG,qBAAqB;QAAA,IAAEC,IAAI,uEAAG,EAAE;QAAA,IAAEC,QAAQ;QAE9D,IAAIA,QAAQ,EAAE;UACZC,MAAM,CAACC,OAAO,CAAC,IAAI,CAACnC,UAAU,CAAC,CAACuB,OAAO,CAAC,UAACa,GAAG,EAACrB,KAAK,EAAK;YACrDkB,QAAQ,CAACI,MAAM,CAACD,GAAG,EAAErB,KAAK,CAAC;WAC5B,CAAC;;QAGJ,OAAOuB,EAAE,CAACC,IAAI,CAACC,kBAAkB,CAAC,IAAI,CAACrC,OAAO,CAAC4B,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC5B,OAAO,CAAC4B,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE;UAClFU,IAAI,EAAE,OAAO;UACbT,IAAI,EAAEC,QAAQ,oCACT,IAAI,CAACjC,UAAU,GACfgC,IAAI,CACR;UACD/B,gBAAgB,EAAE,IAAI,CAACA;SACxB,CAAC;;;EAGR,CAAC,CAAC;;ECvRK,IAAMyC,WAAW,GAAG5C,yBAAW,CAAC,QAAQ,EAAE;IAC/CC,KAAK,EAAE;MAAA,OAAO;QACZ4C,WAAW,EAAE,CACT,sCAAsC,EACtC,sCAAsC,EACtC,sCAAsC,EACtC,sCAAsC,CACzC;QACDC,aAAa,EAAE,EAAE;QACjBC,UAAU,EAAE,CAAC;QACbC,kBAAkB,EAAE,CAAC;QACrBC,WAAW,EAAE;OACd;KAAC;IACFC,OAAO,EAAE;MACPC,qBAAqB,iCAAClD,KAAK,EAAE;QAC3B,OAAOA,KAAK,CAAC6C,aAAa,CACvBM,MAAM,CAAC,UAAAC,CAAC;UAAA,OAAIA,CAAC,CAACC,QAAQ,CAACC,OAAO;UAAC,CAC/BC,GAAG,CAAC,UAAAH,CAAC;UAAA,OAAIA,CAAC,CAAC5C,EAAE;UAAC;;KAEpB;IACDJ,OAAO,EAAE;MACPoD,cAAc,0BAACvB,IAAI,EAAE;QACjB,IAAI,CAACW,WAAW,GAAGX,IAAI;OAC1B;MACDwB,gBAAgB,4BAACxB,IAAI,EAAE;QACnB,IAAI,CAACY,aAAa,GAAG,IAAI,CAACA,aAAa,CAACa,MAAM,CAACzB,IAAI,CAAC;OACvD;MACD0B,aAAa,yBAAC3C,KAAK,EAAE;QACnB,IAAI,CAAC8B,UAAU,GAAG9B,KAAK;OACxB;MACD4C,qBAAqB,iCAAC5C,KAAK,EAAE;QAC3B,IAAI,CAAC+B,kBAAkB,GAAG/B,KAAK;OAChC;MACD6C,iBAAiB,6BAAC7C,KAAK,EAAE;QACvB,IAAI,CAACgC,WAAW,GAAGhC,KAAK;;;EAE3B,CAAC,CAAC;;;;ACtCL,EAKO,IAAM8C,WAAW,GAAG;IACzBC,QAAQ,6BAER;IACAC,QAAQ,sBACHC,sBAAQ,CAACnE,SAAS,EAAE,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CACvD;IACDoE,OAAO,qBAAG;EACZ,CAAC;;ECXM,IAAMC,aAAa,GAAG;IACzBlC,IAAI,kBAAE;MACF,OAAO,EAAE;KACZ;IACDmC,KAAK,EAAE,CAAC,QAAQ,CAAC;IACjBC,KAAK,EAAE,CAAC,cAAc,CAAC;IACvBN,QAAQ,kvBAeP;IACDC,QAAQ,EAAE;MACNM,YAAY,0BAAG;QAAA;QACX,IAAMC,KAAK,GAAI,IAAI,CAACC,MAAM,CAACC,SAAS,CAAC,UAAAC,CAAC;UAAA,OAAI9C,MAAM,CAAC8C,CAAC,CAAClE,EAAE,CAAC,KAAKoB,MAAM,CAAC,KAAI,CAAC+C,MAAM,CAACC,MAAM,CAACpE,EAAE,CAAC;UAAC,IAAI,CAAC;QAC9F,OAAO+D,KAAK,KAAK,CAAC,CAAC,GAAG,CAAC,GAAGA,KAAK;OAClC;MACDM,SAAS,uBAAG;QACR,OAAQ,CAAC,IAAI,CAACP,YAAY,GAAG,CAAC,IAAI,GAAG,GAAG,IAAI,CAACE,MAAM,CAACM,MAAM,GAAI,GAAG;;KAExE;IACDC,OAAO,EAAE;MACLC,KAAK,iBAACC,KAAK,EAAE;QACT,IAAI,CAACC,KAAK,CAAC,cAAc,EAAE;UAACD,KAAK,EAALA;SAAM,CAAC;OACtC;MACDE,aAAa,yBAACC,UAAU,EAAE;QACtB,OAAOA,UAAU,IAAI,IAAI,CAACd,YAAY;;;EAGlD,CAAC;;ECvCM,IAAMe,aAAa,GAAG;IACzBjB,KAAK,EAAE,CAAC,MAAM,CAAC;IACfC,KAAK,EAAE,CAAC,OAAO,CAAC;IAChBiB,UAAU,EAAE;MACRC,gBAAgB,EAAhBA;KACH;IACDxB,QAAQ,4cASP;IACDgB,OAAO,EAAE;MACLS,KAAK,iBAACC,IAAI,EAAE;QACR,IAAI,CAACP,KAAK,CAAC,OAAO,EAAEO,IAAI,CAAC;;;EAGrC,CAAC;;ECnBM,IAAMC,UAAU,GAAG;IACtBtB,KAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;IACzBC,KAAK,EAAE,CAAC,MAAM,CAAC;IACfiB,UAAU,EAAE;MACRK,eAAe,EAAfA;KACH;IACD5B,QAAQ,siBAMP;IACDC,QAAQ,EAAE;MACNM,YAAY,0BAAG;QAAA;QACX,OAAO,IAAI,CAACK,MAAM,CAACC,MAAM,CAACpE,EAAE,GAAG,IAAI,CAACgE,MAAM,CAACC,SAAS,CAAC,UAAAC,CAAC;UAAA,OAAI9C,MAAM,CAAC8C,CAAC,CAAClE,EAAE,CAAC,KAAKoB,MAAM,CAAC,KAAI,CAAC+C,MAAM,CAACC,MAAM,CAACpE,EAAE,CAAC;UAAC,GAAG,CAAC;;KAEpH;IACDuE,OAAO,EAAE;MACLa,MAAM,oBAAG;QACL,IAAMX,KAAK,GAAG,IAAI,CAACT,MAAM,CAAC,IAAI,CAACF,YAAY,GAAG,CAAC,CAAC;QAChD,IAAIW,KAAK,EAAE;UACP,IAAI,CAACY,OAAO,CAACC,IAAI,iBAAUb,KAAK,CAACzE,EAAE,EAAG;;OAE7C;MACDuF,SAAS,uBAAG;QACR,IAAMd,KAAK,GAAG,IAAI,CAACT,MAAM,CAAC,IAAI,CAACF,YAAY,GAAG,CAAC,CAAC;QAChD,IAAIW,KAAK,EAAE;UACP,IAAI,CAACY,OAAO,CAACC,IAAI,iBAAUb,KAAK,CAACzE,EAAE,EAAG;;;;EAKtD,CAAC;;ECnCM,IAAMwF,gBAAgB,GAAGjG,yBAAW,CAAC,aAAa,EAAE;IACvDC,KAAK,EAAE;MAAA,OAAO;QACViG,mBAAmB,EAAE,EAAE;QACvBC,iBAAiB,EAAE;OACtB;KAAC;IACF9F,OAAO,EAAE;MACLQ,aAAa,+BAAmB;QAAA,IAAhBC,IAAI,QAAJA,IAAI;UAAEC,MAAM,QAANA,MAAM;QACxBD,IAAI,CAACC,MAAM,GAAGA,MAAM;OACvB;MACDqF,yBAAyB,qCAACxF,QAAQ,EAAE;QAChC,IAAI,CAACsF,mBAAmB,GAAGtF,QAAQ;OACtC;MACDyF,uBAAuB,mCAAC5B,MAAM,EAAE;QAC5B,IAAI,CAAC0B,iBAAiB,GAAG1B,MAAM;;;EAG3C,CAAC,CAAC;;;AClBF,EAEO,IAAM6B,aAAa,GAAGtG,yBAAW,CAAC,UAAU,EAAE;IACnDC,KAAK,EAAE;MAAA,OAAO;QACZW,QAAQ,EAAE;OACX;KAAC;IACFP,OAAO,EAAE;MACPkG,cAAc,0BAAC3F,QAAQ,EAAE;QACvB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;OACzB;MACD4F,sBAAsB,wCAAqB;QAAA,IAAlBC,OAAO,QAAPA,OAAO;UAAExF,KAAK,QAALA,KAAK;QACnCwF,OAAO,CAACxF,KAAK,GAAGA,KAAK;OACxB;MACDyF,sBAAsB,yCAAqB;QAAA,IAAlBD,OAAO,SAAPA,OAAO;UAAExF,KAAK,SAALA,KAAK;QACnCwF,OAAO,CAACxF,KAAK,GAAGA,KAAK;OACxB;MACD0F,yBAAyB,4CAAqB;QAAA,IAAlBF,OAAO,SAAPA,OAAO;UAAExF,KAAK,SAALA,KAAK;QACtCwF,OAAO,CAACxF,KAAK,GAAGA,KAAK;OACxB;MACD2F,eAAe,kCAAqB;QAAA,IAAlBH,OAAO,SAAPA,OAAO;UAAExF,KAAK,SAALA,KAAK;QAC5BwF,OAAO,CAACxF,KAAK,GAAGA,KAAK;OACxB;MACD4F,mBAAmB,sCAAuB;QAAA,IAApBJ,OAAO,SAAPA,OAAO;UAAElD,OAAO,SAAPA,OAAO;QAClCkD,OAAO,CAAClD,OAAO,GAAGA,OAAO;OAC5B;MACDuD,eAAe,kCAAqB;QAAA,IAAlBL,OAAO,SAAPA,OAAO;UAAExF,KAAK,SAALA,KAAK;QAC5BwF,OAAO,CAACxF,KAAK,GAAGA,KAAK;QACrB,IAAIwF,OAAO,CAACM,IAAI,KAAK,QAAQ,EAAE;UAC/B,IAAI,CAACC,UAAU,CAACP,OAAO,EAAExF,KAAK,CAAC;;OAElC;MACDgG,kBAAkB,qCAA8B;QAAA,IAA3BR,OAAO,SAAPA,OAAO;UAAExF,KAAK,SAALA,KAAK;UAAEsC,OAAO,SAAPA,OAAO;QACxC,QAAQkD,OAAO,CAACS,QAAQ;UACxB,KAAK,MAAM;UACX,KAAK,UAAU;UACf,KAAK,MAAM;UACX,KAAK,KAAK;UACV,KAAK,OAAO;UACZ,KAAK,KAAK;YACN,IAAI,CAACV,sBAAsB,CAAC;cAAEC,OAAO,EAAPA,OAAO;cAAExF,KAAK,EAALA;aAAO,CAAC;YAC/C;;;;UAIJ,KAAK,UAAU;YACb,IAAI,CAAC4F,mBAAmB,CAAC;cAAEJ,OAAO,EAAPA,OAAO;cAAElD,OAAO,EAAPA;aAAS,CAAC;YAC9C;UACF,KAAK,QAAQ;YACT,IAAI,uBACWkD,OAAO,CAACM,IAAI,CACtBI,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CACfC,WAAW,EAAE,SAAGX,OAAO,CAACM,IAAI,CAACI,SAAS,CAAC,CAAC,CAAC,CAACE,WAAW,EAAE,WAC3D,CAAC;cAAEZ,OAAO,EAAPA,OAAO;cAAExF,KAAK,EAALA;aAAO,CAAC;YACrB;UACJ,KAAK,MAAM;YACP,IAAI,CAAC6F,eAAe,CAAC;cAAEL,OAAO,EAAPA,OAAO;cAAExF,KAAK,EAALA;aAAO,CAAC;YACxC;UACJ,KAAK,MAAM;YACP,IAAI,CAAC2F,eAAe,CAAC;cAAEH,OAAO,EAAPA,OAAO;cAAExF,KAAK,EAALA;aAAO,CAAC;YACxC;;;;;OAKP;MACKqG,QAAQ,oBAACb,OAAO,EAAEc,MAAM,EAAE;QAAA;QAAA;UAAA;UAAA;YAAA;cAAA;gBAAA;;gBAGtBC,UAAU,GAAG,IAAIC,eAAe,EAAE;gBAClCC,SAAS,GAAGC,UAAU,CAAC;kBAAA,OAAMH,UAAU,CAACI,KAAK,EAAE;mBAAE,KAAK,CAAC;gBAAE;gBAAA,OAExCC,KAAK,CAACN,MAAM,EAAE;kBACjCO,MAAM,EAAEN,UAAU,CAACM,MAAM;kBACzBC,OAAO,EAAE;oBACT,cAAc,EAAE;;iBAEnB,CAAC;cAAA;gBALIC,QAAQ;gBAOdC,YAAY,CAACP,SAAS,CAAC;gBAAC,IAEnBM,QAAQ,CAACE,EAAE;kBAAA;kBAAA;;gBAAA,MACN,IAAIC,KAAK,+BAAwBH,QAAQ,CAACI,MAAM,EAAG;cAAA;gBAAA;gBAAA,OAGxCJ,QAAQ,CAACK,IAAI,EAAE;cAAA;gBAA9BC,MAAM;gBAEZ,IAAIA,MAAM,CAACF,MAAM,KAAK,SAAS,IAAIE,MAAM,CAACpG,IAAI,EAAE;kBAC5C,KAAI,CAACqG,QAAQ,CAAC9B,OAAO,EAAE6B,MAAM,CAACpG,IAAI,CAAC;iBACtC,MAAM,IAAIoG,MAAM,CAACE,MAAM,EAAE;kBACtB,KAAI,CAAClI,KAAK,sBAAGgI,MAAM,CAACE,MAAM,CAAC,CAAC,CAAC,oDAAhB,gBAAkBC,OAAO;iBACzC,MAAM;kBACH,KAAI,CAACnI,KAAK,GAAG,yBAAyB;;gBACzC;gBAAA;cAAA;gBAAA;gBAAA;gBAED,KAAI,CAACA,KAAK,6DAAG,YAAOmI,OAAO;cAAA;cAAA;gBAAA;;;;OAE9B;MACDF,QAAQ,oBAAC9B,OAAO,EAAExF,KAAK,EAAE;QACrBwF,OAAO,CAACiC,KAAK,GAAGzH,KAAK;;;EAG7B,CAAC,CAAC;;;;ACrGF,EAaO,IAAM0H,IAAI,GAAG;IAChBpD,UAAU,EAAE;MACRnB,aAAa,EAAbA,aAAa;MACbkB,aAAa,EAAbA,aAAa;MACbK,UAAU,EAAVA,UAAU;MACViD,gBAAgB,EAAhBA,qDAAgB;MAChBC,YAAY,EAAZA;KACH;IACD7E,QAAQ,mrBAoBP;IACDC,QAAQ,sDACDC,sBAAQ,CAACnE,SAAS,EAAE,CACnB,MAAM,EACN,OAAO,EACP,OAAO,EACP,SAAS,CACZ,CAAC,GACCmE,sBAAQ,CAAC+B,gBAAgB,EAAE,CAC1B,qBAAqB,EACrB,mBAAmB,CACtB,CAAC;MACFnF,IAAI,kBAAG;QACH,IAAMgI,OAAO,GAAG,IAAI,CAAClE,MAAM,CAACC,MAAM,CAACpE,EAAE,KAAK,IAAI,CAAC0F,iBAAiB,CAACpB,MAAM,GAAG,IAAI,CAACoB,iBAAiB,CAAC,CAAC,CAAC,CAAC1F,EAAE,GAAGsI,SAAS,CAAC;QACnH,IAAM7D,KAAK,GAAG,IAAI,CAACiB,iBAAiB,CAAC6C,IAAI,CAAC,UAAAC,CAAC;UAAA,OAAIpH,MAAM,CAACoH,CAAC,CAACxI,EAAE,CAAC,KAAKoB,MAAM,CAACiH,OAAO,CAAC;UAAC;QAChF,IAAMlI,QAAQ,GAAG,IAAI,CAACsF,mBAAmB,CAAC9C,MAAM,CAAC,UAAA1B,CAAC;UAAA,OAAIG,MAAM,CAACH,CAAC,CAACwH,OAAO,CAAC,KAAKrH,MAAM,CAACiH,OAAO,CAAC;UAAC;QAE5F,OAAOlI,QAAQ,CAACmE,MAAM,GAClB;UACItE,EAAE,EAAEqI,OAAO;UACXK,KAAK,EAAEjE,KAAK,CAACiE,KAAK;UAClBC,QAAQ,EAAElE,KAAK,CAACkE,QAAQ;UACxBxI,QAAQ,EAARA;SACH,GACC,EAAE;;MAEf;IACDoE,OAAO,sFACAqE,wBAAU,CAACtJ,SAAS,EAAE,CACrB,cAAc,EACd,aAAa,EACb,eAAe,EACf,WAAW,CACd,CAAC,GACCsJ,wBAAU,CAACpD,gBAAgB,EAAE,CAC5B,2BAA2B,EAC3B,yBAAyB,CAC5B,CAAC,GACCoD,wBAAU,CAAC/C,aAAa,EAAE,CACzB,oBAAoB,CACvB,CAAC,GACC+C,wBAAU,CAACzG,WAAW,EAAE,CACvB,iBAAiB,EACjB,kBAAkB,CACrB,CAAC;MACF0G,YAAY,8BAAU;QAAA,IAARpE,KAAK,QAALA,KAAK;QACf,IAAI,CAACY,OAAO,CAACC,IAAI,iBAAUb,KAAK,CAACzE,EAAE,EAAG;OACzC;MACD8I,SAAS,qBAACvB,QAAQ,EAAE/F,MAAM,EAAE;QACxB,IAAI,CAACf,aAAa,CAAC,KAAK,CAAC;QACzB,IAAI8G,QAAQ,IAAIA,QAAQ,CAACQ,MAAM,CAACzD,MAAM,EAAE;UACpC,IAAI,CAAC/D,WAAW,WAAIiB,MAAM,GAAGA,MAAM,GAAG,KAAK,GAAG,EAAE,SAAG+F,QAAQ,CAACQ,MAAM,CAAC,CAAC,CAAC,CAACC,OAAO,EAAG;;OAEvF;MACDe,IAAI,kBAAG;QAAA;QACH,IAAI,CAACtI,aAAa,CAAC,IAAI,CAAC;QACxB,IAAI,CAACF,WAAW,CAAC,EAAE,CAAC;QAEpB,IAAMJ,QAAQ,GAAG,IAAI,CAACsF,mBAAmB,CAACuD,KAAK,EAAE;QACjD7I,QAAQ,CAACa,OAAO,CAAC,UAAAC,CAAC,EAAI;UAClB,IAAIA,CAAC,CAACwF,QAAQ,KAAK,MAAM,IAAIxF,CAAC,CAACqF,IAAI,KAAK,OAAO,EAAE;YAC7CrF,CAAC,CAACT,KAAK,aAAMS,CAAC,CAACT,KAAK,CAAC,CAAC,CAAC,cAAIS,CAAC,CAACT,KAAK,CAAC,CAAC,CAAC,CAAE;;SAE9C,CAAC;QAEF,IAAI,CAACe,YAAY,CAAC,iBAAiB,EAAE;UAAC0H,MAAM,EAAE9I;SAAS,CAAC,CACnD+I,IAAI,CACD,UAAC3B,QAAQ,EAAK;UAAA;UACV,OAAO,KAAI,CAAChG,YAAY,CAAC,aAAa,EAAE;YAAC4H,aAAa,EAAE5B,QAAQ,aAARA,QAAQ,yCAARA,QAAQ,CAAE9F,IAAI,mDAAd,eAAgB0H;WAAc,CAAC;SAC1F,EACD,UAACC,CAAC,EAAK;UAAC,KAAI,CAACN,SAAS,CAACM,CAAC,EAAE,iBAAiB,CAAC;SAAC,CAChD,CACAF,IAAI,CACD,UAAC3B,QAAQ,EAAK;;UAEV,KAAI,CAACvE,cAAc,CAAC,CAChB,sCAAsC,EACtC,sCAAsC,EACtC,sCAAsC,EACtC,sCAAsC,CACzC,CAAC,CAAC;;UAEH,KAAI,CAACtC,SAAS,CAAC,KAAI,CAAC+E,mBAAmB,CAAC;UACxC,KAAI,CAACJ,OAAO,CAACC,IAAI,WAAW;SAC/B,EACD,UAAC8D,CAAC,EAAK;UAAC,KAAI,CAACN,SAAS,CAACM,CAAC,EAAE,aAAa,CAAC;SAAC,CAC5C;OACR;MACDpE,KAAK,iBAACC,IAAI,EAAE;QACR,IAAI,CAACuB,kBAAkB,CAACvB,IAAI,CAAC;;MAEpC;IACDvB,OAAO,qBAAG;MAAA;MACN,IAAI,CAACjD,aAAa,CAAC,IAAI,CAAC;MACxB,IAAI,CAACF,WAAW,CAAC,EAAE,CAAC;MAEpB,IAAI,CAACgB,YAAY,CAAC,mBAAmB,CAAC,CACjC2H,IAAI,CACD,UAAC3B,QAAQ,EAAK;QACV,MAAI,CAAC3B,uBAAuB,CAAC2B,QAAQ,CAAC9F,IAAI,CAAC;QAC3C4H,OAAO,CAACC,GAAG,CAAC,MAAI,CAAC5D,iBAAiB,CAAC;QAEnC,OAAO,MAAI,CAACnE,YAAY,CAAC,qBAAqB,CAAC;OAClD,EACD,UAAC6H,CAAC,EAAK;QAAC,MAAI,CAACN,SAAS,CAACM,CAAC,EAAE,mBAAmB,CAAC;OAAC,CAClD,CACAF,IAAI,CACD,UAAC3B,QAAQ,EAAK;QACV,MAAI,CAAC9G,aAAa,CAAC,KAAK,CAAC;QACzB,MAAI,CAACF,WAAW,CAAC,EAAE,CAAC;QACpB,MAAI,CAACoF,yBAAyB,CAAC4B,QAAQ,CAAC9F,IAAI,CAAC;QAC7C4H,OAAO,CAACC,GAAG,CAAC,MAAI,CAAC7D,mBAAmB,CAAC;OACxC,EACD,UAAC2D,CAAC,EAAK;QAAC,MAAI,CAACN,SAAS,CAACM,CAAC,EAAE,qBAAqB,CAAC;OAAC,CACpD;;EAEb,CAAC;;;;AC7JD,EAQO,IAAMG,mBAAmB,GAAG;IAC/B9H,IAAI,kBAAG;MACH,OAAO;QACHyC,CAAC,EAAE;OACN;KACJ;IACDY,UAAU,EAAE;MACRK,eAAe,EAAfA,mDAAe;MACfJ,gBAAgB,EAAhBA;KACH;IACDnB,KAAK,EAAE,CAAC,SAAS,CAAC;IAClBL,QAAQ,q0DA6BP;IACDC,QAAQ,sDACDC,sBAAQ,CAACnE,SAAS,EAAE,CACnB,MAAM,CACT,CAAC,GACCmE,sBAAQ,CAACtB,WAAW,EAAE,CACrB,cAAc,EACd,UAAU,CACb,CAAC;MACFqH,UAAU,wBAAG;QAAA;QACT,OAAO,IAAI,CAACC,OAAO,CAAChI,IAAI,CACnBkB,MAAM,CAAC,UAAAC,CAAC;UAAA,OAAIxB,MAAM,CAACwB,CAAC,CAACpC,KAAK,CAAC;UAAC,CAC5BQ,OAAO,CAAC,UAAA4B,CAAC,EAAI;UACVA,CAAC,CAAC8G,KAAK,GAAG,KAAI,CAACnG,QAAQ,CAACX,CAAC,CAAC3C,IAAI,CAAC;SAClC,CAAC;OACT;MACD0J,WAAW,yBAAG;QACV,IAAMC,IAAI,GAAG,IAAI,CAACH,OAAO,CAAChI,IAAI,CAAC8G,IAAI,CAAC,UAAAtH,CAAC;UAAA,OAAIA,CAAC,CAAChB,IAAI,KAAK,SAAS;UAAC;QAC9D,IAAMA,IAAI,GAAG,IAAI,CAACwJ,OAAO,CAAChI,IAAI,CAAC8G,IAAI,CAAC,UAAAtH,CAAC;UAAA,OAAIA,CAAC,CAAChB,IAAI,KAAK,SAAS;UAAC;QAE9D,IAAI2J,IAAI,EAAE;UACN,2BAAmBA,IAAI,CAACpJ,KAAK,gBAAKP,IAAI,CAACO,KAAK;;QAEhD,OAAOP,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,KAAK;OACrB;MACDqJ,kBAAkB,gCAAG;QAAA;QACjB,gCAAO,IAAI,CAACJ,OAAO,CAAChI,IAAI,CAAC8G,IAAI,CAAC,UAAAtH,CAAC;UAAA,OAAIA,CAAC,CAAChB,IAAI,KAAK,gBAAgB;UAAC,0DAAxD,sBAA0DO,KAAK;;MAE7E;IACD+D,OAAO,EAAE;MACLuF,aAAa,2BAAG;QACZ,IAAIjC,MAAM,GAAG,IAAI,CAAC4B,OAAO,CAAChI,IAAI,CAACuH,KAAK,EAAE;QACtCnB,MAAM,GAAGA,MAAM,CAAClF,MAAM,CAAC,UAAAC,CAAC;UAAA,OAAIA,CAAC,CAAC3C,IAAI,KAAK,SAAS,IAAI2C,CAAC,CAAC3C,IAAI,KAAK,gBAAgB;UAAC;QAChF4H,MAAM,CAACkC,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;UAAA,OAAKC,MAAM,CAACF,CAAC,CAACD,IAAI,CAAC,GAAGG,MAAM,CAACD,CAAC,CAACF,IAAI,CAAC;UAAC;QAEtD,OAAOlC,MAAM;OAChB;MACDsC,QAAQ,oBAACvH,CAAC,EAAE;QACR,IAAI,CAACA,CAAC,CAACpC,KAAK,EAAE;UACV,OAAO,GAAG;SACb,MAAM,IAAIoC,CAAC,CAAC3C,IAAI,KAAK,SAAS,EAAE;UAC7B,IAAI2J,IAAI,GAAGhH,CAAC,CAACpC,KAAK;UAClB,IAAI,CAACY,MAAM,CAACwB,CAAC,CAACpC,KAAK,CAAC,CAAC4J,UAAU,CAAC,MAAM,CAAC,EAAE;YACrCR,IAAI,oBAAahH,CAAC,CAACpC,KAAK,CAAE;;UAE9B,2BAAmBoJ,IAAI,kCAAqBhH,CAAC,CAACpC,KAAK;SACtD,MAAM,IAAIoC,CAAC,CAAC3C,IAAI,KAAK,UAAU,EAAE;UAC9B,kCAA0B2C,CAAC,CAACpC,KAAK,gBAAKoC,CAAC,CAACpC,KAAK;SAChD,MAAM,IAAIoC,CAAC,CAAC3C,IAAI,KAAK,eAAe,EAAE;UACnC,IAAMiE,CAAC,GAAGtB,CAAC,CAACpC,KAAK;UACjB,IAAM6J,IAAI,GAAG,IAAIC,IAAI,CAACpG,CAAC,CAAC;UACxB,IAAMqG,EAAE,GAAGnJ,MAAM,CAACiJ,IAAI,CAACG,OAAO,EAAE,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;UAClD,IAAMC,EAAE,GAAGtJ,MAAM,CAACiJ,IAAI,CAACM,QAAQ,EAAE,GAAG,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;UACvD,IAAMG,IAAI,GAAGP,IAAI,CAACQ,WAAW,EAAE;UAC/B,IAAMC,SAAS,aAAMP,EAAE,cAAIG,EAAE,cAAIE,IAAI,CAAE,CAAC;;UAExC,OAAOE,SAAS;;QAGpB,OAAOlI,CAAC,CAACpC,KAAK;OACjB;MACDuK,cAAc,4BAAG;QACb,IAAI,CAAC7G,CAAC,GAAG,IAAI;;;EAGzB,CAAC;;;;ACjHD,EAMO,IAAM8G,yBAAyB,GAAG;IACrClG,UAAU,EAAE;MACRK,eAAe,EAAfA;KACH;IACDvB,KAAK,EAAE,CAAC,uBAAuB,CAAC;IAChCL,QAAQ,qhBAQP;IACDC,QAAQ,sCACDC,sBAAQ,CAACnE,SAAS,EAAE,CACnB,MAAM,CACT,CAAC;MACF2L,GAAG,iBAAG;QACF,OAAO,IAAI,CAACvI,qBAAqB,CAAC4B,MAAM;;MAE/C;IACDC,OAAO,EAAE;MACL2G,QAAQ,sBAAG;QACP7B,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC5G,qBAAqB,CAAC;OAC1C;MACDyI,qBAAqB,iCAACC,CAAC,EAAoD;QAAA,IAAlDC,KAAK,uEAAG,IAAI,CAAC1L,IAAI,CAACkI,MAAM,CAACyD,uBAAuB;QACrE,IAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAACH,CAAC,CAAC;QACvB,IAAMK,KAAK,GAAGF,GAAG,GAAG,EAAE;QACtB,IAAMG,MAAM,GAAGH,GAAG,GAAG,GAAG;QACxB,IAAIG,MAAM,IAAI,EAAE,IAAIA,MAAM,IAAI,EAAE,EAAE,OAAOL,KAAK,CAAC,CAAC,CAAC;QACjD,IAAII,KAAK,KAAK,CAAC,EAAE,OAAOJ,KAAK,CAAC,CAAC,CAAC;QAChC,IAAII,KAAK,IAAI,CAAC,IAAIA,KAAK,IAAI,CAAC,EAAE,OAAOJ,KAAK,CAAC,CAAC,CAAC;QAC7C,OAAOA,KAAK,CAAC,CAAC,CAAC;;;EAG3B,CAAC;;;;AC1CD,EAWO,IAAMM,MAAM,GAAG;IAClB7G,UAAU,EAAE;MACRqD,gBAAgB,EAAhBA,qDAAgB;MAChBC,YAAY,EAAZA,6CAAY;MACZwD,UAAU,EAAVA,yCAAU;MACVrC,mBAAmB,EAAnBA,mBAAmB;MACnByB,yBAAyB,EAAzBA;KACH;IACDzH,QAAQ,mtBAoBP;IACDC,QAAQ,sDACDC,sBAAQ,CAACnE,SAAS,EAAE,CACnB,MAAM,EACN,OAAO,EACP,SAAS,CACZ,CAAC,GACCmE,sBAAQ,CAACtB,WAAW,EAAE,CACrB,aAAa,EACb,eAAe,EACf,uBAAuB,EACvB,YAAY,EACZ,oBAAoB,EACpB,aAAa,CAChB,CAAC;MACF0J,QAAQ,sBAAG;QACP,OAAO,IAAI,CAACvJ,UAAU,GAAG,IAAI,CAACF,WAAW,CAACkC,MAAM;;MAEvD;IACDC,OAAO,sDACAqE,wBAAU,CAACtJ,SAAS,EAAE,CACrB,cAAc,EACd,aAAa,EACb,eAAe,CAClB,CAAC,GACCsJ,wBAAU,CAACzG,WAAW,EAAE,CACvB,gBAAgB,EAChB,kBAAkB,EAClB,eAAe,EACf,uBAAuB,EACvB,mBAAmB,CACtB,CAAC;MACF2J,SAAS,uBAAG;QACR,IAAI,CAACC,YAAY,EAAE;OACtB;MACDA,YAAY,0BAAG;QAAA;QACX,IAAI,CAAC1I,iBAAiB,CAAC,IAAI,CAAC;QAC5B,IAAI;UACA,IAAM2I,UAAU,GAAG,IAAI,CAAC5J,WAAW,CAAC4G,KAAK,CAAC,IAAI,CAAC1G,UAAU,EAAE,IAAI,CAACA,UAAU,GAAG,IAAI,CAACC,kBAAkB,CAAC,CAACQ,GAAG,CAAC,UAACkJ,MAAM,EAAK;YAClH,OAAO,KAAI,CAAC1K,YAAY,CAAC,UAAU,EAAE;cAAC2K,IAAI,EAAED;aAAO,CAAC;WACvD,CAAC;UAEFE,OAAO,CAACC,GAAG,CAACJ,UAAU,CAAC,CAClB9C,IAAI,CAAC,UAAC7G,aAAa,EAAK;YACrB,KAAI,CAACY,gBAAgB,CAACZ,aAAa,CAACU,GAAG,CAAC,UAACqG,CAAC,EAAEiD,CAAC,EAAK;cAC9C,OAAO;gBACHrM,EAAE,EAAE,KAAI,CAACoC,WAAW,CAACiK,CAAC,CAAC;gBACvB5K,IAAI,EAAE2H,CAAC,CAAC3H,IAAI;gBACZoB,QAAQ,EAAE;kBACN,UAAU,EAAE,UAAU;kBACtB,MAAM,EAAE,OAAO;kBACf,IAAI,EAAE2I,IAAI,CAACc,KAAK,CAACd,IAAI,CAACe,MAAM,EAAE,GAAC,IAAI,CAAC;kBACpC,MAAM,EAAE,mBAAmB;kBAC3B,UAAU,EAAE,KAAK;kBACjB,OAAO,EAAE,KAAI,CAAC5M,IAAI,CAACkI,MAAM,CAAC2E,aAAa;kBACvC,OAAO,EAAE,KAAI,CAACpK,WAAW,CAACiK,CAAC,CAAC;kBAC5B,SAAS,EAAE;;eAElB;aACJ,CAAC,CAAC;YACH,KAAI,CAAC5L,aAAa,CAAC,KAAK,CAAC;YACzB,KAAI,CAAC4C,iBAAiB,CAAC,KAAK,CAAC;YAC7B,KAAI,CAACF,aAAa,CAAC,KAAI,CAACb,UAAU,GAAG,KAAI,CAACC,kBAAkB,CAAC;WAChE,EACD,UAAC6G,CAAC,EAAK;YACHC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,CAAC,CAAC;YAClC,KAAI,CAAC3I,aAAa,CAAC,KAAK,CAAC;YACzB,IAAI2I,CAAC,IAAIA,CAAC,CAACrB,MAAM,CAACzD,MAAM,EAAE;cACtB,KAAI,CAAC/D,WAAW,yBAAkBgH,QAAQ,CAACQ,MAAM,CAAC,CAAC,CAAC,CAACC,OAAO,EAAG;;WAEtE,CACJ;SACJ,CAAC,OAAMyE,GAAG,EAAE;UACT,MAAMA,GAAG;;;MAGpB;IAED/I,OAAO,qBAAG;MACN,IAAI,CAACjD,aAAa,CAAC,IAAI,CAAC;MACxB,IAAI,CAACsL,YAAY,EAAE;;EAE3B,CAAC;;;;ACzHD,EASwC;EAAA;EAAA;EAAA;AAExC,MAAaW,WAAW;IAMtB,qBAAYC,QAAQ,EAAEC,OAAO,EAAE;MAAA;MAAA;QAAA;QAAA;;MAAA;QAAA;QAAA;;MAAA;QAAA;QAAA;;MAAA;QAAA;QAAA;;MAC7B,sCAAI,UAAUC,yBAAW,EAAE;MAC3B,sCAAI,WAAWC,2BAAY,CAAC;QAC1BzL,OAAO,EAAE0L,kCAAmB,EAAE;QAC9BC,MAAM,EAAE,CACN;UACEC,IAAI,EAAE,GAAG;UACTC,SAAS,EAAEhF,IAAI;UACfiF,KAAK,EAAE;SACR,EACD;UACEF,IAAI,EAAE,WAAW;UACjBC,SAAS,EAAEhF;SACZ,EACD;UACE+E,IAAI,EAAE,SAAS;UACfC,SAAS,EAAEvB;SACZ;OAEJ,CAAC;MACF,sCAAI,aAAayB,QAAQ,CAACC,aAAa,CAACV,QAAQ,CAAC;MACjD,IAAI,CAACC,OAAO,GAAGA,OAAO;;IACvB;MAAA;MAAA,sBAEK;QACJ,IAAMU,IAAI,GAAG,IAAI;QAEjB,sCAAI,gBAAgBC,iBAAS,CAACC,SAAS,CAAC;UACtCvN,IAAI,EAAE,yBAAyB;UAC/B6E,UAAU,EAAE;YACVxB,WAAW,EAAXA;WACD;UACDC,QAAQ,EAAE,iBAAiB;UAC3BkK,WAAW,yBAAG;YACZnO,SAAS,EAAE,CAACG,UAAU,GAAG6N,IAAI,CAACV,OAAO,CAACnL,IAAI,IAAI,EAAE;YAChDnC,SAAS,EAAE,CAACI,gBAAgB,GAAG4N,IAAI,CAACV,OAAO,CAAClN,gBAAgB,IAAI,EAAE;YAElEJ,SAAS,EAAE,CAACK,IAAI,GAAG2N,IAAI,CAACV,OAAO,CAACjN,IAAI,IAAI,EAAE;YAC1CL,SAAS,EAAE,CAACM,OAAO,GAAG0N,IAAI,CAACV,OAAO,CAAChN,OAAO,IAAI,EAAE;YAEhDuC,WAAW,EAAE,CAACI,kBAAkB,GAAG+K,IAAI,CAACV,OAAO,CAACrK,kBAAkB,IAAI,CAAC;;SAE1E,CAAC;QAEF,sCAAI,gBAAcmL,GAAG,mCAAC,IAAI,UAAQ;QAClC,sCAAI,gBAAcA,GAAG,mCAAC,IAAI,WAAS;QACnC,sCAAI,gBAAcC,KAAK,mCAAC,IAAI,aAAW;;;MACxC;MAAA,oDAEmC;QAClCC,4BAAc,mCAAC,IAAI,UAAQ;;;MAC5B;MAAA,gCAEe;QACd,OAAOC,UAAU;;;IAClB;EAAA;;;;;;;;"}