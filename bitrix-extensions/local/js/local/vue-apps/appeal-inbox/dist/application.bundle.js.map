{"version":3,"file":"application.bundle.js","sources":["../src/stores/data.js","../src/stores/profile.js","../src/stores/predefined.js","../src/stores/table.js","../src/stores/filter.js","../src/components/application.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    userid: '',\r\n    sessid: '',\r\n    signedParameters: '',\r\n  }),\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const profileStore = defineStore('profile', {\r\n  state: () => ({\r\n    actions: {\r\n      profiles: {},\r\n    },\r\n    profiles: [],\r\n    profilesCounter: 0,\r\n    loadingProfiles: true,\r\n  }),\r\n  getters: {\r\n    defaultProfile() {\r\n      return this.profiles.find((p) => p.default);\r\n    },\r\n  },\r\n  actions: {\r\n    showError({ error, method }) {\r\n      console.log(error, method);\r\n    },\r\n    setDefaultProfile({ id }) {\r\n      if (this.profiles.length) {\r\n        this.profiles.forEach((p) => {\r\n          p.default = p.id === id;\r\n        });\r\n      }\r\n    },\r\n    increaseProfilesCounter() {\r\n      ++this.profilesCounter;\r\n    },\r\n    runProfiles(data, callback) {\r\n      this.loadingProfiles = true;\r\n      let a = window.BX.ajax.runComponentAction(\r\n        this.actions.profiles.component,\r\n        this.actions.profiles.method,\r\n        data\r\n      );\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loadingProfiles = false;\r\n          resultFn(state, result.data);\r\n        },\r\n        (error) => {\r\n          this.loadingProfiles = false;\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['appeal-inbox']\r\n          ) {\r\n            resultFn(state, window.twinpx.vue['appeal-inbox'].profiles);\r\n          } else {\r\n            this.showError({ error, method: 'profiles' });\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.profiles = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    runSetDefaultProfile(data, callback, counter) {\r\n      this.loadingProfiles = true;\r\n      let a = window.BX.ajax.runComponentAction(\r\n        this.actions.setDefaultProfile.component,\r\n        this.actions.setDefaultProfile.method,\r\n        data\r\n      );\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loadingProfiles = false;\r\n          resultFn(state, result.data);\r\n        },\r\n        (error) => {\r\n          this.loadingProfiles = false;\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['appeal-inbox']\r\n          ) {\r\n            resultFn(\r\n              state,\r\n              window.twinpx.vue['appeal-inbox'].setDefaultProfile\r\n            );\r\n          } else {\r\n            this.showError({ error, method: 'setDefaultProfile' });\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        if (counter === state.profilesCounter) {\r\n          console.log(counter, state.profilesCounter);\r\n          state.setDefaultProfile({ id: data });\r\n          if (callback) {\r\n            callback();\r\n          }\r\n        }\r\n      }\r\n    },\r\n    bitrixLogs() {},\r\n  },\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const predefinedStore = defineStore('predefined', {\r\n  state: () => ({\r\n    actions: {\r\n      predefined: {},\r\n    },\r\n    predefined: [],\r\n    loadingPredefined: true,\r\n  }),\r\n  getters: {\r\n    predefinedActive() {\r\n      if (!this.predefined.fields) return undefined;\r\n      return this.predefined.fields.find((f) => f.active);\r\n    },\r\n  },\r\n  actions: {\r\n    showError({ error, method }) {\r\n      console.log(error, method);\r\n    },\r\n    setPredefinedActive({ field }) {\r\n      this.predefined.fields.forEach((f) => {\r\n        if (f.id !== field.id) {\r\n          delete f.active;\r\n        }\r\n        field.active = !field.active;\r\n      });\r\n    },\r\n    runPredefinedFilters(data, callback) {\r\n      this.loadingPredefined = true;\r\n      let a = window.BX.ajax.runComponentAction(\r\n        this.actions.predefinedFilters.component,\r\n        this.actions.predefinedFilters.method,\r\n        data\r\n      );\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loadingPredefined = false;\r\n          resultFn(state, result.data);\r\n        },\r\n        (error) => {\r\n          this.loadingPredefined = false;\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['appeal-inbox']\r\n          ) {\r\n            resultFn(\r\n              state,\r\n              window.twinpx.vue['appeal-inbox'].predefinedFilters\r\n            );\r\n          } else {\r\n            this.showError({ error, method: 'predefinedFilters' });\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.predefined = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n  },\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const tableStore = defineStore('table', {\r\n  state: () => {\r\n    return {\r\n      loadingCols: false,\r\n      loadingAppeals: false,\r\n      columnsNames: [],\r\n      appeals: {},\r\n      sort: {},\r\n      actions: {},\r\n      errorTable: '',\r\n    };\r\n  },\r\n  getters: {\r\n    loadingTable() {\r\n      return this.loadingCols || this.loadingAppeals;\r\n    },\r\n  },\r\n  actions: {\r\n    hideErrorTable() {\r\n      this.errorTable = '';\r\n    },\r\n    showError({ error, method }) {\r\n      if (typeof error === 'boolean') {\r\n        this.errorTable = error;\r\n      } else if (typeof error === 'object') {\r\n        if (\r\n          error.errors &&\r\n          typeof error.errors === 'object' &&\r\n          error.errors[0] &&\r\n          error.errors[0].code !== undefined\r\n        ) {\r\n          if (error.errors[0].code === 'NETWORK_ERROR') {\r\n            if (error.data && error.data.ajaxRejectData) {\r\n              if (error.data.ajaxRejectData.data) {\r\n                this.errorTable = `${window.BX.message('ERROR_SUPPORT')}\r\n                    <br>\r\n                    <br>\r\n                    Метод: ${method}. Код ошибки: ${\r\n                  error.data.ajaxRejectData.data\r\n                }. Описание: ${\r\n                  window.BX.message(\r\n                    'ERROR_' + error.data.ajaxRejectData.data\r\n                  ) || window.BX.message('ERROR_SERVER')\r\n                }.`;\r\n              }\r\n            } else if (window.BX.message) {\r\n              this.errorTable = `${window.BX.message('ERROR_SUPPORT')}\r\n                <br>\r\n                <br>\r\n                Метод: ${method}. Код ошибки: NETWORK_ERROR. Описание: ${window.BX.message(\r\n                'ERROR_OFFLINE'\r\n              )}.`;\r\n            }\r\n          } else {\r\n            this.errorTable = `${window.BX.message('ERROR_SUPPORT')}\r\n              <br>\r\n              <br>\r\n              Метод: ${method}.${\r\n              error.errors[0].code\r\n                ? ' Код ошибки: ' + error.errors[0].code + '.'\r\n                : ''\r\n            } ${\r\n              error.errors[0].message\r\n                ? ' Описание: ' + error.errors[0].message + '.'\r\n                : ''\r\n            }`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    runColumnsNames(data, callback) {\r\n      this.loadingCols = true;\r\n      let a = window.BX.ajax.runComponentAction(\r\n        this.actions.columnsNames,\r\n        data\r\n      );\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loadingCols = false;\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          this.loadingCols = false;\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['appeal-inbox']\r\n          ) {\r\n            resultFn(state, window.twinpx.vue['appeal-inbox'].columnsNames);\r\n          } else {\r\n            this.showError({ error, method: 'columnsNames' });\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.columnsNames = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    runAppeals(data, callback) {\r\n      this.loadingAppeals = true;\r\n      let a = window.BX.ajax.runComponentAction(this.actions.appeals, data);\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loadingAppeals = false;\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          this.loadingAppeals = false;\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['appeal-inbox']\r\n          ) {\r\n            resultFn(\r\n              state,\r\n              window.twinpx.vue['appeal-inbox'].appeals(data.startIndex)\r\n            );\r\n          } else {\r\n            this.showError({ error, method: 'appeals' });\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        const items = data.appeals;\r\n        data.items = items;\r\n        delete data.appeals;\r\n        state.appeals = data;\r\n\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    runDefaultSort(data, callback) {\r\n      let a = window.BX.ajax.runComponentAction(this.actions.defaultSort, data);\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['appeal-inbox']\r\n          ) {\r\n            resultFn(state, window.twinpx.vue['appeal-inbox'].defaultSort);\r\n          } else {\r\n            this.showError({ error, method: 'defaultSort' });\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.sort = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    runSetDefaultSort(data, callback) {\r\n      let a = window.BX.ajax.runComponentAction(\r\n        this.actions.setDefaultSort,\r\n        data\r\n      );\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['appeal-inbox']\r\n          ) {\r\n            resultFn(state, window.twinpx.vue['appeal-inbox'].setDefaultSort);\r\n          } else {\r\n            this.showError({ error, method: 'setDefaultSort' });\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.sort = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n  },\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const filterStore = defineStore('filter', {\r\n  state: () => ({\r\n    loadingFilter: false,\r\n    actions: {},\r\n    filters: [],\r\n    errorFilter: '',\r\n  }),\r\n  actions: {\r\n    hideErrorFilter() {\r\n      this.errorFilter = '';\r\n    },\r\n    showError({ error, method }) {\r\n      if (typeof error === 'boolean') {\r\n        this.errorFilter = error;\r\n      } else if (typeof error === 'object') {\r\n        if (\r\n          error.errors &&\r\n          typeof error.errors === 'object' &&\r\n          error.errors[0] &&\r\n          error.errors[0].code !== undefined\r\n        ) {\r\n          if (error.errors[0].code === 'NETWORK_ERROR') {\r\n            if (error.data && error.data.ajaxRejectData) {\r\n              if (error.data.ajaxRejectData.data) {\r\n                this.errorFilter = `${window.BX.message('ERROR_SUPPORT')}\r\n                    <br>\r\n                    <br>\r\n                    Метод: ${method}. Код ошибки: ${\r\n                  error.data.ajaxRejectData.data\r\n                }. Описание: ${\r\n                  window.BX.message(\r\n                    'ERROR_' + error.data.ajaxRejectData.data\r\n                  ) || window.BX.message('ERROR_SERVER')\r\n                }.`;\r\n              }\r\n            } else if (window.BX.message) {\r\n              this.errorFilter = `${window.BX.message('ERROR_SUPPORT')}\r\n                <br>\r\n                <br>\r\n                Метод: ${method}. Код ошибки: NETWORK_ERROR. Описание: ${window.BX.message(\r\n                'ERROR_OFFLINE'\r\n              )}.`;\r\n            }\r\n          } else {\r\n            this.errorFilter = `${window.BX.message('ERROR_SUPPORT')}\r\n              <br>\r\n              <br>\r\n              Метод: ${method}.${\r\n              error.errors[0].code\r\n                ? ' Код ошибки: ' + error.errors[0].code + '.'\r\n                : ''\r\n            } ${\r\n              error.errors[0].message\r\n                ? ' Описание: ' + error.errors[0].message + '.'\r\n                : ''\r\n            }`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    changeTextControlValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeSelectRadioValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeSelectDropdownValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeDateValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeControlValue({ control, value, checked }) {\r\n      switch (control.property) {\r\n        case 'text':\r\n        case 'textarea':\r\n        case 'hint':\r\n          this.changeTextControlValue({ control, value });\r\n          break;\r\n        // case 'multiselect':\r\n        //   commit('changeMultiselectValue', { control, value, checked });\r\n        //   break;\r\n        // case 'checkbox':\r\n        //   commit('changeCheckboxValue', { control, checked });\r\n        //   break;\r\n        case 'select':\r\n          this[\r\n            `changeSelect${control.type\r\n              .substring(0, 1)\r\n              .toUpperCase()}${control.type.substring(1).toLowerCase()}Value`\r\n          ]({ control, value });\r\n          break;\r\n        // case 'file':\r\n        //   commit('changeFileValue', { control, value });\r\n        //   break;\r\n        case 'date':\r\n          this.changeDateValue({ control, value });\r\n          break;\r\n        // case 'color':\r\n        //   commit('changeColorValue', { control, value });\r\n        //   break;\r\n      }\r\n    },\r\n    runFilters(data, callback) {\r\n      this.loadingFilter = true;\r\n      let a = window.BX.ajax.runComponentAction(this.actions.filters, data);\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loadingFilter = false;\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          this.loadingFilter = false;\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['appeal-inbox']\r\n          ) {\r\n            resultFn(state, window.twinpx.vue['appeal-inbox'].filters);\r\n          } else {\r\n            this.showError({ error, method: 'filters' });\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.filters = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    runHintsAction({ control, hintsAction }, callback) {\r\n      control.loading = true;\r\n\r\n      let a = window.BX.ajax.runComponentAction(hintsAction, {\r\n        string:\r\n          typeof control.value === 'object'\r\n            ? control.value.value\r\n            : control.value,\r\n      });\r\n\r\n      a.then(\r\n        (result) => {\r\n          control.loading = false;\r\n          resultFn(result);\r\n        },\r\n        (error) => {\r\n          control.loading = false;\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['appeal-inbox']\r\n          ) {\r\n            resultFn(window.twinpx.vue['appeal-inbox'].hints);\r\n          } else {\r\n            this.showError({ error, method: hintsAction });\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(data) {\r\n        control.hints = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    setHints({ control, value }) {\r\n      control.hints = value;\r\n    },\r\n  },\r\n});\r\n","import './filter-table.css';\r\nimport './application.css';\r\n\r\nimport { ProfileChoice } from 'local.vue-components.profile-choice';\r\nimport { PredefinedFilters } from 'local.vue-components.predefined-filters';\r\nimport { FilterComponent } from 'local.vue-components.filter-component';\r\nimport { TableComponent } from 'local.vue-components.table-component';\r\nimport { StickyScroll } from 'local.vue-components.sticky-scroll';\r\nimport { PaginationComponent } from 'local.vue-components.pagination-component';\r\nimport { ErrorMessage } from 'local.vue-components.error-message';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\nimport { profileStore } from '../stores/profile';\r\nimport { predefinedStore } from '../stores/predefined';\r\nimport { tableStore } from '../stores/table';\r\nimport { filterStore } from '../stores/filter';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    ProfileChoice,\r\n    PredefinedFilters,\r\n    FilterComponent,\r\n    TableComponent,\r\n    StickyScroll,\r\n    PaginationComponent,\r\n    ErrorMessage,\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n    <ProfileChoice :profiles=\"profiles\" :loading=\"loadingProfiles\" @clickProfile=\"clickProfile\" />\r\n    <hr class=\"hr--sl\">\r\n    <PredefinedFilters :predefined=\"predefined\" :loading=\"loadingPredefined\" @clickPredefined=\"clickPredefined\" />\r\n    <hr class=\"hr--lg\">\r\n    <div>\r\n      <ErrorMessage :error=\"error\" @hideError=\"hideError\" />\r\n      <div v-if=\"filters\">\r\n        <FilterComponent :cols=\"filterCols\" :filters=\"filters\" :loading=\"loadingFilter\" @input=\"input\" @hints=\"hints\" />\r\n      </div>\r\n      <hr>\r\n      <div v-if=\"appeals\">\r\n        <StickyScroll>\r\n          <TableComponent :sortable=\"true\" :cols=\"tableCols\" :columnsNames=\"columnsNames\" :items=\"appeals\" :sort=\"sort\" :loading=\"loadingTable\" :maxCountPerRequest=\"maxCountPerRequest\" @clickTh=\"clickTh\" @clickPage=\"clickPage\" />\r\n        </StickyScroll> \r\n        <hr>\r\n        <div class=\"vue-ft-table-bottom\">\r\n          <div class=\"vue-ft-table-all\" v-if=\"appeals.resultCount\">Всего: {{ appeals.resultCount }}</div>\r\n          <PaginationComponent :pagesNum=\"pagesNum\" :pageActive=\"pageActive\" @clickPage=\"clickPage\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, ['userid', 'sessid', 'signedParameters']),\r\n    ...mapState(profileStore, [\r\n      'profiles',\r\n      'defaultProfile',\r\n      'profilesCounter',\r\n      'loadingProfiles',\r\n    ]),\r\n    ...mapState(predefinedStore, [\r\n      'predefined',\r\n      'predefinedActive',\r\n      'loadingPredefined',\r\n    ]),\r\n    ...mapState(tableStore, [\r\n      'loadingTable',\r\n      'columnsNames',\r\n      'appeals',\r\n      'sort',\r\n      'tableCols',\r\n      'maxCountPerRequest',\r\n      'errorTable',\r\n    ]),\r\n    ...mapState(filterStore, [\r\n      'loadingFilter',\r\n      'filters',\r\n      'filterCols',\r\n      'errorFilter',\r\n    ]),\r\n    pagesNum() {\r\n      return Math.ceil(this.appeals.resultCount / this.maxCountPerRequest);\r\n    },\r\n    pageActive() {\r\n      return this.appeals.startIndex / this.maxCountPerRequest + 1;\r\n    },\r\n    error() {\r\n      return this.errorTable || this.errorFilter;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(profileStore, [\r\n      'runProfiles',\r\n      'runSetDefaultProfile',\r\n      'setDefaultProfile',\r\n      'increaseProfilesCounter',\r\n    ]),\r\n    ...mapActions(predefinedStore, [\r\n      'runPredefinedFilters',\r\n      'setPredefinedActive',\r\n    ]),\r\n    clickProfile({ id }) {\r\n      this.setDefaultProfile({ id });\r\n      this.increaseProfilesCounter();\r\n\r\n      this.runSetDefaultProfile(\r\n        {\r\n          mode: 'class',\r\n          data: {\r\n            userid: this.userid,\r\n            sessid: this.sessid,\r\n            profileid: id,\r\n          },\r\n          signedParameters: this.signedParameters,\r\n        },\r\n        null,\r\n        this.profilesCounter\r\n      );\r\n    },\r\n    clickPredefined({ field }) {\r\n      this.setPredefinedActive({ field });\r\n      // this.increasePredefinedCounter();\r\n\r\n      if (!this.defaultProfile) return;\r\n\r\n      this.runAppeals(\r\n        {\r\n          mode: 'class',\r\n          data: {\r\n            userid: this.userid,\r\n            sessid: this.sessid,\r\n            profileid: this.defaultProfile.id,\r\n            startIndex: 0,\r\n            maxCountPerRequest: 50,\r\n            predefinedFilter: this.predefinedActive.id,\r\n            filters: [\r\n              {\r\n                id: 'U_NAME',\r\n                value: 'Лёвина',\r\n              },\r\n            ],\r\n            columnSort: '',\r\n            sortType: '',\r\n          },\r\n          signedParameters: this.signedParameters,\r\n        },\r\n        null,\r\n        this.profilesCounter\r\n      );\r\n    },\r\n    ...mapActions(tableStore, [\r\n      'hideErrorTable',\r\n      'runColumnsNames',\r\n      'runAppeals',\r\n      'runDefaultSort',\r\n      'runSetDefaultSort',\r\n    ]),\r\n    ...mapActions(filterStore, [\r\n      'hideErrorFilter',\r\n      'runFilters',\r\n      'changeControlValue',\r\n      'runHintsAction',\r\n      'setHints',\r\n    ]),\r\n    hideError() {\r\n      this.hideErrorTable();\r\n      this.hideErrorFilter();\r\n    },\r\n    clickTh({ column }) {\r\n      const sortType =\r\n        this.sort.columnSort === column.id && this.sort.sortType === 0 ? 1 : 0;\r\n\r\n      this.runSetDefaultSort(\r\n        {\r\n          signedParameters: this.signedParameters,\r\n          sessionid: this.sessionid,\r\n          columnSort: column.id,\r\n          sortType,\r\n        },\r\n        () => {\r\n          this.runAppeals({\r\n            signedParameters: this.signedParameters,\r\n            sessionid: this.sessionid,\r\n            startIndex: this.appeals.startIndex || 0,\r\n            maxCountPerRequest: this.maxCountPerRequest,\r\n            filters: [],\r\n            columnSort: 1,\r\n            sortType: 'asc',\r\n          });\r\n          this.runDefaultSort({\r\n            signedParameters: this.signedParameters,\r\n            sessionid: this.sessionid,\r\n          });\r\n        }\r\n      );\r\n    },\r\n    input({ control, value, checked }) {\r\n      this.changeControlValue({\r\n        control,\r\n        value,\r\n        checked,\r\n      });\r\n\r\n      this.runAppeals({\r\n        signedParameters: this.signedParameters,\r\n        sessionid: this.sessionid,\r\n        startIndex: this.appeals.startIndex || 0,\r\n        maxCountPerRequest: this.maxCountPerRequest,\r\n        filters: this.filters,\r\n        columnSort: this.sort.columnSort,\r\n        sortType: this.sort.sortType,\r\n      });\r\n    },\r\n    hints({ type, control, action, value }) {\r\n      switch (type) {\r\n        case 'get':\r\n          this.runHintsAction({\r\n            control,\r\n            action,\r\n          });\r\n          break;\r\n        case 'set':\r\n          this.setHints({\r\n            control,\r\n            value,\r\n          });\r\n          break;\r\n      }\r\n    },\r\n    clickPage({ count }) {\r\n      this.runAppeals({\r\n        signedParameters: this.signedParameters,\r\n        sessionid: this.sessionid,\r\n        startIndex: (count - 1) * this.maxCountPerRequest,\r\n        maxCountPerRequest: this.maxCountPerRequest,\r\n        filters: this.filters,\r\n        columnSort: this.sort.columnSort,\r\n        sortType: this.sort.sortType,\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.runProfiles(\r\n      {\r\n        mode: 'class',\r\n        data: {\r\n          userid: this.userid,\r\n          sessid: this.sessid,\r\n        },\r\n        signedParameters: this.signedParameters,\r\n      },\r\n      () => {\r\n        //predefined\r\n        if (!this.defaultProfile) return;\r\n        this.runPredefinedFilters({\r\n          mode: 'class',\r\n          data: {\r\n            userid: this.userid,\r\n            sessid: this.sessid,\r\n            profileid: this.defaultProfile.id,\r\n          },\r\n          signedParameters: this.signedParameters,\r\n        });\r\n        //filter\r\n        //cols\r\n        //appeals\r\n        this.runColumnsNames({\r\n          signedParameters: this.signedParameters,\r\n          sessionid: this.sessionid,\r\n        });\r\n\r\n        this.runDefaultSort(\r\n          {\r\n            signedParameters: this.signedParameters,\r\n            sessionid: this.sessionid,\r\n          },\r\n          () => {\r\n            this.runAppeals({\r\n              signedParameters: this.signedParameters,\r\n              sessionid: this.sessionid,\r\n              startIndex: this.appeals.startIndex || 0,\r\n              maxCountPerRequest: this.maxCountPerRequest,\r\n              filters: this.filters,\r\n              columnSort: this.sort.columnSort,\r\n              sortType: this.sort.sortType,\r\n            });\r\n          }\r\n        );\r\n\r\n        this.runFilters({\r\n          signedParameters: this.signedParameters,\r\n          sessionid: this.sessionid,\r\n        });\r\n      }\r\n    );\r\n  },\r\n};\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { Application } from './components/application';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { dataStore } from './stores/data';\r\nimport { profileStore } from './stores/profile';\r\nimport { predefinedStore } from './stores/predefined';\r\nimport { filterStore } from './stores/filter';\r\nimport { tableStore } from './stores/table';\r\n\r\nexport class AppealInbox {\r\n  #store;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options): void {\r\n    this.#store = createPinia();\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run(): void {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Appeal new change form component',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: '<Application/>',\r\n      beforeMount() {\r\n        dataStore().userid = self.options.userid || '';\r\n        dataStore().sessid = self.options.sessid || '';\r\n        dataStore().signedParameters = self.options.signedParameters || '';\r\n\r\n        profileStore().actions = {\r\n          profiles: self.options.profiles || {},\r\n          setDefaultProfile: self.options.setDefaultProfile || {},\r\n        };\r\n\r\n        predefinedStore().actions = {\r\n          predefinedFilters: self.options.predefinedFilters || {},\r\n        };\r\n\r\n        filterStore().filterCols = self.options.FILTER_COLS || [];\r\n        filterStore().actions = {\r\n          filters: self.options.filters || [],\r\n        };\r\n\r\n        tableStore().tableCols = self.options.TABLE_COLS || [];\r\n        tableStore().maxCountPerRequest = self.options.maxCountPerRequest || 50;\r\n        tableStore().actions = {\r\n          columnsNames: self.options.columnsNames || '',\r\n          appeals: self.options.appeals || '',\r\n          defaultSort: self.options.defaultSort || '',\r\n          setDefaultSort: self.options.setDefaultSort || '',\r\n        };\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication(): void {\r\n    setActivePinia(this.#store);\r\n  }\r\n}\r\n"],"names":["dataStore","defineStore","state","userid","sessid","signedParameters","profileStore","actions","profiles","profilesCounter","loadingProfiles","getters","defaultProfile","find","p","showError","error","method","console","log","setDefaultProfile","id","length","forEach","increaseProfilesCounter","runProfiles","data","callback","a","window","BX","ajax","runComponentAction","component","then","result","resultFn","twinpx","vue","markup","runSetDefaultProfile","counter","bitrixLogs","predefinedStore","predefined","loadingPredefined","predefinedActive","fields","undefined","f","active","setPredefinedActive","field","runPredefinedFilters","predefinedFilters","tableStore","loadingCols","loadingAppeals","columnsNames","appeals","sort","errorTable","loadingTable","hideErrorTable","errors","code","ajaxRejectData","message","runColumnsNames","runAppeals","startIndex","items","runDefaultSort","defaultSort","runSetDefaultSort","setDefaultSort","filterStore","loadingFilter","filters","errorFilter","hideErrorFilter","changeTextControlValue","control","value","changeSelectRadioValue","changeSelectDropdownValue","changeDateValue","changeControlValue","checked","property","type","substring","toUpperCase","toLowerCase","runFilters","runHintsAction","hintsAction","loading","string","hints","setHints","Application","components","ProfileChoice","PredefinedFilters","FilterComponent","TableComponent","StickyScroll","PaginationComponent","ErrorMessage","template","computed","mapState","pagesNum","Math","ceil","resultCount","maxCountPerRequest","pageActive","methods","mapActions","clickProfile","mode","profileid","clickPredefined","predefinedFilter","columnSort","sortType","hideError","clickTh","column","sessionid","input","action","clickPage","count","mounted","AppealInbox","rootNode","options","createPinia","document","querySelector","self","BitrixVue","createApp","name","beforeMount","filterCols","FILTER_COLS","tableCols","TABLE_COLS","use","mount","setActivePinia"],"mappings":"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"}