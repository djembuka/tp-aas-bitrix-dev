{"version":3,"file":"application.bundle.js","sources":["../src/stores/data.js","../src/components/application.js","../src/pages/registration.js","../src/pages/list.js","../src/components/formControlCheckbox.js","../src/components/formControlNumber.js","../src/components/formControlRadio.js","../src/components/questionComponent.js","../src/pages/voting.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    lang: {\r\n      registration: {\r\n        heading: 'Регистрация на съезд',\r\n        text: 'Добро пожаловать на страницу  регистрации на съезд. Кнопка регистрации будет доступна в день съезда  24 октября 2025 года.',\r\n        subtitle: 'Ваши данные',\r\n        button: 'Зарегистрироваться'\r\n      },\r\n      list: {\r\n        heading: 'Список голосований',\r\n        text: 'Уважаемые делегаты, голосования проходят строго по порядку и автоматически выводятся в приложение. Следите за их ходом на экране. Как только голосование станет доступным, оно автоматически обновится в вашем приложении.',\r\n      },\r\n      error: {\r\n        registration: 'Вы не зарегистрированы как делегат съезда. Если считаете это ошибкой, обратитесь в Дирекцию СРО ААС по телефону +7 (495) 734-22-22.',\r\n        registrationButton: 'Регистрация закончена.'\r\n      }\r\n    },\r\n    actions: {\r\n      'getState': ['twinpx:voting.app', 'getState'],\r\n      'congressRegistration': ['twinpx:voting.app', 'congressRegistration'],\r\n      'votingStatuses': ['twinpx:voting.control', 'votingStatuses'],\r\n      'groupsQuestions': ['twinpx:voting.form', 'groupsQuestions'],\r\n      'submitVotingResult': ['twinpx:voting.app', 'submitVotingResult']\r\n    },\r\n\r\n    loading: false,\r\n    loadingRegistration: false,\r\n    loadingVoting: false,\r\n\r\n    error: '',\r\n    errorRegistration: '',\r\n    errorVoting: '',\r\n    \r\n    params: {},\r\n    statuses: [],\r\n    groupInfo: {},\r\n\r\n    stateWatcher: false,\r\n\r\n    labels: {\r\n      'voting_v1': 'label-gray',\r\n      'voting_v2': 'label-blue',\r\n      'voting_v3': 'label-orange',\r\n      'voting_v4': 'label-gray',\r\n      'voting_v5': 'label-green',\r\n      'voting_v6': 'label-gray',\r\n    }\r\n  }),\r\n  actions: {\r\n    async getStatuses() {\r\n      try {\r\n        const statuses = await this.runBitrixMethod('votingStatuses');\r\n        this.changeProp('statuses', statuses.data);\r\n      } catch(error) {\r\n        this.changeProp('errorVoting', error?.errors ? error?.errors[0].message : error);\r\n      }\r\n    },\r\n    addCheckedNum() {\r\n      this.params.voting.questionsGroups.forEach(g => {\r\n        g.questions.forEach(q => {\r\n          q.checkedNum = String(q.type) === '1' ? 0 : undefined;\r\n        });\r\n      });\r\n    },\r\n    changeProp(prop, value) {\r\n      this[prop] = value;\r\n    },\r\n    runBitrixMethod(method, data, formData) {\r\n      if (!this.actions[method] || !Array.isArray(this.actions[method])) {\r\n        return Promise.reject({errors: [{message: `No such method ${method}`}]});\r\n      }\r\n\r\n      let payload;\r\n      \r\n      // Если есть formData, добавляем к нему customData и передаем как data\r\n      if (formData instanceof FormData) {\r\n        // Добавляем customData к FormData\r\n        Object.entries(this.customData).forEach(([key, value]) => {\r\n          if (value !== undefined && value !== null) {\r\n            formData.append(key, value);\r\n          }\r\n        });\r\n        payload = formData;\r\n      } else if (data) {\r\n        // Если есть data, объединяем с customData в объект\r\n        payload = {\r\n          ...this.customData,\r\n          ...data\r\n        };\r\n      } else {\r\n        // Если нет ни data, ни formData, передаем только customData\r\n        payload = this.customData;\r\n      }\r\n\r\n      return BX.ajax.runComponentAction(this.actions[method][0], this.actions[method][1], {\r\n        mode: 'class',\r\n        data: payload,\r\n        signedParameters: this.signedParameters,\r\n      })\r\n    },\r\n\r\n    changeChecked({answer, checked}) {\r\n        answer.checked = checked;\r\n    },\r\n    changeCheckedNum({question, checkedNum}) {\r\n      question.checkedNum = checkedNum;\r\n    },\r\n    setActiveQuestion({question}) {\r\n        this.removeActiveQuestion();\r\n        question.isActive = true;\r\n    },\r\n    removeActiveQuestion() {\r\n        this.params.voting.questionsGroups.forEach((group) => {\r\n            group.questions.forEach((question) => {\r\n                question.isActive = false;\r\n            });\r\n        });\r\n    },\r\n  }\r\n});\r\n","import '../css/basic.css';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\n\r\nimport { LoaderCircle } from 'local.vue-components.loader-circle';\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\n\r\nexport const Application = {\r\n    components: {\r\n        LoaderCircle,\r\n        MessageComponent\r\n    },\r\n    template: `\r\n        <div class=\"twpx-voting-client__header\">\r\n            <img width=\"62\" height=\"54\" alt=\"Саморегулируемая организация аудиторов Ассоциация «Содружество»\" src=\"/local/templates/aas/images/logo-aas-small.svg\">\r\n            <span>{{ params.name }}</span>\r\n        </div>\r\n\r\n        <div class=\"twpx-voting-client\">\r\n\r\n            <div class=\"twpx-voting-client__loader\" v-if=\"loading\">\r\n                <LoaderCircle :show=\"loading\" />\r\n            </div>\r\n\r\n            <MessageComponent v-else-if=\"error\" type=\"error\" size=\"big\" :message=\"error\" />\r\n\r\n            <router-view v-else />\r\n        </div>\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n          'loading',\r\n          'error',\r\n          'params',\r\n          'statuses'\r\n        ]),\r\n    },\r\n    methods: {\r\n        ...mapActions(dataStore, [\r\n            'changeProp',\r\n            'runBitrixMethod',\r\n            'addCheckedNum',\r\n            'getStatuses'\r\n        ]),\r\n    },\r\n    mounted() {\r\n        const _this = this;\r\n        _this.changeProp('loading', true);\r\n\r\n        if (window.BX && BX.ready) {\r\n            BX.ready(async function() {\r\n                BX.PULL.subscribe({\r\n                    moduleId: 'voting-app',\r\n                    callback: function(data) {\r\n                        console.log('Command:', data.command)\r\n                        console.log('Params:', data.params)\r\n                        // console.log('Extra:', data.extra)\r\n                        _this.changeProp('params', data.params);\r\n\r\n                        if (data.command === 'state_3') {\r\n                            _this.changeProp('pollId', data.params.votingId);\r\n\r\n                            _this.addCheckedNum();\r\n\r\n                            if (!_this.statuses.length) {\r\n                                _this.getStatuses();\r\n                            }\r\n                        }\r\n    \r\n                        _this.$router.push(`/${data.command}`);\r\n\r\n                        _this.changeProp('loading', false);\r\n                        _this.changeProp('error', '');\r\n                        _this.changeProp('errorVoting', '');\r\n                    }.bind(this)\r\n                });\r\n            });\r\n        }\r\n\r\n        setTimeout(async () => {\r\n            try {\r\n                await _this.runBitrixMethod('getState');\r\n            } catch(error) {\r\n                _this.changeProp('loading', false)\r\n                _this.changeProp('error', error?.errors ? error?.errors[0].message : error)\r\n            }\r\n        }, 5000);\r\n    }\r\n};","import '../css/basic.css';\r\nimport '../css/registration.css';\r\n\r\nimport { LoaderCircle } from 'local.vue-components.loader-circle';\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\n\r\nexport const Registration = {\r\n  data() {\r\n    return {\r\n      items: [\r\n        {\r\n          code: 'name',\r\n          title: 'ФИО',\r\n        },\r\n        {\r\n          code: 'ornz',\r\n          title: 'ОРНЗ',\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  components: {\r\n    LoaderCircle,\r\n    MessageComponent,\r\n    ButtonComponent,\r\n  },\r\n  // language=Vue\r\n  template: `\r\n    <div class=\"twpx-voting-registration twpx-voting-client-block\">\r\n\r\n      <h1>{{ lang.registration.heading }}</h1>\r\n\r\n      <div class=\"twpx-voting-client__loader\" v-if=\"loadingRegistration\">\r\n          <LoaderCircle :show=\"loadingRegistration\" />\r\n      </div>\r\n\r\n      <MessageComponent v-else-if=\"errorRegistration\" type=\"error\" size=\"big\" :message=\"errorRegistration\" />\r\n\r\n      <div v-else>\r\n\r\n        <div class=\"twpx-voting-client-content\">\r\n          <div class=\"twpx-voting-client-text\">{{ lang.registration.text }}</div>\r\n          <div class=\"twpx-voting-registration__items\">\r\n            <h2>{{ lang.registration.subtitle }}</h2>\r\n            <div class=\"twpx-voting-registration__item\" v-for=\"item in items\" :key=\"item.code\">\r\n              <span>{{ item.title }}</span>\r\n              <span>{{ params[item.code] }}</span>\r\n            </div>\r\n          </div>\r\n          <MessageComponent v-if=\"params.closeRegister\" type=\"error\" size=\"big\" :message=\"lang.error.registrationButton\" />\r\n          <ButtonComponent v-else :text=\"lang.registration.button\" :props=\"['secondary', 'large']\" :disabled=\"!params.canRegister\" @clickButton=\"register\" />\r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, [\r\n      'lang',\r\n      'loadingRegistration',\r\n      'errorRegistration',\r\n      'params'\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...mapActions(dataStore, [\r\n      'changeProp',\r\n      'runBitrixMethod'\r\n    ]),\r\n    async register() {\r\n      this.changeProp('loadingRegistration', true)\r\n\r\n      try {\r\n        const response = await this.runBitrixMethod('congressRegistration', {userId: BX.message('USER_ID')})\r\n        console.log(response)\r\n        this.changeProp('loadingRegistration', false)\r\n        this.changeProp('errorRegistration', '');\r\n      } catch(error) {\r\n          this.changeProp('loadingRegistration', false)\r\n          this.changeProp('errorRegistration', error?.errors ? error?.errors[0].message : error)\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.params.notInList === true) {\r\n      this.changeProp('errorRegistration', this.lang.error.registration);\r\n    } else {\r\n      this.changeProp('errorRegistration', '');\r\n    }\r\n  }\r\n};\r\n","import '../css/basic.css';\r\nimport '../css/list.css';\r\n\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\n\r\nexport const List = {\r\n  components: {\r\n    MessageComponent,\r\n  },\r\n  template: `\r\n\r\n    <div class=\"twpx-voting-list twpx-voting-client-block\">\r\n      <h1>{{ lang.list.heading }}</h1>\r\n      \r\n      <MessageComponent v-if=\"error\" :message=\"error\" size=\"big\" type=\"error\" />\r\n\r\n      <div v-else class=\"twpx-voting-client-content\">\r\n        <div class=\"twpx-voting-client-text\">{{ lang.list.text }}</div>\r\n        <div class=\"twpx-voting-list__items\">\r\n          <div class=\"twpx-voting-list__item\" v-for=\"item in params.votingList\" :key=\"item\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n              <path d=\"M3.25 10.25H1.5V20.75C1.5 21.7165 2.2835 22.5 3.25 22.5H20.75C21.7165 22.5 22.5 21.7165 22.5 20.75V10.25H20.75M3.25 10.25L12 15.5L20.75 10.25M3.25 10.25V5C3.25 3.067 4.817 1.5 6.75 1.5H17.25C19.183 1.5 20.75 3.067 20.75 5V10.25\" stroke=\"#F2762E\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n            <span>{{ item }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, [\r\n      'lang',\r\n      'error',\r\n      'params'\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...mapActions(dataStore, [\r\n      'changeProp',\r\n    ]),\r\n  },\r\n  mounted() {}\r\n};\r\n","export const formControlCheckbox = {\r\n    data() {\r\n        return {\r\n            checked: this.answer.checked,\r\n        };\r\n    },\r\n    props: ['pollId', 'groups', 'question', 'answer', 'disabled'],\r\n    emits: ['setActiveQuestion', 'form-control-change'],\r\n    template: `\r\n        <label class=\"b-poll__form-control\" :class=\"[{'i-active': checked}, {'i-disabled': getDisabledClass()}]\">\r\n            <div class=\"b-poll__form-control__content\">\r\n                <div class=\"b-poll__form-control__img\" :style=\"getStyle()\" v-if=\"answer.image\"></div>\r\n                <div class=\"b-poll__form-control__text\">\r\n                    <b v-if=\"answer.name\" v-html=\"answer.name\"></b>\r\n                    <span v-if=\"answer.description\" v-html=\"answer.description\"></span>\r\n                </div>\r\n            </div>\r\n            <div class=\"b-poll__checkbox\">\r\n                <input type=\"checkbox\" :name=\"answer.parentUuid\" v-model=\"checked\" :value=\"answer.uuid\" class=\"filled-in\" @change=\"change()\">\r\n                <span></span>\r\n            </div>\r\n        </label>\r\n    `,\r\n    methods: {\r\n        change() {\r\n            //emit control change\r\n            this.$emit('form-control-change', {\r\n                answer: this.answer,\r\n                checked: this.checked\r\n            });\r\n\r\n            //set question as active\r\n            this.$emit('setActiveQuestion');\r\n\r\n            //change local storage\r\n            let storageObj = {};\r\n            if (window.localStorage.getItem(this.pollId)) {\r\n                storageObj = JSON.parse(\r\n                    window.localStorage.getItem(this.pollId)\r\n                );\r\n            }\r\n\r\n            storageObj[this.answer.value] = this.checked;\r\n            window.localStorage.setItem(\r\n                this.pollId,\r\n                JSON.stringify(storageObj)\r\n            );\r\n        },\r\n        getDisabledClass() {\r\n            return this.disabled || (\r\n                !this.checked &&\r\n                String(this.question.selectableAnswers) ===\r\n                String(this.question.checkedNum)\r\n            );\r\n        },\r\n        getStyle() {\r\n            return \"background-image: url('\" + this.answer.image + \"')\";\r\n        },\r\n    },\r\n}","export const formControlNumber = {\r\n    data() {\r\n        return {};\r\n    },\r\n    props: ['pollId', 'answer'],\r\n    emits: ['removeActiveQuestion'],\r\n    template: `\r\n    <div class=\"b-poll__form-control\">\r\n        <div class=\"b-poll__form-control__content\">\r\n            <div class=\"b-poll__form-control__img\" :style=\"getStyle()\" v-if=\"answer.img\"></div>\r\n            <div class=\"b-poll__form-control__text\"><b v-html=\"answer.title\"></b><span v-html=\"answer.note\"></span></div>\r\n        </div>\r\n        <div class=\"b-poll__input b-float-label\">\r\n            <label class=\"b-poll__input-label active\">{{answer.label}}</label>\r\n            <input type=\"number\" :name=\"answer.name\" v-model=\"answer.value\" @change=\"change\">\r\n        </div>\r\n    </div>\r\n    `,\r\n    methods: {\r\n        change(e) {\r\n            e.target.parentNode.classList.add('i-active');\r\n\r\n            //set question as active\r\n            this.$emit('removeActiveQuestion');\r\n\r\n            //change local storage\r\n            let storageObj = {};\r\n            if (window.localStorage.getItem(this.pollId)) {\r\n                storageObj = JSON.parse(\r\n                    window.localStorage.getItem(this.pollId)\r\n                );\r\n            }\r\n\r\n            storageObj[this.answer.name] = this.answer.value;\r\n\r\n            window.localStorage.removeItem(this.pollId);\r\n            window.localStorage.setItem(\r\n                this.pollId,\r\n                JSON.stringify(storageObj)\r\n            );\r\n        },\r\n        getStyle() {\r\n            return \"background-image: url('\" + this.answer.img + \"')\";\r\n        },\r\n    },\r\n}","export const formControlRadio = {\r\n    data() {\r\n        return {\r\n            checked: this.answer.checked,\r\n        };\r\n    },\r\n    props: ['pollId', 'answer', 'disabled'],\r\n    emits: ['removeActiveQuestion', 'form-control-change'],\r\n    template: `\r\n        <label class=\"b-poll__form-control\" :class=\"{'i-active': checked, 'i-disabled': disabled}\">\r\n            <div class=\"b-poll__form-control__content\">\r\n                <div class=\"b-poll__form-control__img\" :style=\"getStyle()\" v-if=\"answer.image\"></div>\r\n                <div class=\"b-poll__form-control__text\">\r\n                    <b v-if=\"answer.name\" v-html=\"answer.name\"></b>\r\n                    <span v-if=\"answer.description\" v-html=\"answer.description\"></span>\r\n                </div>\r\n            </div>\r\n            <div class=\"b-poll__radio\"><input type=\"radio\" :name=\"answer.parentUuid\" :checked=\"checked\" :value=\"answer.uuid\" class=\"with-gap\" @change=\"change\"><span></span></div>\r\n        </label>\r\n    `,\r\n    methods: {\r\n        change(e) {\r\n            if (e.target.checked) {\r\n                e.target\r\n                    .closest('.b-poll__questions__set')\r\n                    .querySelectorAll('label')\r\n                    .forEach(function (label) {\r\n                    //set inactive\r\n                    label.classList.remove('i-active');\r\n                });\r\n                e.target.closest('label').classList.add('i-active');\r\n            }\r\n\r\n            //set question as active\r\n            this.$emit('removeActiveQuestion');\r\n\r\n            //set checked\r\n            this.checked = true;\r\n\r\n            //emit control change\r\n            this.$emit('form-control-change', {\r\n                answer: this.answer,\r\n                checked: this.checked\r\n            });\r\n\r\n            //change local storage\r\n            let storageObj = {};\r\n            if (window.localStorage.getItem(this.pollId)) {\r\n                storageObj = JSON.parse(\r\n                    window.localStorage.getItem(this.pollId)\r\n                );\r\n            }\r\n\r\n            if (e.target.checked) {\r\n                //sibling radios\r\n                e.target\r\n                    .closest('.b-poll__questions__set')\r\n                    .querySelectorAll('input[type=radio]')\r\n                    .forEach(function (radio) {\r\n                        storageObj[radio.value] = radio.checked;\r\n                    });\r\n                //this radio\r\n                storageObj[this.answer.uuid] = this.checked;\r\n            }\r\n\r\n            window.localStorage.removeItem(this.pollId);\r\n            window.localStorage.setItem(\r\n                this.pollId,\r\n                JSON.stringify(storageObj)\r\n            );\r\n        },\r\n        getStyle() {\r\n            return \"background-image: url('\" + this.answer.image + \"')\";\r\n        },\r\n    },\r\n}","import { formControlCheckbox } from '../components/formControlCheckbox.js';\r\nimport { formControlNumber } from '../components/formControlNumber.js';\r\nimport { formControlRadio } from '../components/formControlRadio.js';\r\n\r\nexport const questionComponent = {\r\n    data() {\r\n        return {\r\n            timeoutId: undefined,\r\n            animatePulse: false,\r\n        };\r\n    },\r\n    components: {\r\n      formControlCheckbox,\r\n      formControlNumber,\r\n      formControlRadio,\r\n    },\r\n    props: ['pollId', 'groups', 'groupIndex', 'questionIndex', 'question', 'votingStatusXml'],\r\n    emits: ['changeChecked', 'changeCheckedNum', 'setActiveQuestion'],\r\n    template: `\r\n\r\n        <div class=\"b-poll__questions__item\" :id=\"'item_' + groupIndex + '_' + questionIndex\">\r\n            <div class=\"b-poll__questions__info\" :class=\"getInfoClass()\" v-if=\"question.selectableAnswers\">{{question.checkedNum}} из {{question.selectableAnswers}}</div>\r\n\r\n            <h3 v-if=\"question.name\">{{question.name}}</h3>\r\n            <p v-if=\"question.description\" v-html=\"question.description\" class=\"twpx-voting-description\"></p>\r\n\r\n            <div class=\"b-poll__questions__note\" :class=\"getNoteClass()\" v-if=\"noteVisibility\"><div>Выбрано {{question.checkedNum}} из допустимых {{question.selectableAnswers}}</div></div>\r\n\r\n            <div class=\"b-poll__questions__set\" v-if=\"votingStatusXml!=='voting_v5' && votingStatusXml!=='voting_v6'\">\r\n                <div v-for=\"answer in question.answers\" :key=\"Math.floor(Math.random() * 100000)\">\r\n\r\n                    <formControlCheckbox v-if=\"question.type === '1'\"\r\n                        :pollId=\"pollId\"\r\n                        :groups=\"groups\"\r\n                        :answer=\"answer\"\r\n                        :question=\"question\"\r\n                        :disabled=\"votingStatusXml==='voting_v2' || votingStatusXml==='voting_v4'\"\r\n                        @form-control-change=\"formControlChange\"\r\n                        @setActiveQuestion=\"setActiveQ\"\r\n                    />\r\n\r\n                    <formControlRadio v-else-if=\"question.type === '0'\"\r\n                        :pollId=\"pollId\"\r\n                        :groups=\"groups\"\r\n                        :answer=\"answer\"\r\n                        :disabled=\"votingStatusXml==='voting_v2' || votingStatusXml==='voting_v4'\"\r\n                        @removeActiveQuestion=\"removeActiveQ\"\r\n                        @form-control-change=\"radioControlChange\"\r\n                    />\r\n\r\n                    <formControlNumber v-else-if=\"question.type === 'number'\"\r\n                        :pollId=\"pollId\"\r\n                        :groups=\"groups\"\r\n                        :answer=\"answer\"\r\n                        @removeActiveQuestion=\"removeActiveQ\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    `,\r\n    computed: {\r\n        noteVisibility() {\r\n            return this.votingStatusXml!=='voting_v2' &&\r\n                   this.votingStatusXml!=='voting_v4' &&\r\n                   this.votingStatusXml!=='voting_v5' &&\r\n                   this.votingStatusXml!=='voting_v6' &&\r\n                   this.question.type === '1' &&\r\n                   this.question.selectableAnswers\r\n        }\r\n    },\r\n    methods: {\r\n        setActiveQ(args) {\r\n            this.$emit('setActiveQuestion', {...args, question: this.question});\r\n        },\r\n        removeActiveQ(args) {\r\n            this.$emit('removeActiveQuestion', args);\r\n        },\r\n        getInfoClass() {\r\n            return {\r\n                'i-show': this.question.checkedNum > 0 && this.question.isActive,\r\n                'bg-success': String(this.question.selectableAnswers) === String(this.question.checkedNum),\r\n                animate__animated: true,\r\n                animate__pulse: this.animatePulse,\r\n            };\r\n        },\r\n        getNoteClass() {\r\n            return {\r\n                'text-success': Number(this.question.selectableAnswers) === Number(this.question.checkedNum),\r\n                'text-danger': this.question.checkedNum === 0,\r\n            };\r\n        },\r\n        formControlChange(args) {\r\n            //commit checked\r\n            this.$emit('changeChecked', args);\r\n\r\n            //change checked num\r\n            this.changeCheckedNum();\r\n\r\n            //animate the block\r\n            this.animatePulse = false;\r\n            clearTimeout(this.timeoutId);\r\n            this.timeoutId = setTimeout(() => (this.animatePulse = true), 0);\r\n        },\r\n        radioControlChange(args) {\r\n            this.$emit('changeChecked', args);\r\n        },\r\n        changeCheckedNum() {\r\n            const num = this.question.answers.reduce((count, answer) => {\r\n                return answer.checked === true ? count + 1 : count;\r\n            }, 0);\r\n\r\n            this.$emit('changeCheckedNum', {\r\n                question: this.question,\r\n                checkedNum: num,\r\n            });\r\n        },\r\n    },\r\n    mounted() {\r\n        this.changeCheckedNum();\r\n\r\n        /*let observer = new IntersectionObserver((entries, observer) => {\r\n            //console.log('item_' + this.questionIndex, observer);\r\n            let entry = entries[0];\r\n\r\n            if (entry.intersectionRatio > 0) {\r\n            entry.target.classList.add('b-poll__questions__item--fixed');\r\n            } else {\r\n            entry.target.classList.remove('b-poll__questions__item--fixed');\r\n            }\r\n        });\r\n\r\n        observer.observe(\r\n            document.querySelector(`#item_${this.groupIndex}_${this.questionIndex}`)\r\n        );*/\r\n    },\r\n}","import '../css/basic.css';\r\nimport '../css/voting.css';\r\n\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\nimport { ModalYesNo } from 'local.vue-components.modal-yes-no';\r\n\r\nimport { questionComponent } from '../components/questionComponent.js';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\n\r\nexport const Voting = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    MessageComponent,\r\n    ButtonComponent,\r\n    ModalYesNo,\r\n    questionComponent,\r\n  },\r\n  // language=Vue\r\n  template: `\r\n\r\n    <ModalYesNo\r\n      heading=\"Подтвердите голосование\"\r\n      text=\"Вы отправляете свой голос, и после подтверждения изменить выбор будет невозможно.\"\r\n      yes=\"Подтвердить\"\r\n      no=\"Отменить\"\r\n      :stateWatcher=\"stateWatcher\"\r\n      @clickYes=\"clickYes\"\r\n      @clickNo=\"clickNo\"\r\n    />\r\n\r\n    <div v-if=\"!params.votingStatusXml || params.votingStatusXml==='voting_v1'\" class=\"twpx-voting-voting-status\"></div>\r\n\r\n    <div v-else-if=\"params.votingStatusXml==='voting_v3' && params.userVoted\" class=\"twpx-voting-voting-status\">\r\n      <div class=\"twpx-voting-voting twpx-voting-client-block\">\r\n        <h1>Результат голосования</h1>\r\n        <MessageComponent type=\"success\" size=\"big\" message=\"Спасибо, вы успешно проголосвали.\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"twpx-voting-voting twpx-voting-client-block\">\r\n\r\n      <div :class=\"'twpx-voting-status ' + labels[params.votingStatusXml]\" v-if=\"status\">{{ status }}</div>\r\n      \r\n      <div class=\"twpx-voting-voting-name\">\r\n        <h1 v-if=\"params.voting.name\">{{ params.voting.name }}</h1>\r\n        <p v-if=\"params.voting.description\" class=\"twpx-voting-description\">{{ params.voting.description }}</p>\r\n      </div>\r\n\r\n      <div class=\"twpx-voting-client__loader\" v-if=\"loadingVoting\">\r\n        <LoaderCircle :show=\"loadingVoting\" />\r\n      </div>\r\n      \r\n      <MessageComponent v-else-if=\"errorVoting\" type=\"error\" size=\"big\" :message=\"errorVoting\" />\r\n\r\n      <div v-else style=\"display: grid; gap: 24px;\">\r\n\r\n        <div class=\"b-poll__groups\" :data-id=\"pollId\">\r\n          <div class=\"b-poll__groups__item\" v-for=\"(group, groupIndex) in params.voting.questionsGroups\">\r\n\r\n            <h2 v-if=\"group.name\">{{group.name}}</h2>\r\n            <p v-if=\"group.description\" v-html=\"group.description\" class=\"twpx-voting-description\"></p>\r\n\r\n            <div class=\"b-poll__questions\">\r\n              <div v-for=\"(question, questionIndex) in group.questions\">\r\n\r\n                <questionComponent\r\n                  :pollId=\"pollId\"\r\n                  :groups=\"groups\"\r\n                  :groupIndex=\"groupIndex\"\r\n                  :questionIndex=\"questionIndex\"\r\n                  :question=\"question\"\r\n                  :votingStatusXml=\"params.votingStatusXml\"\r\n                  @changeChecked=\"changeChecked\"\r\n                  @changeCheckedNum=\"changeCheckedNum\"\r\n                  @setActiveQuestion=\"setActiveQuestion\"\r\n                />\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <MessageComponent v-if=\"params.votingStatusXml==='voting_v5'\" type=\"lock-green\" size=\"big\" message=\"Голосование завершено\" />\r\n        <MessageComponent v-else-if=\"params.votingStatusXml==='voting_v6'\" type=\"lock\" size=\"big\" message=\"Голосование в архиве\" />\r\n        <ButtonComponent v-else text=\"Проголосовать\" :props=\"['wide', 'secondary', 'large']\" :disabled=\"isVoteButtonDisabled\" @clickButton=\"clickVoteButton\" />\r\n      \r\n      </div>\r\n    </div>\r\n  `,\r\n  computed: {\r\n    ...mapState(dataStore, [\r\n      'loadingVoting',\r\n      'errorVoting',\r\n\r\n      'params',\r\n      'statuses',\r\n      'groupInfo',\r\n\r\n      'stateWatcher',\r\n      'labels',\r\n      \r\n      'pollId',\r\n      'groups'\r\n    ]),\r\n    status() {\r\n      const statusObj = this.statuses ? this.statuses.find(s => String(s.id) === String(this.params.votingStatus)) : undefined;\r\n      return statusObj ? statusObj.status : '';\r\n    },\r\n    isVoteButtonDisabled() {\r\n      return this.params.votingStatusXml === 'voting_v2' ||\r\n             this.params.votingStatusXml === 'voting_v4' ||\r\n             !this.params.voting.questionsGroups.every(g => {\r\n                return g.questions.every(q => {\r\n                  return q.answers.some(a => a.checked);\r\n                });\r\n              });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(dataStore, [\r\n      'changeProp',\r\n      'runBitrixMethod',\r\n      \r\n      'changeChecked',\r\n      'changeCheckedNum',\r\n      'setActiveQuestion',\r\n      'removeActiveQuestion',\r\n      'addCheckedNum'\r\n    ]),\r\n    clickVoteButton() {\r\n      this.changeProp('stateWatcher', !this.stateWatcher);\r\n    },\r\n    clickYes() {\r\n      this.changeProp('stateWatcher', !this.stateWatcher);\r\n      this.submitVotingResult();\r\n    },\r\n    clickNo() {\r\n      this.changeProp('stateWatcher', !this.stateWatcher);\r\n    },\r\n    async submitVotingResult() {\r\n      const answer = {};\r\n\r\n      this.params.voting.questionsGroups.forEach(g => {\r\n        g.questions.forEach(q => {\r\n\r\n          if (q.type === '1') {\r\n\r\n            // checkbox\r\n            answer[ q.id ] = q.answers.filter(a => a.checked).map(a => a.id);\r\n    \r\n          } else {\r\n    \r\n            // radio\r\n            const checked = q.answers.find(a => a.checked);\r\n            if (checked) {\r\n              answer[ q.id ] = checked.id;\r\n            }\r\n    \r\n          }\r\n        });\r\n      });\r\n\r\n      const data = {\r\n        sessid: BX.message('bitrix_sessid'),\r\n        uid: BX.message('USER_ID'),\r\n        poll: this.params.votingId,\r\n        answer\r\n      };\r\n\r\n      try {\r\n        this.changeProp('loadingVoting', true);\r\n        await this.runBitrixMethod('submitVotingResult', data);\r\n        this.changeProp('loadingVoting', false);\r\n      } catch(error) {\r\n        this.changeProp('loadingVoting', false);\r\n        this.changeProp('errorVoting', error?.errors ? error?.errors[0].message : error);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n  }\r\n};\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { createRouter, createMemoryHistory } from 'ui.vue3.router';\r\n\r\nimport { dataStore } from './stores/data';\r\n\r\nimport { Application } from './components/application';\r\n\r\nimport { Registration } from './pages/registration';\r\nimport { List } from './pages/list';\r\nimport { Voting } from './pages/voting';\r\n\r\nexport class VotingClient {\r\n  #store;\r\n  #router;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options) {\r\n    this.#store = createPinia();\r\n    this.#router = createRouter({\r\n      history: createMemoryHistory(),\r\n      routes: [\r\n        {\r\n          path: '/',\r\n          component: Registration,\r\n          alias: '/state_1'\r\n        },\r\n        {\r\n          path: '/state_2',\r\n          component: List,\r\n        },\r\n        {\r\n          path: '/state_3',\r\n          component: Voting,\r\n        },\r\n      ],\r\n    });\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run() {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'VotingClient',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: `\r\n        <Application />\r\n      `,\r\n      beforeMount() {\r\n        if (self.options) {\r\n          dataStore().customData = self.options.data || {};\r\n          dataStore().signedParameters = self.options.signedParameters || '';\r\n        }\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.use(this.#router);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication() {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getFormStore() {\r\n    return formStore;\r\n  }\r\n}\r\n"],"names":["dataStore","defineStore","state","lang","registration","heading","text","subtitle","button","list","error","registrationButton","actions","loading","loadingRegistration","loadingVoting","errorRegistration","errorVoting","params","statuses","groupInfo","stateWatcher","labels","getStatuses","runBitrixMethod","changeProp","data","errors","message","addCheckedNum","voting","questionsGroups","forEach","g","questions","q","checkedNum","String","type","undefined","prop","value","method","formData","Array","isArray","Promise","reject","payload","FormData","Object","entries","customData","key","append","BX","ajax","runComponentAction","mode","signedParameters","changeChecked","answer","checked","changeCheckedNum","question","setActiveQuestion","removeActiveQuestion","isActive","group","Application","components","LoaderCircle","MessageComponent","template","computed","mapState","methods","mapActions","mounted","_this","window","ready","PULL","subscribe","moduleId","callback","console","log","command","votingId","length","$router","push","bind","setTimeout","Registration","items","code","title","ButtonComponent","register","userId","response","notInList","List","formControlCheckbox","props","emits","change","$emit","storageObj","localStorage","getItem","pollId","JSON","parse","setItem","stringify","getDisabledClass","disabled","selectableAnswers","getStyle","image","formControlNumber","e","target","parentNode","classList","add","name","removeItem","img","formControlRadio","closest","querySelectorAll","label","remove","radio","uuid","questionComponent","timeoutId","animatePulse","noteVisibility","votingStatusXml","setActiveQ","args","removeActiveQ","getInfoClass","animate__animated","animate__pulse","getNoteClass","Number","formControlChange","clearTimeout","radioControlChange","num","answers","reduce","count","Voting","ModalYesNo","status","statusObj","find","s","id","votingStatus","isVoteButtonDisabled","every","some","a","clickVoteButton","clickYes","submitVotingResult","clickNo","filter","map","sessid","uid","poll","VotingClient","rootNode","options","createPinia","createRouter","history","createMemoryHistory","routes","path","component","alias","document","querySelector","self","BitrixVue","createApp","beforeMount","use","mount","setActivePinia","formStore"],"mappings":"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"}