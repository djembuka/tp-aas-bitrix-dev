{"version":3,"file":"application.bundle.js","sources":["../src/stores/form.js","../src/components/application.js","../src/stores/data.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const formStore = defineStore('form', {\r\n  state: () => ({\r\n    loadingControls: false,\r\n    actions: {},\r\n    controls: [],\r\n  }),\r\n  actions: {\r\n    bitrixLogs(id, message) {\r\n      //AJAX Bitrix\r\n      if (window.BX) {\r\n        BX.ajax.post(\r\n          '/local/ajax/logs.php',\r\n          {\r\n            id,\r\n            el: 1, //document.querySelector('input[name = \"APPEAL_ID\"]').value,\r\n            message,\r\n            level: 1,\r\n          },\r\n          (result) => {}\r\n        );\r\n      }\r\n    },\r\n    autosave() {},\r\n    timeoutAutosave() {},\r\n    createMulti({ parent }) {\r\n      parent.property = 'multi';\r\n      parent.multi = [];\r\n    },\r\n    addMulti({ parent, add }) {\r\n      const randomId = Math.round(Math.random() * 1000);\r\n      const sub = [];\r\n\r\n      if (add.sub && add.sub.forEach) {\r\n        add.sub.forEach((s) => {\r\n          s.id = `${s.id}${randomId}`;\r\n          sub.push({ ...s });\r\n        });\r\n        add.sub = sub;\r\n      }\r\n\r\n      add.id = `${add.id}${randomId}`;\r\n      parent.multi.push(add);\r\n    },\r\n    removeMulti({ parent, index }) {\r\n      parent.multi.splice(index, 1);\r\n    },\r\n    changeTextControlValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeSelectRadioValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeSelectDropdownValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeDateValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    changeFileValue({ control, value }) {\r\n      control.value = value;\r\n      if (control.type === 'upload') {\r\n        this.uploadFile(control, value);\r\n      }\r\n    },\r\n    changeControlValue({ control, value, checked }) {\r\n      switch (control.property) {\r\n        case 'text':\r\n        case 'textarea':\r\n        case 'hint':\r\n          this.changeTextControlValue({ control, value });\r\n          break;\r\n        // case 'multiselect':\r\n        //   commit('changeMultiselectValue', { control, value, checked });\r\n        //   break;\r\n        // case 'checkbox':\r\n        //   commit('changeCheckboxValue', { control, checked });\r\n        //   break;\r\n        case 'select':\r\n          this[\r\n            `changeSelect${control.type\r\n              .substring(0, 1)\r\n              .toUpperCase()}${control.type.substring(1).toLowerCase()}Value`\r\n          ]({ control, value });\r\n          break;\r\n        case 'file':\r\n          this.changeFileValue({ control, value });\r\n          break;\r\n        case 'date':\r\n          this.changeDateValue({ control, value });\r\n          break;\r\n        // case 'color':\r\n        //   commit('changeColorValue', { control, value });\r\n        //   break;\r\n      }\r\n    },\r\n    runControls(data, callback) {\r\n      this.loadingControls = true;\r\n      let a = window.BX.ajax.runComponentAction(this.actions.controls, data);\r\n      let state = this;\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loadingControls = false;\r\n          resultFn(state, result);\r\n        },\r\n        (error) => {\r\n          this.loadingControls = false;\r\n          if (\r\n            window.twinpx &&\r\n            window.twinpx.vue.markup &&\r\n            window.twinpx.vue['form-with-multi']\r\n          ) {\r\n            resultFn(state, window.twinpx.vue['form-with-multi'].controls);\r\n          } else {\r\n            // this.showError({ error, method: 'controls' });\r\n          }\r\n        }\r\n      );\r\n\r\n      function resultFn(state, data) {\r\n        state.controls = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n\r\n    //file\r\n    async uploadFile(control, file) {\r\n      control.upload = {};\r\n      let formData = new FormData();\r\n\r\n      if (file === null) {\r\n        //delete\r\n        formData.append('DELETE', 'Y');\r\n        if (control.upload.response) {\r\n          formData.append('FILE', control.upload.response.FILE);\r\n        }\r\n      } else {\r\n        //first\r\n        formData.append('FILES', file);\r\n        if (control.upload.response) {\r\n          //update\r\n          formData.append('FILE', control.upload.response.FILE);\r\n        }\r\n      }\r\n\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('POST', '/markup/upload.php');\r\n      //xhr.setRequestHeader('Content-Type', 'multipart/form-data');\r\n      xhr.setRequestHeader('Authentication', BX.bitrix_sessid());\r\n\r\n      //progress\r\n      let first = true;\r\n      xhr.upload.addEventListener('progress', ({ loaded, total }) => {\r\n        control.upload.progress = { first, loaded, total };\r\n        first = false;\r\n      });\r\n      xhr.upload.addEventListener('loadstart', () => {\r\n        // console.log('loadstart');\r\n      });\r\n      xhr.upload.addEventListener('abort', () => {\r\n        // console.log('abort');\r\n      });\r\n      xhr.upload.addEventListener('error', () => {\r\n        // console.log('error');\r\n      });\r\n      xhr.upload.addEventListener('load', () => {\r\n        // console.log('load');\r\n      });\r\n      xhr.upload.addEventListener('timeout', () => {\r\n        // console.log('timeout');\r\n      });\r\n      xhr.upload.addEventListener('loadend', () => {\r\n        // console.log('loadend');\r\n      });\r\n\r\n      xhr.onreadystatechange = () => {\r\n        control.upload.readyState = xhr.readyState;\r\n\r\n        if (xhr.readyState === 4) {\r\n          control.upload.response = JSON.parse(xhr.response);\r\n        }\r\n      };\r\n\r\n      xhr.send(formData);\r\n    },\r\n  },\r\n});\r\n","import './application.css';\r\n\r\nimport { ControlChoice } from 'local.vue-components.control-choice';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { formStore } from '../stores/form';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    ControlChoice,\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n    <div style=\"display: grid; grid-template-columns: 1fr 2fr; gap: 32px;\">\r\n      <form action=\"\">\r\n        <div v-for=\"control in controls\" :key=\"control.id\">\r\n          <ControlChoice :control=\"control\" @create=\"createMulti\" @add=\"addMulti\" @remove=\"removeMulti\" @input=\"input\" @focus=\"focus\" @blur=\"blur\" @enter=\"enter\" @hints=\"hints\"></ControlChoice>\r\n          <hr>\r\n        </div>\r\n\r\n      </form>\r\n      <pre style=\"font-size: 9pt; height: 700px; overflow: auto;\">{{controls}}</pre>\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(formStore, ['loadingControls', 'controls']),\r\n    // error() {\r\n    //   return this.errorTable || this.errorFilter;\r\n    // },\r\n  },\r\n  methods: {\r\n    ...mapActions(formStore, [\r\n      'runControls',\r\n      'changeControlValue',\r\n      'createMulti',\r\n      'addMulti',\r\n      'removeMulti',\r\n      'bitrixLogs',\r\n      'autosave',\r\n      'timeoutAutosave',\r\n    ]),\r\n    input(args) {\r\n      //bitrix logs\r\n      if (args.control.property === 'file' && args.control.type === 'load') {\r\n        this.bitrixLogs(11, `${args.control.label}: ${args.label}`);\r\n      }\r\n\r\n      this.changeControlValue(args);\r\n      this.autosave();\r\n    },\r\n    focus() {\r\n      console.log('focus');\r\n    },\r\n    blur() {\r\n      console.log('blur');\r\n    },\r\n    enter() {\r\n      console.log('enter');\r\n    },\r\n    hints(args) {\r\n      console.log(args);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.runControls({\r\n      signedParameters: this.signedParameters,\r\n      sessionid: this.sessionid,\r\n    });\r\n  },\r\n};\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    sessionid: '',\r\n    signedParameters: '',\r\n  }),\r\n});\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { Application } from './components/application';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { dataStore } from './stores/data';\r\nimport { formStore } from './stores/form';\r\n\r\nexport class FormWithMulti {\r\n  #store;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options): void {\r\n    this.#store = createPinia();\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run(): void {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Form with multi control Application',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: '<Application/>',\r\n      mounted() {\r\n        dataStore().sessionid = self.options.SESSION_ID || '';\r\n        dataStore().signedParameters = self.options.SIGNED_PARAMETERS || '';\r\n\r\n        formStore().actions = {\r\n          controls: self.options.controls || [],\r\n        };\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication(): void {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getFormStore(): Object {\r\n    return formStore;\r\n  }\r\n}\r\n"],"names":["formStore","defineStore","state","loadingControls","actions","controls","bitrixLogs","id","message","window","BX","ajax","post","el","level","result","autosave","timeoutAutosave","createMulti","parent","property","multi","addMulti","add","randomId","Math","round","random","sub","forEach","s","push","removeMulti","index","splice","changeTextControlValue","control","value","changeSelectRadioValue","changeSelectDropdownValue","changeDateValue","changeFileValue","type","uploadFile","changeControlValue","checked","substring","toUpperCase","toLowerCase","runControls","data","callback","a","runComponentAction","then","resultFn","error","twinpx","vue","markup","file","upload","formData","FormData","append","response","FILE","xhr","XMLHttpRequest","open","setRequestHeader","bitrix_sessid","first","addEventListener","loaded","total","progress","onreadystatechange","readyState","JSON","parse","send","Application","components","ControlChoice","template","computed","mapState","methods","mapActions","input","args","label","focus","console","log","blur","enter","hints","mounted","signedParameters","sessionid","dataStore","FormWithMulti","rootNode","options","createPinia","document","querySelector","self","BitrixVue","createApp","name","SESSION_ID","SIGNED_PARAMETERS","use","mount","setActivePinia"],"mappings":"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"}