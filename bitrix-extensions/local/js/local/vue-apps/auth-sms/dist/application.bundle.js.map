{"version":3,"file":"application.bundle.js","sources":["../src/stores/data.js","../src/stores/sms.js","../src/components/sms.js","../src/stores/ornz.js","../src/components/ornz.js","../src/components/application.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    sessionid: '',\r\n    signedParameters: '',\r\n    lang: {},\r\n  }),\r\n  actions: {\r\n    setInfo(message) {\r\n      this.info = message;\r\n    },\r\n    setError(message) {\r\n      this.error = message;\r\n    },\r\n  },\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const smsStore = defineStore('sms', {\r\n  state: () => ({\r\n    lang: {},\r\n    state: 'A1',\r\n    tel: {\r\n      property: 'tel',\r\n      id: 'id0',\r\n      name: 'PHONE',\r\n      label: '',\r\n      value: '',\r\n      required: true,\r\n      disabled: false,\r\n    },\r\n    checkbox: {\r\n      property: 'checkbox',\r\n      id: 'id1',\r\n      name: 'NUM',\r\n      label: '',\r\n      value: '',\r\n      required: false,\r\n      disabled: false,\r\n    },\r\n    submitProps: { large: true, secondary: true, wide: true },\r\n    error: null,\r\n    errorButton: false,\r\n    timer: 0,\r\n  }),\r\n  getters: {\r\n    buttonDisabled() {\r\n      let result = false;\r\n\r\n      if (this.state === 'C1' && this.timer) {\r\n        result = true;\r\n      } else {\r\n        result =\r\n          this.tel.setInvalidWatcher ||\r\n          this.tel.disabled ||\r\n          !this.tel.value.trim() ||\r\n          !this.checkbox.value;\r\n      }\r\n      return result;\r\n    },\r\n    buttonSubmitTimerText() {\r\n      return this.timer\r\n        ? `${this.lang.AUTH_SMS_SMS_BUTTON_SUBMIT_TIMER} ${new Date(\r\n            this.timer * 1000\r\n          )\r\n            .toISOString()\r\n            .substring(14, 5)}`\r\n        : '';\r\n    },\r\n  },\r\n  actions: {\r\n    buttonSubmitTimer(start) {\r\n      this.timer = Number(start);\r\n      const intervalId = setInterval(() => {\r\n        if (this.timer === 0) {\r\n          clearInterval(intervalId);\r\n        } else {\r\n          this.timer--;\r\n        }\r\n      }, 1000);\r\n    },\r\n    changeSubmitProps(obj) {\r\n      Object.keys(obj).forEach((key) => {\r\n        if (obj[key]) {\r\n          this.submitProps[key] = true;\r\n        } else {\r\n          delete this.submitProps[key];\r\n        }\r\n      });\r\n    },\r\n    changeControlValue({ control, value }) {\r\n      control.value = value;\r\n      if (control.property === 'tel') {\r\n        control.setInvalidWatcher = false;\r\n      }\r\n    },\r\n    runFormSubmit() {\r\n      const self = this;\r\n\r\n      if (window.BX) {\r\n        BX.ajax\r\n          .runAction('twinpx:authorization.api.send', {\r\n            data: {\r\n              phone: this.tel.value,\r\n            },\r\n          })\r\n          .then(\r\n            (response) => {\r\n              this.changeSubmitProps({ 'load-circle': false });\r\n\r\n              //show code\r\n              this.tel.focusWatcher = false;\r\n              this.tel.setInvalidWatcher = false;\r\n              this.tel.regexp_description = '';\r\n            },\r\n            (response) => {\r\n              this.changeSubmitProps({ 'load-circle': false });\r\n\r\n              this.error = response.errors[0];\r\n\r\n              if (String(response.errors[0].code) === String(1003)) {\r\n                //code\r\n                this.state = 'code';\r\n\r\n                //C1 1002\r\n                // this.state = 'C1';\r\n                // this.buttonSubmitTimer(127); //response.errors[0].customData.remain\r\n\r\n                //B1 1001\r\n                // this.state = 'B1';\r\n                // this.tel.disabled = true;\r\n                // this.errorButton = this.lang.AUTH_SMS_ERROR_BUTTON;\r\n                //A2\r\n                // this.state = 'A2';\r\n                // this.tel.focusWatcher = true;\r\n                // this.tel.setInvalidWatcher = true;\r\n                // this.tel.regexp_description = lang.AUTH_SMS_ERROR_1003;\r\n              } else if (String(response.errors[0].code) === String(1005)) {\r\n                //A3\r\n                this.state = 'A3';\r\n                this.tel.focusWatcher = true;\r\n                this.tel.setInvalidWatcher = true;\r\n                this.tel.regexp_description = lang.AUTH_SMS_ERROR_1005;\r\n              }\r\n            }\r\n          );\r\n      }\r\n    },\r\n  },\r\n});\r\n","import { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\nimport { smsStore } from '../stores/sms.js';\r\n\r\nimport './sms.css';\r\n\r\nimport { ControlTel } from 'local.vue-components.control-tel';\r\nimport { ControlCheckbox } from 'local.vue-components.control-checkbox';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const Sms = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    ControlTel,\r\n    ControlCheckbox,\r\n    ButtonComponent,\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n    <div class=\"vue-auth-sms-sms\">\r\n      <div class=\"vue-auth-sms-sms-form\">\r\n        <div class=\"vue-auth-sms-sms-form-body\">\r\n          <ControlTel :control=\"tel\" @input=\"inputTel\" @focus=\"focus\" @blur=\"blur\" @enter=\"enter\" />\r\n          <hr />\r\n          <ControlCheckbox :control=\"checkbox\" @input=\"inputCheckbox\" @focus=\"focus\" @blur=\"blur\" />\r\n          <hr />\r\n          <ButtonComponent :text=\"buttonSubmitTimerText || lang.AUTH_SMS_SMS_BUTTON_SUBMIT\" :props=\"Object.keys(submitProps)\" :disabled=\"buttonDisabled\" @clickButton=\"clickSubmit\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, ['lang']),\r\n    ...mapState(smsStore, [\r\n      'tel',\r\n      'checkbox',\r\n      'submitProps',\r\n      'buttonDisabled',\r\n      'buttonSubmitTimerText',\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...mapActions(smsStore, [\r\n      'changeControlValue',\r\n      'runFormSubmit',\r\n      'changeSubmitProps',\r\n    ]),\r\n    inputTel({ value }) {\r\n      this.changeControlValue({ value, control: this.tel });\r\n    },\r\n    inputCheckbox({ value }) {\r\n      this.changeControlValue({ value, control: this.checkbox });\r\n    },\r\n    clickSubmit() {\r\n      this.changeSubmitProps({ 'load-circle': true });\r\n      this.runFormSubmit();\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const ornzStore = defineStore('ornz', {\r\n  state: () => ({\r\n    lang: {},\r\n    state: 'A1',\r\n    hint: {\r\n      property: 'hint',\r\n      id: 'id0',\r\n      name: 'ORNZ',\r\n      label: '',\r\n      value: '',\r\n      required: true,\r\n      disabled: false,\r\n    },\r\n    password: {\r\n      property: 'password',\r\n      id: 'id2',\r\n      name: 'PASSWORD',\r\n      label: '',\r\n      value: '',\r\n      required: true,\r\n      disabled: false,\r\n    },\r\n    checkbox: {\r\n      property: 'checkbox',\r\n      id: 'id1',\r\n      name: 'CHECKBOX',\r\n      label: '',\r\n      value: '',\r\n      required: false,\r\n      disabled: false,\r\n    },\r\n    submitProps: { large: true, secondary: true, wide: true },\r\n  }),\r\n  getters: {\r\n    buttonDisabled() {\r\n      return (\r\n        this.hint.setInvalidWatcher ||\r\n        this.hint.disabled ||\r\n        !this.hint.value.trim() ||\r\n        !this.checkbox.value\r\n      );\r\n    },\r\n  },\r\n  actions: {\r\n    changeSubmitProps(obj) {\r\n      Object.keys(obj).forEach((key) => {\r\n        if (obj[key]) {\r\n          this.submitProps[key] = true;\r\n        } else {\r\n          delete this.submitProps[key];\r\n        }\r\n      });\r\n    },\r\n    changeControlValue({ control, value }) {\r\n      control.value = value;\r\n      if (control.property === 'tel') {\r\n        control.setInvalidWatcher = false;\r\n      }\r\n    },\r\n    runFormSubmit() {\r\n      const self = this;\r\n\r\n      if (window.BX) {\r\n        BX.ajax\r\n          .runAction('twinpx:authorization.api.send', {\r\n            data: {\r\n              phone: this.hint.value,\r\n            },\r\n          })\r\n          .then(\r\n            (response) => {\r\n              this.changeSubmitProps({ 'load-circle': false });\r\n\r\n              //show code\r\n              this.hint.focusWatcher = false;\r\n              this.hint.setInvalidWatcher = false;\r\n              this.hint.regexp_description = '';\r\n            },\r\n            (response) => {\r\n              this.changeSubmitProps({ 'load-circle': false });\r\n\r\n              this.error = response.errors[0];\r\n\r\n              if (String(response.errors[0].code) === String(1003)) {\r\n                //C1 1002\r\n                this.state = 'C1';\r\n                this.buttonSubmitTimer(127); //response.errors[0].customData.remain\r\n\r\n                //B1 1001\r\n                // this.state = 'B1';\r\n                // this.hint.disabled = true;\r\n                // this.errorButton = this.lang.AUTH_SMS_A1_ERROR_BUTTON_1001;\r\n                //A2\r\n                // this.state = 'A2';\r\n                // this.hint.focusWatcher = true;\r\n                // this.hint.setInvalidWatcher = true;\r\n                // this.hint.regexp_description = lang.AUTH_SMS_A1_TEL_1003;\r\n              } else if (String(response.errors[0].code) === String(1005)) {\r\n                //A3\r\n                this.state = 'A3';\r\n                this.hint.focusWatcher = true;\r\n                this.hint.setInvalidWatcher = true;\r\n                this.hint.regexp_description = lang.AUTH_SMS_A1_TEL_1005;\r\n              }\r\n            }\r\n          );\r\n      }\r\n    },\r\n  },\r\n});\r\n","import { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\nimport { ornzStore } from '../stores/ornz.js';\r\n\r\nimport './ornz.css';\r\n\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\nimport { ControlHint } from 'local.vue-components.control-hint';\r\nimport { ControlPassword } from 'local.vue-components.control-password';\r\nimport { ControlCheckbox } from 'local.vue-components.control-checkbox';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const Ornz = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    MessageComponent,\r\n    ControlHint,\r\n    ControlPassword,\r\n    ControlCheckbox,\r\n    ButtonComponent,\r\n  },\r\n  emits: ['openA1'],\r\n  // language=Vue\r\n\r\n  template: `\r\n    <div class=\"vue-auth-sms-ornz\">\r\n      <h3 class=\"mt-0\">{{ lang.AUTH_SMS_ORNZ_TITLE }}</h3>\r\n      <MessageComponent type=\"info\" :message=\"lang.AUTH_SMS_ORNZ_MESSAGE_INFO\" :button=\"lang.AUTH_SMS_ORNZ_BUTTON_INFO\" @clickButton=\"console.log('click button')\" />\r\n\r\n      <div class=\"vue-auth-sms-ornz-form\">\r\n        <div class=\"vue-auth-sms-ornz-form-body\">\r\n          <ControlHint :control=\"hint\" @input=\"inputHint\" @focus=\"focus\" @blur=\"blur\" @enter=\"enter\" />\r\n          <hr />\r\n          <ControlPassword :control=\"password\" @input=\"inputPassword\" @focus=\"focus\" @blur=\"blur\" @enter=\"enter\" />\r\n          <hr />\r\n          <ControlCheckbox :control=\"checkbox\" @input=\"inputCheckbox\" @focus=\"focus\" @blur=\"blur\" />\r\n          <hr />\r\n          <ButtonComponent :text=\"buttonSubmitTimerText || lang.AUTH_SMS_ORNZ_BUTTON_SUBMIT\" :props=\"Object.keys(submitProps)\" :disabled=\"buttonDisabled\" @clickButton=\"clickSubmit\" />\r\n        </div>\r\n      </div>\r\n\r\n      <hr class=\"hr--line hr--none\" />\r\n\r\n      <div class=\"vue-auth-sms-ornz-ornz-enter\">\r\n\r\n        <div>\r\n          <ButtonComponent :text=\"lang.AUTH_SMS_ORNZ_BUTTON_ORNZ\" :props=\"['medium', 'primary']\" @clickButton=\"clickA1\" />\r\n        </div>\r\n\r\n        <div>\r\n          <a href=\"\">{{ lang.AUTH_SMS_ORNZ_ENTER }}</a>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, ['lang']),\r\n    ...mapState(ornzStore, [\r\n      'state',\r\n      'hint',\r\n      'password',\r\n      'checkbox',\r\n      'submitProps',\r\n      'error',\r\n      'errorButton',\r\n      'buttonDisabled',\r\n      'buttonSubmitTimerText',\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...mapActions(ornzStore, [\r\n      'changeControlValue',\r\n      'runFormSubmit',\r\n      'changeSubmitProps',\r\n    ]),\r\n    inputHint({ value }) {\r\n      this.changeControlValue({ value, control: this.hint });\r\n    },\r\n    inputCheckbox({ value }) {\r\n      this.changeControlValue({ value, control: this.checkbox });\r\n    },\r\n    clickSubmit() {\r\n      this.changeSubmitProps({ 'load-circle': true });\r\n      this.runFormSubmit();\r\n    },\r\n    clickA1() {\r\n      this.$emit('openA1');\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n","import './application.css';\r\nimport { Sms } from './sms.js';\r\nimport { Ornz } from './ornz.js';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\n\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {\r\n      state: 'sms',\r\n      info: true,\r\n      error: 'Error',\r\n    };\r\n  },\r\n  components: {\r\n    Sms,\r\n    Ornz,\r\n    MessageComponent,\r\n    ButtonComponent,\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n    <div class=\"vue-auth-sms\">\r\n      <div class=\"vue-auth-sms-left\">\r\n\r\n\r\n        <h3 class=\"mt-0\">{{ title }}</h3>\r\n\r\n        <MessageComponent v-if=\"info\" type=\"info\" :message=\"lang.AUTH_SMS_INFO_MESSAGE\" :button=\"lang.AUTH_SMS_INFO_BUTTON\" @clickButton=\"clickInfoButton\" />\r\n        <MessageComponent v-if=\"error\" type=\"error\" :message=\"error\" :button=\"errorButton\" @clickButton=\"clickErrorButton\" />\r\n\r\n        <Sms @openOrnz=\"openOrnz\" v-if=\"state === 'sms'\" />\r\n        <Ornz @openA1=\"openA1\" v-else-if=\"state === 'ornz'\" />\r\n\r\n        <hr class=\"hr--line hr--none\" />\r\n\r\n        <div class=\"vue-auth-sms-alt\">\r\n          <div><ButtonComponent :text=\"altButton\" :props=\"['medium', 'primary']\" @clickButton=\"clickAlt\" /></div>\r\n          <div><a href=\"\">{{ lang.AUTH_SMS_ENTER_LINK }}</a></div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"vue-auth-sms-right\">\r\n        <img src=\"/markup/pages/auth-sms/auth-sms-ill.png\" alt=\"\">\r\n      </div>\r\n      \r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, ['sessionid', 'signedParameters', 'lang']),\r\n    title() {\r\n      return this.lang[`AUTH_SMS_${String(this.state).toUpperCase()}_TITLE`];\r\n    },\r\n    altButton() {\r\n      return this.lang[\r\n        `AUTH_SMS_${String(this.state).toUpperCase()}_ALT_BUTTON`\r\n      ];\r\n    },\r\n  },\r\n  methods: {\r\n    // ...mapActions(tableStore, [\r\n    //   'hideErrorTable',\r\n    //   'runColumnsNames',\r\n    //   'runItems',\r\n    //   'runDefaultSort',\r\n    //   'runSetDefaultSort',\r\n    // ]),\r\n    openOrnz() {\r\n      this.state = 'ornz';\r\n    },\r\n    openA1() {\r\n      this.state = 'A1';\r\n    },\r\n    clickInfoButton() {\r\n      this.info = false;\r\n    },\r\n    clickAlt() {\r\n      if (this.state === 'ornz') {\r\n        this.state = 'sms';\r\n      } else {\r\n        this.state = 'ornz';\r\n      }\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { Application } from './components/application';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { dataStore } from './stores/data';\r\nimport { smsStore } from './stores/sms';\r\n\r\nexport class AuthSMS {\r\n  #store;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options): void {\r\n    this.#store = createPinia();\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run(): void {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Table Application',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: '<Application/>',\r\n      mounted() {\r\n        dataStore().sessid = self.options.sessid || '';\r\n        dataStore().signedParameters = self.options.signedParameters || '';\r\n        dataStore().lang = BitrixVue.getFilteredPhrases(this, 'AUTH_SMS');\r\n\r\n        smsStore().tel.label = this.$Bitrix.Loc.getMessage('AUTH_SMS_A1_TEL');\r\n        smsStore().checkbox.label = this.$Bitrix.Loc.getMessage(\r\n          'AUTH_SMS_A1_CHECKBOX'\r\n        );\r\n        smsStore().lang = BitrixVue.getFilteredPhrases(this, 'AUTH_SMS_A1');\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication(): void {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getTableStore(): Object {\r\n    return tableStore;\r\n  }\r\n}\r\n"],"names":["dataStore","defineStore","state","sessionid","signedParameters","lang","actions","setInfo","message","info","setError","error","smsStore","tel","property","id","name","label","value","required","disabled","checkbox","submitProps","large","secondary","wide","errorButton","timer","getters","buttonDisabled","result","setInvalidWatcher","trim","buttonSubmitTimerText","AUTH_SMS_SMS_BUTTON_SUBMIT_TIMER","Date","toISOString","substring","buttonSubmitTimer","start","Number","intervalId","setInterval","clearInterval","changeSubmitProps","obj","Object","keys","forEach","key","changeControlValue","control","runFormSubmit","window","BX","ajax","runAction","data","phone","then","response","focusWatcher","regexp_description","errors","String","code","AUTH_SMS_ERROR_1005","Sms","components","ControlTel","ControlCheckbox","ButtonComponent","template","computed","mapState","methods","mapActions","inputTel","inputCheckbox","clickSubmit","mounted","ornzStore","hint","password","AUTH_SMS_A1_TEL_1005","Ornz","MessageComponent","ControlHint","ControlPassword","emits","inputHint","clickA1","$emit","Application","title","toUpperCase","altButton","openOrnz","openA1","clickInfoButton","clickAlt","AuthSMS","rootNode","options","createPinia","document","querySelector","self","BitrixVue","createApp","sessid","getFilteredPhrases","$Bitrix","Loc","getMessage","use","mount","setActivePinia","tableStore"],"mappings":"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"}