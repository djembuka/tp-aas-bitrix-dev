{"version":3,"file":"application.bundle.js","sources":["../src/stores/data.js","../src/stores/code.js","../src/stores/sms.js","../src/components/sms.js","../src/stores/ornz.js","../src/components/ornz.js","../src/components/code.js","../src/components/application.js","../src/loader.js"],"sourcesContent":["import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    sessionid: '',\r\n    signedParameters: '',\r\n    lang: {},\r\n    state: 'code',\r\n    error: '',\r\n    errorButton: false,\r\n  }),\r\n  actions: {\r\n    changeState(value) {\r\n      this.state = value;\r\n    },\r\n    setInfo(message) {\r\n      this.info = message;\r\n    },\r\n    setError(message) {\r\n      this.error = message;\r\n    },\r\n  },\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\nimport { dataStore } from './data.js';\r\n\r\nexport const codeStore = defineStore('code', {\r\n  state: () => ({\r\n    lang: {},\r\n    inputs: [\r\n      { id: 'input1', value: '' },\r\n      { id: 'input2', value: '' },\r\n      { id: 'input3', value: '' },\r\n      { id: 'input4', value: '' },\r\n      { id: 'input5', value: '' },\r\n      { id: 'input6', value: '' },\r\n    ],\r\n    uuid: '',\r\n    submitProps: { large: true, secondary: true, wide: true },\r\n    timerProps: { small: true, secondary: true },\r\n    timer: 20,\r\n    clearInputs: false,\r\n  }),\r\n  getters: {\r\n    code() {\r\n      return this.inputs.reduce(\r\n        (accumulator, currentValue) =>\r\n          String(accumulator) + String(currentValue.value),\r\n        ''\r\n      );\r\n    },\r\n    buttonDisabled() {\r\n      return this.inputs.some((i) => !i.value);\r\n    },\r\n    buttonSubmitTimerText() {\r\n      return this.timer\r\n        ? `${this.lang.AUTH_SMS_CODE_BUTTON_SUBMIT_TIMER} ${new Date(\r\n            this.timer * 1000\r\n          )\r\n            .toISOString()\r\n            .substring(14, 19)}`\r\n        : '';\r\n    },\r\n    timerDisabled() {\r\n      return false;\r\n    },\r\n  },\r\n  actions: {\r\n    buttonSubmitTimer(start) {\r\n      this.timer = Number(start);\r\n      const intervalId = setInterval(() => {\r\n        if (this.timer === 0) {\r\n          clearInterval(intervalId);\r\n        } else {\r\n          this.timer--;\r\n        }\r\n      }, 1000);\r\n    },\r\n    changeSubmitProps(obj) {\r\n      Object.keys(obj).forEach((key) => {\r\n        if (obj[key]) {\r\n          this.submitProps[key] = true;\r\n        } else {\r\n          delete this.submitProps[key];\r\n        }\r\n      });\r\n    },\r\n    changeInputValue({ control, value }) {\r\n      control.value = value;\r\n    },\r\n    runFormSubmit() {\r\n      if (window.BX) {\r\n        BX.ajax\r\n          .runAction('twinpx:authorization.api.check', {\r\n            data: {\r\n              code: this.code,\r\n              uuid: this.uuid,\r\n            },\r\n          })\r\n          .then(\r\n            (response) => {\r\n              this.changeSubmitProps({ 'load-circle': false });\r\n              window.location.href = response.data.redirect;\r\n            },\r\n            (response) => {\r\n              this.changeSubmitProps({ 'load-circle': false });\r\n\r\n              dataStore().error = response.errors[0].message;\r\n\r\n              if (String(response.errors[0].code) === String(1001)) {\r\n                //B2\r\n                //error button\r\n                //disabled inputs\r\n                //disabled button\r\n                dataStore().errorButton = true;\r\n                this.clearInputs = !this.clearInputs;\r\n                this.inputs.forEach((input) => {\r\n                  input.disabled = true;\r\n                  input.value = '';\r\n                });\r\n              } else if (String(response.errors[0].code) === String(1002)) {\r\n                //E1\r\n                //invalid inputs\r\n                //invalid message\r\n                //disabled button\r\n                //timer\r\n              } else if (String(response.errors[0].code) === String(1003)) {\r\n                //disabled button\r\n                //timer\r\n              } else if (String(response.errors[0].code) === String(1004)) {\r\n                //enabled button\r\n                //timer\r\n              } else if (String(response.errors[0].code) === String(1005)) {\r\n              }\r\n            }\r\n          );\r\n      }\r\n    },\r\n  },\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\nimport { dataStore } from './data.js';\r\nimport { codeStore } from './code.js';\r\n\r\nexport const smsStore = defineStore('sms', {\r\n  state: () => ({\r\n    lang: {},\r\n    state: 'A1',\r\n    controls: [\r\n      {\r\n        property: 'tel',\r\n        id: 'id0',\r\n        name: 'PHONE',\r\n        label: '',\r\n        value: '',\r\n        required: true,\r\n        disabled: false,\r\n      },\r\n      {\r\n        property: 'checkbox',\r\n        id: 'id1',\r\n        name: 'NUM',\r\n        label: '',\r\n        value: '',\r\n        required: false,\r\n        disabled: false,\r\n      },\r\n    ],\r\n    submitProps: { large: true, secondary: true, wide: true },\r\n    errorButton: false,\r\n    timer: 0,\r\n  }),\r\n  getters: {\r\n    buttonDisabled() {\r\n      let result = false;\r\n\r\n      if (this.state === 'C1' && this.timer) {\r\n        result = true;\r\n      } else {\r\n        result =\r\n          this.controls[0].setInvalidWatcher ||\r\n          this.controls[0].disabled ||\r\n          !this.controls[0].value.trim() ||\r\n          !this.controls[1].value;\r\n      }\r\n      return result;\r\n    },\r\n    buttonSubmitTimerText() {\r\n      return this.timer\r\n        ? `${this.lang.AUTH_SMS_SMS_BUTTON_SUBMIT_TIMER} ${new Date(\r\n            this.timer * 1000\r\n          )\r\n            .toISOString()\r\n            .substring(14, 19)}`\r\n        : '';\r\n    },\r\n  },\r\n  actions: {\r\n    buttonSubmitTimer(start) {\r\n      this.timer = Number(start);\r\n      const intervalId = setInterval(() => {\r\n        if (this.timer === 0) {\r\n          clearInterval(intervalId);\r\n        } else {\r\n          this.timer--;\r\n        }\r\n      }, 1000);\r\n    },\r\n    changeSubmitProps(obj) {\r\n      Object.keys(obj).forEach((key) => {\r\n        if (obj[key]) {\r\n          this.submitProps[key] = true;\r\n        } else {\r\n          delete this.submitProps[key];\r\n        }\r\n      });\r\n    },\r\n    input({ control, value }) {\r\n      control.value = value;\r\n      if (control.property === 'tel') {\r\n        control.setInvalidWatcher = false;\r\n      }\r\n    },\r\n    runFormSubmit() {\r\n      if (window.BX) {\r\n        BX.ajax\r\n          .runAction('twinpx:authorization.api.send', {\r\n            data: {\r\n              phone: this.controls[0].value,\r\n            },\r\n          })\r\n          .then(\r\n            (response) => {\r\n              this.changeSubmitProps({ 'load-circle': false });\r\n              dataStore().error = '';\r\n\r\n              //show code\r\n              this.controls[0].focusWatcher = false;\r\n              this.controls[0].setInvalidWatcher = false;\r\n              this.controls[0].regexp_description = '';\r\n              this.errorButton = '';\r\n\r\n              codeStore().uuid = response.data.UUID;\r\n              dataStore().changeState('code');\r\n            },\r\n            (response) => {\r\n              this.changeSubmitProps({ 'load-circle': false });\r\n\r\n              dataStore().error = response.errors[0].message;\r\n\r\n              if (String(response.errors[0].code) === String(1001)) {\r\n                //B1\r\n                this.state = 'B1';\r\n                this.controls[0].disabled = true;\r\n                this.errorButton = this.lang.AUTH_SMS_SMS_ERROR_BUTTON;\r\n              } else if (String(response.errors[0].code) === String(1002)) {\r\n                //C1\r\n                this.state = 'C1';\r\n                this.buttonSubmitTimer(response.errors[0].customData.remain);\r\n              } else if (String(response.errors[0].code) === String(1003)) {\r\n                //A2\r\n                this.state = 'A2';\r\n                this.controls[0].focusWatcher = true;\r\n                this.controls[0].setInvalidWatcher = true;\r\n                this.controls[0].regexp_description =\r\n                  this.lang.AUTH_SMS_SMS_ERROR_1003 || '';\r\n              } else if (String(response.errors[0].code) === String(1004)) {\r\n                //B2\r\n              } else if (String(response.errors[0].code) === String(1005)) {\r\n                //A3\r\n                this.state = 'A3';\r\n                this.controls[0].focusWatcher = true;\r\n                this.controls[0].setInvalidWatcher = true;\r\n                this.controls[0].regexp_description =\r\n                  this.lang.AUTH_SMS_SMS_ERROR_1005 || '';\r\n              } else if (String(response.errors[0].code) === String(1006)) {\r\n                //A3\r\n                this.state = 'A3';\r\n                this.controls[0].focusWatcher = true;\r\n                this.controls[0].setInvalidWatcher = true;\r\n                this.controls[0].regexp_description =\r\n                  this.lang.AUTH_SMS_SMS_ERROR_1006 || '';\r\n              }\r\n            }\r\n          );\r\n      }\r\n    },\r\n  },\r\n});\r\n","import { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\nimport { smsStore } from '../stores/sms.js';\r\n\r\nimport './sms.css';\r\n\r\nimport { ControlComponent } from 'local.vue-components.control-component';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const Sms = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    ControlComponent,\r\n    ButtonComponent,\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n    <div class=\"vue-auth-sms-sms\">\r\n      <div class=\"vue-auth-sms-sms-form\">\r\n        <div class=\"vue-auth-sms-sms-form-body\">\r\n          <div v-for=\"control in controls\" :key=\"control.id\">\r\n            <ControlComponent :control=\"control\" @input=\"input\" />\r\n            <hr />\r\n          </div>\r\n          <ButtonComponent :text=\"buttonSubmitTimerText || lang.AUTH_SMS_SMS_BUTTON_SUBMIT\" :props=\"Object.keys(submitProps)\" :disabled=\"buttonDisabled\" @clickButton=\"clickSubmit\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, ['lang']),\r\n    ...mapState(smsStore, [\r\n      'controls',\r\n      'submitProps',\r\n      'buttonDisabled',\r\n      'buttonSubmitTimerText',\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...mapActions(smsStore, ['input', 'runFormSubmit', 'changeSubmitProps']),\r\n    clickSubmit() {\r\n      this.changeSubmitProps({ 'load-circle': true });\r\n      this.runFormSubmit();\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const ornzStore = defineStore('ornz', {\r\n  state: () => ({\r\n    controls: [\r\n      {\r\n        property: 'hint',\r\n        id: 'id2',\r\n        name: 'ORNZ',\r\n        label: '',\r\n        value: '',\r\n        count: 3,\r\n        action: './response-ornz.js',\r\n        required: true,\r\n        disabled: false,\r\n      },\r\n      {\r\n        property: 'password',\r\n        id: 'id3',\r\n        name: 'PASSWORD',\r\n        label: '',\r\n        value: '',\r\n        required: true,\r\n        disabled: false,\r\n      },\r\n    ],\r\n    submitProps: { large: true, secondary: true, wide: true },\r\n  }),\r\n  getters: {\r\n    buttonDisabled() {\r\n      return true;\r\n    },\r\n  },\r\n  actions: {\r\n    async runHintsAction({ control, action }, callback) {\r\n      control.loading = true;\r\n\r\n      let response = await fetch(action);\r\n      let result = await response.json();\r\n\r\n      control.loading = false;\r\n      resultFn(result.data.hints);\r\n\r\n      // let a = window.BX.ajax.runComponentAction(action, {\r\n      //   string:\r\n      //     typeof control.value === 'object'\r\n      //       ? control.value.value\r\n      //       : control.value,\r\n      // });\r\n\r\n      // a.then(\r\n      //   (result) => {\r\n      //     control.loading = false;\r\n      //     resultFn(result);\r\n      //   },\r\n      //   (error) => {\r\n      //     control.loading = false;\r\n      //     if (\r\n      //       window.twinpx &&\r\n      //       window.twinpx.vue.markup &&\r\n      //       window.twinpx.vue['filter-table']\r\n      //     ) {\r\n      //       resultFn(window.twinpx.vue['filter-table'].hints);\r\n      //     } else {\r\n      //       this.showError({ error, method: hintsAction });\r\n      //     }\r\n      //   }\r\n      // );\r\n\r\n      function resultFn(data) {\r\n        control.hints = data;\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }\r\n    },\r\n    setHints({ control, value }) {\r\n      control.hints = value;\r\n    },\r\n    changeSubmitProps(obj) {\r\n      Object.keys(obj).forEach((key) => {\r\n        if (obj[key]) {\r\n          this.submitProps[key] = true;\r\n        } else {\r\n          delete this.submitProps[key];\r\n        }\r\n      });\r\n    },\r\n    input({ control, value }) {\r\n      control.value = value;\r\n      console.log(control);\r\n    },\r\n    runFormSubmit() {\r\n      const self = this;\r\n\r\n      if (window.BX) {\r\n        BX.ajax\r\n          .runAction('twinpx:authorization.api.send', {\r\n            data: {\r\n              phone: this.ornz.value,\r\n            },\r\n          })\r\n          .then(\r\n            (response) => {},\r\n            (response) => {}\r\n          );\r\n      }\r\n    },\r\n  },\r\n});\r\n","import { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\nimport { ornzStore } from '../stores/ornz.js';\r\n\r\nimport './ornz.css';\r\n\r\nimport { ControlComponent } from 'local.vue-components.control-component';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const Ornz = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    ControlComponent,\r\n    ButtonComponent,\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n    <div class=\"vue-auth-sms-ornz-form\">\r\n      <div class=\"vue-auth-sms-ornz-form-body\">\r\n        <form action=\"\" method=\"\">\r\n          <div v-for=\"control in controls\" :key=\"control.id\">\r\n            <ControlComponent :control=\"control\" @input=\"input\" @hints=\"hints\" />\r\n            <hr />\r\n          </div>\r\n          <ButtonComponent :text=\"buttonSubmitTimerText || lang.AUTH_SMS_ORNZ_BUTTON_SUBMIT\" :props=\"Object.keys(submitProps)\" :disabled=\"buttonDisabled\" @clickButton=\"clickSubmit\" />\r\n        </form>\r\n      </div>\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, ['lang']),\r\n    ...mapState(ornzStore, [\r\n      'controls',\r\n      'submitProps',\r\n      'errorORNZ',\r\n      'buttonDisabled',\r\n      'runHintsAction',\r\n      'setHints',\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...mapActions(ornzStore, ['input', 'runFormSubmit', 'changeSubmitProps']),\r\n    hints({ type, control, action, value }) {\r\n      switch (type) {\r\n        case 'get':\r\n          this.runHintsAction({\r\n            control,\r\n            action,\r\n          });\r\n          break;\r\n        case 'set':\r\n          this.setHints({\r\n            control,\r\n            value,\r\n          });\r\n          break;\r\n      }\r\n    },\r\n    clickSubmit() {\r\n      this.changeSubmitProps({ 'load-circle': true });\r\n      this.runFormSubmit();\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n","import { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\nimport { codeStore } from '../stores/code.js';\r\n\r\nimport './code.css';\r\n\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const Code = {\r\n  data() {\r\n    return {\r\n      inputValue: '',\r\n    };\r\n  },\r\n  components: {\r\n    ButtonComponent,\r\n  },\r\n  emits: ['openOrnz'],\r\n  // language=Vue\r\n\r\n  template: `\r\n      <div class=\"vue-auth-sms-code-form\">\r\n        <div class=\"vue-auth-sms-code-form-body\">\r\n          <div class=\"vue-auth-sms-code-inputs\">\r\n            <div :class=\"{'vue-auth-sms-code-inputs-label': true, 'vue-auth-sms-code-inputs-label--disabled': inputs.every(i => i.disabled)}\">{{ lang.AUTH_SMS_CODE_LABEL_INPUTS }}</div>\r\n            <div class=\"vue-auth-sms-code-inputs-body\" ref=\"inputs\">\r\n\r\n              <input v-for=\"(input, index) in inputs\"\r\n                :key=\"input.id\"\r\n                type=\"text\"\r\n                :class=\"{'vue-auth-sms-code-input': true, 'vue-auth-sms-code-input--disabled': input.disabled}\"\r\n                @input=\"inputText(input, index, $event)\"\r\n                @keyup.backspace=\"backspaceInput(index)\"\r\n              />\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <div><ButtonComponent :text=\"lang.AUTH_SMS_CODE_BUTTON_SUBMIT\" :props=\"Object.keys(submitProps)\" :disabled=\"buttonDisabled\" @clickButton=\"runFormSubmit\" /></div>\r\n          <div><ButtonComponent :text=\"buttonSubmitTimerText\" :props=\"Object.keys(timerProps)\" :disabled=\"timerDisabled\" @clickButton=\"clickNewCode\" /></div>\r\n        </div>\r\n      </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, ['lang']),\r\n    ...mapState(codeStore, [\r\n      'lang',\r\n      'inputs',\r\n      'uuid',\r\n      'submitProps',\r\n      'error',\r\n      'errorButton',\r\n      'buttonDisabled',\r\n      'buttonSubmitTimerText',\r\n      'timerDisabled',\r\n      'timerProps',\r\n      'clearInputs',\r\n    ]),\r\n  },\r\n  watch: {\r\n    clearInputs() {\r\n      this.$refs.inputs\r\n        .querySelectorAll(`.vue-auth-sms-code-input`)\r\n        .forEach((input) => (input.value = ''));\r\n    },\r\n    inputValue(value) {\r\n      this.changeInputValue({ value });\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(dataStore, ['changeState']),\r\n    ...mapActions(codeStore, [\r\n      'changeInputValue',\r\n      'runFormSubmit',\r\n      'changeSubmitProps',\r\n    ]),\r\n    clickNewCode() {\r\n      this.changeState('sms');\r\n    },\r\n    backspaceInput(index) {\r\n      const prev = this.$refs.inputs.querySelectorAll(\r\n        `.vue-auth-sms-code-input`\r\n      )[index - 1];\r\n\r\n      if (prev) {\r\n        prev.focus();\r\n      }\r\n    },\r\n    inputText(input, index, event) {\r\n      const value = event.target.value;\r\n      this.changeInputValue({ control: input, value });\r\n\r\n      const next = this.$refs.inputs.querySelectorAll(\r\n        `.vue-auth-sms-code-input`\r\n      )[index + 1];\r\n\r\n      if (value && next) {\r\n        next.focus();\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$refs.inputs.querySelector('.vue-auth-sms-code-input').focus();\r\n  },\r\n};\r\n","import './application.css';\r\nimport { Sms } from './sms.js';\r\nimport { Ornz } from './ornz.js';\r\nimport { Code } from './code.js';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data';\r\nimport { smsStore } from '../stores/sms';\r\nimport { codeStore } from '../stores/code';\r\n\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {\r\n      info: true,\r\n    };\r\n  },\r\n  components: {\r\n    Sms,\r\n    Ornz,\r\n    Code,\r\n    MessageComponent,\r\n    ButtonComponent,\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n    <div class=\"vue-auth-sms\">\r\n      <div class=\"vue-auth-sms-left\">\r\n\r\n\r\n        <h3 class=\"mt-0\">{{ title }}</h3>\r\n\r\n        <MessageComponent v-if=\"info\" type=\"info\" :message=\"lang.AUTH_SMS_INFO_MESSAGE\" :button=\"lang.AUTH_SMS_INFO_BUTTON\" @clickButton=\"clickInfoButton\" />\r\n        <MessageComponent v-if=\"error\" type=\"error\" :message=\"error\" :button=\"errorButton\" @clickButton=\"clickErrorButton\" />\r\n\r\n        <Sms v-if=\"state === 'sms'\" />\r\n        <Ornz v-else-if=\"state === 'ornz'\" />\r\n        <Code v-else-if=\"state === 'code'\" />\r\n\r\n        <hr class=\"hr--line hr--none\" />\r\n\r\n        <div class=\"vue-auth-sms-alt\">\r\n          <div><ButtonComponent :text=\"altButton\" :props=\"['medium', 'primary']\" @clickButton=\"clickAlt\" /></div>\r\n          <div><a href=\"\">{{ lang.AUTH_SMS_ENTER_LINK }}</a></div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"vue-auth-sms-right\">\r\n        <img src=\"/markup/pages/auth-sms/auth-sms-ill.png\" alt=\"\">\r\n      </div>\r\n      \r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, [\r\n      'sessionid',\r\n      'signedParameters',\r\n      'lang',\r\n      'state',\r\n      'error',\r\n      'errorButton',\r\n    ]),\r\n    ...mapState(smsStore, ['errorButton']),\r\n    ...mapState(codeStore, ['uuid']),\r\n    title() {\r\n      return this.lang[`AUTH_SMS_${String(this.state).toUpperCase()}_TITLE`];\r\n    },\r\n    altButton() {\r\n      return this.lang[\r\n        `AUTH_SMS_${String(this.state).toUpperCase()}_ALT_BUTTON`\r\n      ];\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(dataStore, ['changeState']),\r\n    clickInfoButton() {\r\n      this.info = false;\r\n    },\r\n    clickAlt() {\r\n      if (this.state === 'ornz') {\r\n        this.changeState('sms');\r\n      } else {\r\n        this.changeState('ornz');\r\n      }\r\n    },\r\n    clickErrorButton() {\r\n      this.changeState('ornz');\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { Application } from './components/application';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { dataStore } from './stores/data';\r\nimport { smsStore } from './stores/sms';\r\nimport { ornzStore } from './stores/ornz';\r\nimport { codeStore } from './stores/code';\r\n\r\nexport class AuthSMS {\r\n  #store;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options): void {\r\n    this.#store = createPinia();\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run(): void {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Table Application',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: '<Application/>',\r\n      mounted() {\r\n        dataStore().sessid = self.options.sessid || '';\r\n        dataStore().signedParameters = self.options.signedParameters || '';\r\n        dataStore().lang = BitrixVue.getFilteredPhrases(this, 'AUTH_SMS');\r\n\r\n        smsStore().controls[0].label = this.$Bitrix.Loc.getMessage(\r\n          'AUTH_SMS_SMS_LABEL_TEL'\r\n        );\r\n        smsStore().controls[1].label = this.$Bitrix.Loc.getMessage(\r\n          'AUTH_SMS_SMS_LABEL_CHECKBOX'\r\n        );\r\n        smsStore().lang = BitrixVue.getFilteredPhrases(this, 'AUTH_SMS_SMS');\r\n\r\n        ornzStore().controls[0].label = this.$Bitrix.Loc.getMessage(\r\n          'AUTH_SMS_ORNZ_LABEL_ORNZ'\r\n        );\r\n        ornzStore().controls[1].label = this.$Bitrix.Loc.getMessage(\r\n          'AUTH_SMS_ORNZ_LABEL_PASSWORD'\r\n        );\r\n\r\n        codeStore().lang = BitrixVue.getFilteredPhrases(this, 'AUTH_SMS_CODE');\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication(): void {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getTableStore(): Object {\r\n    return tableStore;\r\n  }\r\n}\r\n"],"names":["dataStore","defineStore","state","sessionid","signedParameters","lang","error","errorButton","actions","changeState","value","setInfo","message","info","setError","codeStore","inputs","id","uuid","submitProps","large","secondary","wide","timerProps","small","timer","clearInputs","getters","code","reduce","accumulator","currentValue","String","buttonDisabled","some","i","buttonSubmitTimerText","AUTH_SMS_CODE_BUTTON_SUBMIT_TIMER","Date","toISOString","substring","timerDisabled","buttonSubmitTimer","start","Number","intervalId","setInterval","clearInterval","changeSubmitProps","obj","Object","keys","forEach","key","changeInputValue","control","runFormSubmit","window","BX","ajax","runAction","data","then","response","location","href","redirect","errors","input","disabled","smsStore","controls","property","name","label","required","result","setInvalidWatcher","trim","AUTH_SMS_SMS_BUTTON_SUBMIT_TIMER","phone","focusWatcher","regexp_description","UUID","AUTH_SMS_SMS_ERROR_BUTTON","customData","remain","AUTH_SMS_SMS_ERROR_1003","AUTH_SMS_SMS_ERROR_1005","AUTH_SMS_SMS_ERROR_1006","Sms","components","ControlComponent","ButtonComponent","template","computed","mapState","methods","mapActions","clickSubmit","mounted","ornzStore","count","action","runHintsAction","callback","resultFn","hints","loading","fetch","json","setHints","console","log","ornz","Ornz","type","Code","inputValue","emits","watch","$refs","querySelectorAll","clickNewCode","backspaceInput","index","prev","focus","inputText","event","target","next","querySelector","Application","MessageComponent","title","toUpperCase","altButton","clickInfoButton","clickAlt","clickErrorButton","AuthSMS","rootNode","options","createPinia","document","self","BitrixVue","createApp","sessid","getFilteredPhrases","$Bitrix","Loc","getMessage","use","mount","setActivePinia","tableStore"],"mappings":"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"}