{"version":3,"file":"application.bundle.js","sources":["../src/components/detail-info.js","../src/stores/data.js","../src/stores/controls.js","../src/stores/add-edit.js","../src/components/answer-item.js","../src/components/question-item.js","../src/components/group-item.js","../src/components/groups-component.js","../src/components/add-edit-form.js","../src/components/edit-form.js","../src/components/application.js","../src/loader.js"],"sourcesContent":["import './detail-info.css';\r\n\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const DetailInfo = {\r\n    props: ['voting', 'lang'],\r\n    emits: ['clickChangeDetail'],\r\n    components: {\r\n        ButtonComponent\r\n    },\r\n    template: `\r\n        <div class=\"twpx-poll-detail-info\">\r\n            <div class=\"twpx-poll-detail-info__block\" v-for=\"block in detail\" :key=\"block.id\">\r\n                <h3 v-if=\"block.heading\">{{ block.heading }}</h3>\r\n                <div class=\"twpx-poll-detail-info__items\" v-if=\"block.items && block.items.length\">\r\n                    <div class=\"twpx-poll-detail-info__item\" v-for=\"item in block.items\" :key=\"item.title\">\r\n                        <div class=\"twpx-poll-detail-info__title\" v-html=\"item.title\"></div>\r\n                        <div class=\"twpx-poll-detail-info__value\" v-html=\"item.value\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <ButtonComponent :text=\"lang.changeButton\" :props=\"['serve', 'small']\" @clickButton=\"$emit('clickChangeDetail')\" />\r\n            </div>\r\n        </div>\r\n    `,\r\n    computed: {\r\n        detail() {\r\n            if (Object.keys(this.voting).length <= 0) return;\r\n    \r\n            return [\r\n            {\r\n                id: 1,\r\n                heading: 'Общие данные',\r\n                items: [\r\n                {\r\n                    title: 'Название голосования',\r\n                    value: this.voting.name\r\n                },\r\n                {\r\n                    title: 'Текст анонса',\r\n                    value: this.voting.announcement\r\n                },\r\n                {\r\n                    title: 'Текст подробного описания',\r\n                    value: this.voting.description\r\n                },\r\n                ]\r\n            },\r\n            {\r\n                id: 2,\r\n                heading: 'Сроки',\r\n                items: [\r\n                {\r\n                    title: 'Дата начала активности',\r\n                    value: this.toHumanWithTimeBlock(this.voting.activityStartDate)\r\n                },\r\n                {\r\n                    title: 'Дата окончания активности',\r\n                    value: this.toHumanWithTimeBlock(this.voting.activityEndDate)\r\n                },\r\n                {\r\n                    title: 'Дата окончания голосования',\r\n                    value: this.toHumanWithTimeBlock(this.voting.voteEndDate)\r\n                },\r\n                ]\r\n            },\r\n            {\r\n                id: 3,\r\n                heading: 'Технические',\r\n                items: [\r\n                {\r\n                    title: 'Количество попыток',\r\n                    value: this.voting.numberVotesLimit\r\n                },\r\n                {\r\n                    title: 'Количество голосующих',\r\n                    value: this.voting.numberVoters\r\n                },\r\n                {\r\n                    title: 'Сообщение у кнопки',\r\n                    value: this.voting.buttonMessage\r\n                },\r\n                {\r\n                    title: 'Сообщение после голосования',\r\n                    value: this.voting.messageAfterVoting\r\n                },\r\n                {\r\n                    title: 'Порядок размещения',\r\n                    value: this.voting.sortIndex\r\n                },\r\n                ]\r\n            },\r\n            {\r\n                id: 4,\r\n                heading: 'Доступы',\r\n                items: [\r\n                    {\r\n                        title: 'ID групп голосующих',\r\n                        value: this.voting.groupsVoting\r\n                    },\r\n                    {\r\n                        title: 'ID групп голосующих ЕИО',\r\n                        value: this.voting.groupsVotingEio\r\n                    },\r\n                    {\r\n                        title: 'ID групп голосующих УМЦ',\r\n                        value: this.voting.groupsVotingUmc\r\n                    },\r\n                    {\r\n                        title: 'ID групп Избирательных комиссий',\r\n                        value: this.voting.groupsCommission\r\n                    },\r\n                ]\r\n            },\r\n            {\r\n                id: 5,\r\n                heading: 'Оформление документов',\r\n                items: [\r\n                    {\r\n                        title: 'Заголовок документа',\r\n                        value: this.voting.pdfTitle\r\n                    },\r\n                    {\r\n                        title: 'Подзаголовок документа',\r\n                        value: this.voting.pdfSubTitle\r\n                    },\r\n                ]\r\n            },\r\n            ]\r\n        }\r\n    },\r\n    methods: {\r\n        toHumanWithTimeBlock(input) {\r\n            if (typeof input !== 'string') return '';\r\n        \r\n            const m = input.trim().match(\r\n            /^(\\d{4})-(\\d{2})-(\\d{2})(?:\\s+(\\d{2}):(\\d{2})(?::(\\d{2}))?)?$/\r\n            );\r\n            if (!m) return '';\r\n        \r\n            const [, yyyy, mm, dd, hh = '00', min = '00'] = m;\r\n            return `${dd}.${mm}.${yyyy}<div class=\"text-muted\">${hh}:${min}</div>`;\r\n        },\r\n    }\r\n}","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const dataStore = defineStore('data', {\r\n  state: () => ({\r\n    customData: {},\r\n    signedParameters: '',\r\n    lang: {\r\n\t\t\t'changeButton': 'Изменить',\r\n      deleteModal: {\r\n        group: {\r\n\t\t\t\t\theading: 'Подтвердите удаление группы вопросов',\r\n\t\t\t\t\ttext: 'Подтвердите удаление группы вопросов. Обратите внимание: после удаления восстановить её будет невозможно.',\r\n\t\t\t\t\tno: 'Отменить',\r\n\t\t\t\t\tyes: 'Удалить'\r\n\t\t\t\t},\r\n        question: {\r\n\t\t\t\t\theading: 'Подтвердите удаление вопроса',\r\n\t\t\t\t\ttext: 'Подтвердите удаление вопроса. Обратите внимание: после удаления восстановить его будет невозможно.',\r\n\t\t\t\t\tno: 'Отменить',\r\n\t\t\t\t\tyes: 'Удалить'\r\n\t\t\t\t},\r\n        answer: {\r\n\t\t\t\t\theading: 'Подтвердите удаление ответа',\r\n\t\t\t\t\ttext: 'Подтвердите удаление ответа. Обратите внимание: после удаления восстановить его будет невозможно.',\r\n\t\t\t\t\tno: 'Отменить',\r\n\t\t\t\t\tyes: 'Удалить'\r\n\t\t\t\t}\r\n      },\r\n\t\t\t'group': {\r\n\t\t\t\tblock: {\r\n\t\t\t\t\t'heading': 'Создать группу вопросов',\r\n\t\t\t\t\t'text': 'Создайте группу вопросов, чтобы объединить несколько вопросов под единым заголовком и описанием. Если ваши вопросы не разделены на группы, создайте одну общую группу и добавьте все вопросы в неё. Учтите: группа является обязательным элементом голосования.',\r\n\t\t\t\t\t'button': 'Добавить группу вопросов'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'groupItem': {\r\n        heading: 'Добавить вопрос',\r\n        text: 'Используйте эту функцию, чтобы создать новый вопрос для голосования. Укажите формулировку вопроса, при необходимости добавьте варианты ответов и сохраните его в выбранной группе.',\r\n\t\t\t\tbutton: 'Добавить вопрос'\r\n\t\t\t}\r\n\t\t},\r\n\r\n    uuid: '',\r\n    groupUuid: '',\r\n    questionUuid: '',\r\n\r\n\t\tactions: {\r\n\t\t\t'voting': ['twinpx:voting.form', 'voting'],\r\n\t\t\t'editVoting': ['twinpx:voting.form', 'editVoting'],\r\n\r\n\t\t\t'groupsQuestions': ['twinpx:voting.form', 'groupsQuestions'],\r\n\t\t\t'editGroupQuestions': ['twinpx:voting.form', 'editGroupQuestions'],\r\n\t\t\t'deleteGroupQuestions': ['twinpx:voting.form', 'deleteGroupQuestions'],\r\n\r\n\t\t\t'questions': ['twinpx:voting.form', 'questions'],\r\n\t\t\t'editQuestion': ['twinpx:voting.form', 'editQuestion'],\r\n\t\t\t'deleteQuestion': ['twinpx:voting.form', 'deleteQuestion'],\r\n\r\n\t\t\t'answers': ['twinpx:voting.form', 'answers'],\r\n\t\t\t'editAnswer': ['twinpx:voting.form', 'editAnswer'],\r\n\t\t\t'deleteAnswer': ['twinpx:voting.form', 'deleteAnswer'],\r\n\t\t},\r\n\r\n    typeMode: 'group',// group, question, answer\r\n    actionMode: 'add',// add, edit\r\n\r\n    voting: [],\r\n    groups: [],\r\n    questions: {},\r\n    answers: {},\r\n\r\n    loading: false,\r\n    error: '',\r\n\r\n    editModalStateWatcher: false,\r\n    editModalLoading: false,\r\n    editModalError: '',\r\n\r\n    deleteModalStateWatcher: false,\r\n    itemToDelete: null\r\n  }),\r\n  actions: {\r\n    pushItemsArray({type, parentUuid, itemsArray}) {\r\n      this[type][parentUuid] = itemsArray;\r\n    },\r\n    changeProp(prop, value) {\r\n      this[prop] = value;\r\n    },\r\n    runBitrixMethod(method, data, formData) {\r\n      if (!this.actions[method] || !Array.isArray(this.actions[method])) {\r\n        return Promise.reject({errors: [{message: `No such method ${method}`}]});\r\n      }\r\n\r\n      let payload;\r\n      \r\n      // Если есть formData, добавляем к нему customData и передаем как data\r\n      if (formData instanceof FormData) {\r\n        // Добавляем customData к FormData\r\n        Object.entries(this.customData).forEach(([key, value]) => {\r\n          if (value !== undefined && value !== null) {\r\n            formData.append(key, value);\r\n          }\r\n        });\r\n        payload = formData;\r\n      } else if (data) {\r\n        // Если есть data, объединяем с customData в объект\r\n        payload = {\r\n          ...this.customData,\r\n          ...data\r\n        };\r\n      } else {\r\n        // Если нет ни data, ни formData, передаем только customData\r\n        payload = this.customData;\r\n      }\r\n\r\n      return BX.ajax.runComponentAction(this.actions[method][0], this.actions[method][1], {\r\n        mode: 'class',\r\n        data: payload,\r\n        signedParameters: this.signedParameters,\r\n      })\r\n    }\r\n\r\n  }\r\n});\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const controlsStore = defineStore('controls', {\r\n  state: () => ({\r\n    groupFormBlocks: [\r\n        {\r\n          id: 'group1',\r\n          heading: 'Общие данные',\r\n          controls: [\r\n            {\r\n              property: 'hidden',\r\n              id: 'group1control0',\r\n              name: 'GROUP_UUID',\r\n              label: '',\r\n              value: '',\r\n            },\r\n            {\r\n              property: 'text',\r\n              id: 'group1control1',\r\n              name: 'GROUP_NAME',\r\n              label: 'Название группы вопросов',\r\n              value: '',\r\n              required: true,\r\n              hint_external: \"Используйте название, которое объединит несколько вопросов в один.\"\r\n            },\r\n            {\r\n              property: 'textarea',\r\n              id: 'group1control2',\r\n              name: 'GROUP_DESCRIPTION',\r\n              label: 'Текст подробного описания',\r\n              value: '',\r\n              required: false,\r\n            },\r\n            {\r\n              \"property\": \"file\",\r\n              \"id\": 'group1control3',\r\n              \"name\": \"GROUP_PIC\",\r\n              \"label\": \"Иллюстрация\",\r\n              \"value\": \"\",\r\n              \"file\": \"\",\r\n              \"required\": false,\r\n              \"accept\": [\r\n                \"png\",\r\n                \"jpg\",\r\n                \"jpeg\"\r\n              ],\r\n              \"image\": true,\r\n              \"maxsize\": 20000000\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          id: 'group2',\r\n          heading: 'Технические',\r\n          controls: [\r\n            {\r\n              property: 'num',\r\n              id: 'group2control1',\r\n              name: 'GROUP_SORT',\r\n              label: 'Порядок размещения группы',\r\n              value: '',\r\n              required: true,\r\n              hint_external: 'Используйте цифры от 1 до N,  порядок определяет от 1, сверху вниз. 1 всегда будет первым. Для удобства рекомендуем использовать 10, 20, 30, это позволит оперативно изменить порядок.'\r\n            }\r\n          ]\r\n        },\r\n      ],\r\n    questionFormBlocks: [\r\n        {\r\n          id: 'question1',\r\n          heading: 'Общие данные',\r\n          controls: [\r\n            {\r\n              property: 'hidden',\r\n              id: 'question1control0',\r\n              name: 'QUESTION_UUID',\r\n              label: '',\r\n              value: '',\r\n            },\r\n            {\r\n              property: 'text',\r\n              id: 'question1control1',\r\n              name: 'QUESTION_NAME',\r\n              label: 'Название вопроса',\r\n              value: '',\r\n              required: true,\r\n            },\r\n            {\r\n              property: 'textarea',\r\n              id: 'question1control2',\r\n              name: 'QUESTION_DESCRIPTION',\r\n              label: 'Текст подробного описания',\r\n              value: '',\r\n              required: false,\r\n            },\r\n            {\r\n              \"property\": \"file\",\r\n              \"id\": 'question1control3',\r\n              \"name\": \"QUESTION_PIC\",\r\n              \"label\": \"Иллюстрация вопроса\",\r\n              \"value\": \"\",\r\n              \"file\": \"\",\r\n              \"required\": false,\r\n              \"accept\": [\r\n                \"svg\",\r\n                \"png\",\r\n                \"jpg\",\r\n                \"jpeg\"\r\n              ],\r\n              \"image\": true,\r\n              \"maxsize\": 20000000\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          id: 'question3',\r\n          heading: 'Файлы вопроса',\r\n          controls: [\r\n            {\r\n              property: 'file',\r\n              id: 'question3control1',\r\n              name: 'QUESTION_FILE',\r\n              label: 'Файл',\r\n              value: [],\r\n              file: null,\r\n              accept: ['pdf'],\r\n              multi: 5,\r\n              maxsize: 20000000,\r\n            },\r\n          ]\r\n        },\r\n        {\r\n          id: 'question2',\r\n          heading: 'Технические',\r\n          controls: [\r\n            {\r\n              \"property\": \"select\",\r\n              \"type\": \"dropdown\",\r\n              \"id\": 'question2control1',\r\n              \"name\": \"QUESTION_TYPE\",\r\n              \"label\": \"Тип выбора\",\r\n              \"options\": [\r\n                {\r\n                  \"label\": \"Радио кнопка\",\r\n                  \"code\": \"0\"\r\n                },\r\n                {\r\n                  \"label\": \"Чекбокс\",\r\n                  \"code\": \"1\"\r\n                },\r\n              ],\r\n              \"value\": \"\",\r\n              required: true,\r\n              \"disabled\": false,\r\n            },\r\n            {\r\n              property: 'num',\r\n              id: 'question2control2',\r\n              name: 'QUESTION_NUM',\r\n              label: 'Количество ответов',\r\n              value: '',\r\n              required: true,\r\n              hint_external: 'Максимальное количество ответов на вопрос.'\r\n            },\r\n            {\r\n              property: 'num',\r\n              id: 'question2control3',\r\n              name: 'QUESTION_SORT',\r\n              label: 'Порядок размещения на странице',\r\n              value: '',\r\n              required: true,\r\n              hint_external: 'Используйте цифры от 1 до N,  порядок определяет от 1, сверху вниз. 1 всегда будет первым. Для удобства рекомендуем использовать 10, 20, 30, это позволит оперативно изменить порядок.'\r\n            }\r\n          ]\r\n        },\r\n      ],\r\n    answerFormBlocks: [\r\n      {\r\n        id: 'answer1',\r\n        heading: 'Общие данные',\r\n        controls: [\r\n          {\r\n            property: 'hidden',\r\n            id: 'answer1control0',\r\n            name: 'ANSWER_UUID',\r\n            label: '',\r\n            value: '',\r\n          },\r\n          {\r\n            property: 'text',\r\n            id: 'answer1control1',\r\n            name: 'ANSWER_NAME',\r\n            label: 'Название ответа',\r\n            value: '',\r\n            required: true,\r\n          },\r\n          {\r\n            property: 'textarea',\r\n            id: 'answer1control2',\r\n            name: 'ANSWER_DESCRIPTION',\r\n            label: 'Подробное описание ответа',\r\n            value: '',\r\n            required: false,\r\n          },\r\n          {\r\n            \"property\": \"file\",\r\n            \"id\": 'answer1control3',\r\n            \"name\": \"ANSWER_PIC\",\r\n            \"label\": \"Иллюстрация ответа\",\r\n            \"value\": \"\",\r\n            \"file\": \"\",\r\n            \"required\": false,\r\n            \"accept\": [\r\n              \"svg\",\r\n              \"png\",\r\n              \"jpg\",\r\n              \"jpeg\"\r\n            ],\r\n            \"image\": true,\r\n            \"maxsize\": 20000000\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 'answer2',\r\n        heading: 'Технические',\r\n        controls: [\r\n          {\r\n            property: 'num',\r\n            id: 'answer2control1',\r\n            name: 'ANSWER_SORT',\r\n            label: 'Порядок размещения на странице',\r\n            value: '',\r\n            required: true,\r\n            hint_external: 'Используйте цифры от 1 до N,  порядок определяет от 1, сверху вниз. 1 всегда будет первым. Для удобства рекомендуем использовать 10, 20, 30, это позволит оперативно изменить порядок.'\r\n          }\r\n        ]\r\n      },\r\n    ]\r\n  }),\r\n  actions: {\r\n    createMulti({ parent }) {\r\n      parent.property = 'multi';\r\n      parent.multi = [];\r\n    },\r\n    addMulti({ parent, add }) {\r\n      const randomId = Math.round(Math.random() * 1000);\r\n      const sub = [];\r\n\r\n      if (add.sub && add.sub.forEach) {\r\n        add.sub.forEach((s) => {\r\n          s.id = `${s.id}${randomId}`;\r\n          sub.push({ ...s });\r\n        });\r\n        add.sub = sub;\r\n      }\r\n\r\n      add.id = `${add.id}${randomId}`;\r\n      parent.multi.push(add);\r\n    },\r\n    removeMulti({ parent, index }) {\r\n      parent.multi.splice(index, 1);\r\n    },\r\n    changeGroupFormBlocks(blocks) {\r\n      this.groupFormBlocks = blocks;\r\n    },\r\n    changeQuestionFormBlocks(blocks) {\r\n      this.questionFormBlocks = blocks;\r\n    },\r\n    fillGroupForm(group) {\r\n      if (group) {\r\n        const groupArray = [\r\n          [0, 0, 'uuid'],\r\n          [0, 1, 'name'],\r\n          [0, 2, 'description'],\r\n          [0, 3, 'image'],\r\n          [1, 0, 'sortIndex'],\r\n        ];\r\n        groupArray.forEach(item => {\r\n          this.changeControlValue({\r\n            control: this.groupFormBlocks[item[0]].controls[item[1]],\r\n            value: String(group[item[2]])\r\n          })\r\n        });\r\n      } else {\r\n        this.groupFormBlocks.forEach(b => {\r\n          b?.controls?.forEach(c => {\r\n              this.changeControlValue({ control: c, value: '' })\r\n          })\r\n        })\r\n      } \r\n    },\r\n    fillQuestionForm(question) {\r\n      if (question) {\r\n        const questionArray = [\r\n          [0, 0, 'uuid'],\r\n          [0, 1, 'name'],\r\n          [0, 2, 'description'],\r\n          [0, 3, 'image'],\r\n          [1, 0, 'type'],\r\n          [1, 1, 'selectableAnswers'],\r\n          [1, 2, 'sortIndex'],\r\n        ];\r\n        questionArray.forEach(item => {\r\n          this.changeControlValue({\r\n            control: this.questionFormBlocks[item[0]].controls[item[1]],\r\n            value: String(question[item[2]])\r\n          })\r\n        });\r\n      } else {\r\n        this.questionFormBlocks.forEach(b => {\r\n          b?.controls?.forEach(c => {\r\n              this.changeControlValue({ control: c, value: '' })\r\n          })\r\n        })\r\n      } \r\n    },\r\n    fillAnswerForm(answer) {\r\n      if (answer) {\r\n        const answerArray = [\r\n          [0, 0, 'uuid'],\r\n          [0, 1, 'name'],\r\n          [0, 2, 'description'],\r\n          [0, 3, 'image'],\r\n          [1, 0, 'sortIndex'],\r\n        ];\r\n        answerArray.forEach(item => {\r\n          this.changeControlValue({\r\n            control: this.answerFormBlocks[item[0]].controls[item[1]],\r\n            value: String(answer[item[2]])\r\n          })\r\n        });\r\n      } else {\r\n        this.answerFormBlocks.forEach(b => {\r\n          b?.controls?.forEach(c => {\r\n              this.changeControlValue({ control: c, value: '' })\r\n          })\r\n        })\r\n      } \r\n    },\r\n    changeTextControlValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeSelectRadioValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeSelectDropdownValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeDateValue({ control, value }) {\r\n        control.value = value;\r\n    },\r\n    changeFileValue({ control, value, file }) {\r\n        control.value = value;\r\n        control.file = file;\r\n        \r\n        if (value === '') {\r\n            control.file = ''\r\n        }\r\n    },\r\n    changeControlValue({ control, value, file, checked }) {\r\n        switch (control.property) {\r\n        case 'text':\r\n        case 'textarea':\r\n        case 'hint':\r\n        case 'tel':\r\n        case 'email':\r\n        case 'num':\r\n        case 'hidden':\r\n            this.changeTextControlValue({ control, value });\r\n            break;\r\n        case 'select':\r\n            this[\r\n            `changeSelect${control.type\r\n                .substring(0, 1)\r\n                .toUpperCase()}${control.type.substring(1).toLowerCase()}Value`\r\n            ]({ control, value });\r\n            break;\r\n        case 'file':\r\n            this.changeFileValue({ control, value, file });\r\n            break;\r\n        case 'date':\r\n            this.changeDateValue({ control, value });\r\n            break;\r\n        }\r\n    },\r\n    async runHints(control, action) {\r\n        const url = new URL(action, window.location.origin);\r\n        url.searchParams.append('s', control.value);\r\n\r\n        try {\r\n        // Создаем AbortController для возможности отмены запроса\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 20000); // 20 секунд таймаут\r\n\r\n        const response = await fetch(url, {\r\n            signal: controller.signal,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        });\r\n\r\n        clearTimeout(timeoutId);\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const result = await response.json();\r\n\r\n        if (result.status === 'success' && result.data) {\r\n            this.setHints(control, result.data);\r\n        } else if (result.errors) {\r\n            this.error = result.errors[0]?.message\r\n        } else {\r\n            this.error = 'Invalid response format';\r\n        }\r\n        } catch (error) {\r\n        this.error = error?.message\r\n        }\r\n    },\r\n    setHints(control, value) {\r\n        control.hints = value;\r\n    },\r\n  }\r\n});","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const addEditStore = defineStore('add-edit', {\r\n    state: () => ({\r\n        lang: {\r\n            group: {\r\n                add: {\r\n                    heading: 'Создать группу вопросов',\r\n                    cancelButton: 'Отменить',\r\n                    sendButton: 'Создать'\r\n                },\r\n                edit: {\r\n                    heading: 'Изменить группу вопросов',\r\n                    cancelButton: 'Отменить',\r\n                    sendButton: 'Изменить'\r\n                }\r\n            },\r\n            question: {\r\n                add: {\r\n                    heading: 'Добавить вопрос',\r\n                    cancelButton: 'Отменить',\r\n                    sendButton: 'Добавить'\r\n                },\r\n                edit: {\r\n                    heading: 'Изменить вопрос',\r\n                    cancelButton: 'Отменить',\r\n                    sendButton: 'Изменить'\r\n                }\r\n            },\r\n            answer: {\r\n                add: {\r\n                    heading: 'Добавить ответ',\r\n                    cancelButton: 'Отменить',\r\n                    sendButton: 'Добавить'\r\n                },\r\n                edit: {\r\n                    heading: 'Изменить ответ',\r\n                    cancelButton: 'Отменить',\r\n                    sendButton: 'Изменить'\r\n                }\r\n            }\r\n        },\r\n        \r\n        addEditStateWatcher: false,\r\n        addEditLoading: false,\r\n        addEditError: '',\r\n\r\n        image: '',// string with image url, needed for detect imageUpdate property\r\n    }),\r\n    actions: {\r\n        addEditChangeProp(prop, value) {\r\n            this[prop] = value;\r\n        },\r\n    }\r\n})","import './answer-item.css'\r\n\r\nimport { ControlChoice } from 'local.vue-components.control-choice';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const AnswerItem = {\r\n    data() {\r\n        return {\r\n            nopic: '/local/templates/aas/images/nopic.svg',\r\n            controls: [\r\n                {\r\n                    \"property\": \"select\",\r\n                    \"type\": \"radio\",\r\n                    \"id\": `control${Math.floor(Math.random() * 10000)}`,\r\n                    \"name\": `SELECT_BUTTON_TEXT${Math.floor(Math.random() * 10000)}`,\r\n                    \"label\": \"\",\r\n                    \"options\": [\r\n                        {\r\n                            \"label\": \"\",\r\n                            \"code\": \"1\"\r\n                        }\r\n                    ],\r\n                    \"value\": \"\",\r\n                    \"checked\": false,\r\n                },\r\n                {\r\n                    \"property\": \"checkbox\",\r\n                    \"type\": \"checkbox\",\r\n                    \"id\": `control${Math.floor(Math.random() * 10000)}`,\r\n                    \"name\": `DEPENDENCY_CHECKBOX${Math.floor(Math.random() * 10000)}`,\r\n                    \"label\": \"\",\r\n                    \"value\": \"on\",\r\n                    \"checked\": false,\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    props: ['answer', 'type'],\r\n    emits: ['deleteAnswer', 'editAnswer'],\r\n    components: {\r\n        ControlChoice,\r\n        ButtonComponent\r\n    },\r\n    template: `\r\n        <div class=\"twpx-poll-answer-item\">\r\n            <div class=\"twpx-poll-answer-item__info\">\r\n                <img :src=\"answer.image\" width=\"48\" height=\"48\" alt=\"\" v-if=\"answer.image\" />\r\n                <div class=\"twpx-poll-answer-item__text\">\r\n                    <div class=\"twpx-poll-answer-item__title\" v-if=\"answer.name\">{{ answer.name }}</div>\r\n                    <div class=\"twpx-poll-answer-item__desc\" v-if=\"answer.description\">{{ answer.description }}</div>\r\n                </div>\r\n                <ControlChoice v-if=\"Number(type) === 0\" :control=\"controls[0]\" @input=\"input\" />\r\n                <ControlChoice v-if=\"Number(type) === 1\" :control=\"controls[1]\" @input=\"input\" />\r\n            </div>\r\n            <div class=\"twpx-poll-answer-item__buttons\">\r\n                <ButtonComponent :text=\"Edit\" :props=\"['icon', 'edit', 'medium']\" @clickButton=\"clickEdit\" />\r\n                <ButtonComponent :text=\"Delete\" :props=\"['icon', 'delete', 'medium']\" @clickButton=\"clickDelete\" />\r\n            </div>\r\n        </div>\r\n    `,\r\n    methods: {\r\n        input({control, value, checked}) {\r\n            if (checked !== undefined) {\r\n                control.checked = checked;\r\n            } else if (value) {\r\n                control.value = value;\r\n            }\r\n        },\r\n        clickDelete() {\r\n            this.$emit('deleteAnswer', this.answer);\r\n        },\r\n        clickEdit() {\r\n            this.$emit('editAnswer', this.answer);\r\n        },\r\n    }\r\n}","import './question-item.css'\r\n\r\nimport { ControlChoice } from 'local.vue-components.control-choice';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\nimport { DocComponent } from 'local.vue-components.doc-component';\r\n\r\nimport { AnswerItem } from './answer-item';\r\n\r\nexport const QuestionItem = {\r\n    props: ['question', 'answers'],\r\n    emits: ['deleteQuestion', 'editQuestion', 'addAnswer', 'editAnswer', 'deleteAnswer'],\r\n    components: {\r\n        ControlChoice,\r\n        ButtonComponent,\r\n        DocComponent,\r\n        AnswerItem\r\n    },\r\n    template: `\r\n        <div class=\"twpx-poll-question-item\">\r\n            <div class=\"twpx-poll-question-item__wrapper\">\r\n                <div class=\"twpx-poll-question-item__info\">\r\n                    <h4 v-if=\"question.name\">{{ question.name }}</h4>\r\n                    <div v-if=\"question.description\" class=\"twpx-poll-question-item__text\">{{ question.description }}</div>\r\n                    <div v-if=\"question.files\" class=\"twpx-poll-question-item__files\">\r\n                        <DocComponent v-for=\"doc in question.files\" :key=\"doc.id\" :doc=\"doc\" />\r\n                    </div>\r\n                </div>\r\n                <div class=\"twpx-poll-question-item__buttons\">\r\n                    <ButtonComponent :text=\"Edit\" :props=\"['icon', 'edit', 'medium']\" @clickButton=\"clickEdit\" />\r\n                    <ButtonComponent :text=\"Delete\" :props=\"['icon', 'delete', 'medium']\" @clickButton=\"clickDelete\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"twpx-poll-question-item__answers-block\" v-if=\"answers && answers.length\">\r\n                <div class=\"twpx-poll-answers\">\r\n                    <AnswerItem v-for=\"answer in answers\"\r\n                        :key=\"answer.uuid\"\r\n                        :answer=\"answer\"\r\n                        :type=\"question.type\"\r\n                        @editAnswer=\"editAnswer\"\r\n                        @deleteAnswer=\"deleteAnswer\"\r\n                    />\r\n                </div>\r\n                <div class=\"twpx-poll-question-item__answers-block__button\">\r\n                    <ButtonComponent text=\"Добавить ответ\" :props=\"['success', 'medium']\" @clickButton=\"addAnswer\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"twpx-poll-question-item__button\" v-else>\r\n                <ButtonComponent text=\"Добавить ответ\" :props=\"['success', 'medium']\" @clickButton=\"addAnswer\" />\r\n            </div>\r\n        </div>\r\n    `,\r\n    methods: {\r\n        clickDelete() {\r\n            this.$emit('deleteQuestion', this.question);\r\n        },\r\n        clickEdit() {\r\n            this.$emit('editQuestion', this.question);\r\n        },\r\n        addAnswer() {\r\n            this.$emit('addAnswer', this.question);\r\n        },\r\n        editAnswer(args) {\r\n            this.$emit('editAnswer', args);\r\n        },\r\n        deleteAnswer(args) {\r\n            this.$emit('deleteAnswer', args);\r\n        },\r\n    }\r\n}","import './group-item.css'\r\nimport { QuestionItem } from './question-item.js'\r\n\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const GroupItem = {\r\n    props: ['lang', 'group', 'questions', 'answers'],\r\n    emits: [\r\n        'editGroup',\r\n        'deleteGroup',\r\n        'addQuestion',\r\n        'editQuestion',\r\n        'deleteQuestion',\r\n        'addAnswer',\r\n        'editAnswer',\r\n        'deleteAnswer'\r\n    ],\r\n    components: {\r\n        ButtonComponent,\r\n        QuestionItem\r\n    },\r\n    template: `\r\n        <div class=\"twpx-poll-group-item\">\r\n            <div class=\"twpx-poll-group-item__wrapper\">\r\n                <div class=\"twpx-poll-group-item__info\">\r\n                    <h2 v-if=\"group.name\">{{ group.name }}</h2>\r\n                    <div class=\"twpx-poll-group-item__text\" v-if=\"group.description\">{{ group.description }}</div>\r\n                </div>\r\n                <div class=\"twpx-poll-group-item__buttons\">\r\n                    <ButtonComponent text=\"Edit\" :props=\"['icon', 'edit', 'medium']\" @clickButton=\"clickEdit\" />\r\n                    <ButtonComponent text=\"Delete\" :props=\"['icon', 'delete', 'medium']\" @clickButton=\"clickDelete\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"twpx-poll-group-item__questions\" v-if=\"questions && questions.length\">\r\n                <QuestionItem v-for=\"question in questions\"\r\n                    :key=\"question.uuid\"\r\n                    :question=\"question\"\r\n                    :answers=\"answers[question.uuid]\"\r\n                    @editQuestion=\"editQuestion\"\r\n                    @deleteQuestion=\"deleteQuestion\"\r\n                    @addAnswer=\"addAnswer\"\r\n                    @editAnswer=\"editAnswer\"\r\n                    @deleteAnswer=\"deleteAnswer\"\r\n                />\r\n\r\n                <div class=\"twpx-poll-group-item__button\">\r\n                    <div class=\"twpx-poll-group-item__button__wrapper\">\r\n                        <h4>{{ lang.heading }}</h4>\r\n                        <div>{{ lang.text }}</div>\r\n                    </div>\r\n                    <ButtonComponent :text=\"lang.button\" :props=\"['success', 'medium']\" @clickButton=\"addQuestion\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"twpx-poll-group-item__button\" v-else>\r\n                <ButtonComponent :text=\"lang.button\" :props=\"['success', 'medium']\" @clickButton=\"addQuestion\" />\r\n            </div>\r\n        </div>\r\n    `,\r\n    methods: {\r\n        clickDelete() {\r\n            this.$emit('deleteGroup', this.group);\r\n        },\r\n        clickEdit() {\r\n            this.$emit('editGroup', this.group);\r\n        },\r\n        addQuestion() {\r\n            this.$emit('addQuestion', this.group);\r\n        },\r\n        editQuestion(args) {\r\n            this.$emit('editQuestion', args);\r\n        },\r\n        deleteQuestion(args) {\r\n            this.$emit('deleteQuestion', args);\r\n        },\r\n        addAnswer(args) {\r\n            this.$emit('addAnswer', args);\r\n        },\r\n        editAnswer(args) {\r\n            this.$emit('editAnswer', args);\r\n        },\r\n        deleteAnswer(args) {\r\n            this.$emit('deleteAnswer', args);\r\n        }\r\n    }\r\n}","import './groups-component.css';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\nimport { controlsStore } from '../stores/controls.js';\r\nimport { addEditStore } from '../stores/add-edit.js';\r\n\r\nimport { ModalYesNo } from 'local.vue-components.modal-yes-no';\r\n\r\nimport { GroupItem } from './group-item';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const GroupsComponent = {\r\n    components: {\r\n        ModalYesNo,\r\n        GroupItem,\r\n        ButtonComponent\r\n    },\r\n    template: `\r\n        <div class=\"twpx-poll-group-block\">\r\n            <h2>{{ lang.group.block.heading }}</h2>\r\n            <div v-html=\"lang.group.block.text\"></div>\r\n            <div>\r\n                <ButtonComponent :text=\"lang.group.block.button\" :props=\"['success', 'medium']\" @clickButton=\"addGroup\" />\r\n            </div>\r\n        </div>\r\n\r\n        <GroupItem v-for=\"group in groups\" :key=\"group.id\"\r\n            :lang=\"lang.groupItem\"\r\n            :group=\"group\"\r\n            :questions=\"questions[group.uuid]\"\r\n            :answers=\"answers\"\r\n            @editGroup=\"editGroup\"\r\n            @deleteGroup=\"deleteGroup\"\r\n            @addQuestion=\"addQuestion\"\r\n            @editQuestion=\"editQuestion\"\r\n            @deleteQuestion=\"deleteQuestion\"\r\n            @addAnswer=\"addAnswer\"\r\n            @editAnswer=\"editAnswer\"\r\n            @deleteAnswer=\"deleteAnswer\"\r\n        />\r\n\r\n        <ModalYesNo\r\n            :heading=\"currentLang.heading\"\r\n            :text=\"currentLang.text\"\r\n            :yes=\"currentLang.yes\"\r\n            :no=\"currentLang.no\"\r\n            :buttons=\"{\r\n                yes: {\r\n                    props: ['danger', 'large']\r\n                },\r\n                no: {\r\n                    props: ['gray-color', 'large']\r\n                }\r\n            }\"\r\n            :stateWatcher=\"deleteModalStateWatcher\"\r\n            @clickYes=\"clickDeleteModalYes\"\r\n            @clickNo=\"clickDeleteModalNo\"\r\n        />\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n            'lang',\r\n\r\n            'uuid',\r\n\r\n            'typeMode',\r\n            'actionMode',\r\n\r\n            'groups',\r\n            'questions',\r\n            'answers',\r\n\r\n            'deleteModalStateWatcher',\r\n            'itemToDelete'\r\n        ]),\r\n        ...mapState(controlsStore, [\r\n            'questionFormBlocks',\r\n        ]),\r\n        ...mapState(addEditStore, [\r\n            'addEditStateWatcher',\r\n        ]),\r\n        currentLang() {\r\n            return this.lang.deleteModal[ this.typeMode ];\r\n        },\r\n    },\r\n    methods: {\r\n        ...mapActions(dataStore, [\r\n            'runBitrixMethod',\r\n            'changeProp',\r\n            'pushItemsArray'\r\n        ]),\r\n        ...mapActions(controlsStore, [\r\n            'fillGroupForm',\r\n            'fillQuestionForm',\r\n            'fillAnswerForm',\r\n            'changeControlValue'\r\n        ]),\r\n        ...mapActions(addEditStore, [\r\n            'addEditChangeProp',\r\n        ]),\r\n        addGroup() {\r\n            this.addEditChangeProp('addEditStateWatcher', !this.addEditStateWatcher);\r\n            this.addEditChangeProp('addEditError', '');\r\n            this.addEditChangeProp('image', '');\r\n            this.changeProp('typeMode', 'group');\r\n            this.changeProp('actionMode', 'add');\r\n        },\r\n        editGroup(group) {\r\n            this.addEditChangeProp('addEditStateWatcher', !this.addEditStateWatcher);\r\n            this.addEditChangeProp('addEditError', '');\r\n            this.addEditChangeProp('image', group.image);\r\n            this.changeProp('typeMode', 'group');\r\n            this.changeProp('actionMode', 'edit');\r\n            this.fillGroupForm(group);\r\n        },\r\n        deleteGroup(group) {\r\n            this.changeProp('deleteModalStateWatcher', !this.deleteModalStateWatcher);\r\n            this.changeProp('typeMode', 'group');\r\n            this.changeProp('itemToDelete', group);\r\n        },\r\n        async clickDeleteModalYes() {\r\n            const item = {...this.itemToDelete};\r\n            try {\r\n                this.changeProp('loading', true);\r\n                if (this.typeMode === 'group') {\r\n                    await this.runBitrixMethod('deleteGroupQuestions', {uuid: item.uuid});\r\n                    const groupResult = await this.runBitrixMethod('groupsQuestions', { uuid: this.uuid });\r\n                    this.changeProp('groups', groupResult.data);\r\n                } else if (this.typeMode === 'question') {\r\n                    await this.runBitrixMethod('deleteQuestion', {uuid: item.uuid});\r\n                    const questionsResult = await this.runBitrixMethod('questions', { uuid: item.parentUuid });\r\n                    this.pushItemsArray({type: 'questions', parentUuid: item.parentUuid, itemsArray: questionsResult.data});\r\n                } else if (this.typeMode === 'answer') {\r\n                    await this.runBitrixMethod('deleteAnswer', {uuid: item.uuid});\r\n                    const questionsResult = await this.runBitrixMethod('answers', { uuid: item.parentUuid });\r\n                    this.pushItemsArray({type: 'answers', parentUuid: item.parentUuid, itemsArray: questionsResult.data});\r\n                }\r\n                this.changeProp('loading', false);\r\n            } catch(error) {\r\n                this.changeProp('loading', false);\r\n                this.changeProp('error', error?.errors?.[0]?.message || error);\r\n            }\r\n        },\r\n        clickDeleteModalNo() {\r\n            this.changeProp('deleteModalStateWatcher', !this.deleteModalStateWatcher);\r\n        },\r\n        addQuestion(group) {\r\n            this.addEditChangeProp('addEditStateWatcher', !this.addEditStateWatcher);\r\n            this.addEditChangeProp('addEditError', '');\r\n            this.addEditChangeProp('image', '');\r\n            this.changeProp('typeMode', 'question');\r\n            this.changeProp('actionMode', 'add');\r\n            this.changeProp('groupUuid', group.uuid);\r\n        },\r\n        editQuestion(question) {\r\n            this.addEditChangeProp('addEditStateWatcher', !this.addEditStateWatcher);\r\n            this.addEditChangeProp('addEditError', '');\r\n            this.addEditChangeProp('image', question.image);\r\n            this.changeProp('typeMode', 'question');\r\n            this.changeProp('actionMode', 'edit');\r\n            this.changeProp('groupUuid', question.parentUuid);\r\n            this.fillQuestionForm(question);\r\n        },\r\n        deleteQuestion(question) {\r\n            this.changeProp('deleteModalStateWatcher', !this.deleteModalStateWatcher);\r\n            this.changeProp('typeMode', 'question');\r\n            this.changeProp('itemToDelete', question);\r\n        },\r\n        addAnswer(question) {\r\n            this.addEditChangeProp('addEditStateWatcher', !this.addEditStateWatcher);\r\n            this.addEditChangeProp('addEditError', '');\r\n            this.addEditChangeProp('image', '');\r\n            this.changeProp('typeMode', 'answer');\r\n            this.changeProp('actionMode', 'add');\r\n            this.changeProp('questionUuid', question.uuid);\r\n        },\r\n        editAnswer(answer) {\r\n            this.addEditChangeProp('addEditStateWatcher', !this.addEditStateWatcher);\r\n            this.addEditChangeProp('addEditError', '');\r\n            this.addEditChangeProp('image', answer.image);\r\n            this.changeProp('typeMode', 'answer');\r\n            this.changeProp('actionMode', 'edit');\r\n            this.changeProp('questionUuid', answer.parentUuid);\r\n            this.fillAnswerForm(answer);\r\n        },\r\n        deleteAnswer(answer) {\r\n            this.changeProp('deleteModalStateWatcher', !this.deleteModalStateWatcher);\r\n            this.changeProp('typeMode', 'answer');\r\n            this.changeProp('itemToDelete', answer);\r\n        },\r\n    }\r\n}","import './add-edit-form.css'\r\n\r\nimport { ModalAnyContent } from 'local.vue-components.modal-any-content';\r\nimport { LoaderCircle } from 'local.vue-components.loader-circle';\r\nimport { ControlChoice } from 'local.vue-components.control-choice';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\nimport { controlsStore } from '../stores/controls.js';\r\nimport { addEditStore } from '../stores/add-edit.js';\r\n\r\nexport const AddEditForm = {\r\n    components: {\r\n        ModalAnyContent,\r\n        LoaderCircle,\r\n        ControlChoice,\r\n        ButtonComponent,\r\n        MessageComponent\r\n    },\r\n    template: `\r\n        <ModalAnyContent :stateWatcher=\"addEditStateWatcher\">\r\n            <div class=\"twpx-poll-detail__loader\" v-if=\"addEditLoading\">\r\n                <LoaderCircle :show=\"addEditLoading\" />\r\n            </div>\r\n\r\n            <MessageComponent v-else-if=\"addEditError\"\r\n                type=\"error\"\r\n                size=\"big\"\r\n                :message=\"addEditError\"\r\n            />\r\n\r\n            <div v-else class=\"twpx-poll-add-form\">\r\n                <h2>{{ currentLang.heading }}</h2>\r\n\r\n                <div class=\"twpx-poll-add-form__block\" v-for=\"block in currentBlocks\" :key=\"block.id\" :data-id=\"block.id\">\r\n                    <h4>{{ block.heading }}</h4>\r\n                    <div class=\"twpx-poll-add-form__controls\">\r\n                        <ControlChoice  v-for=\"control in block.controls\" :key=\"control.id\"\r\n                            :control=\"control\"\r\n                            @input=\"input\"\r\n                            @hints=\"hints\"\r\n                            @create=\"createMulti\"\r\n                            @add=\"addMulti\"\r\n                            @remove=\"removeMulti\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                    \r\n                <div class=\"twpx-poll-add-form__buttons\">\r\n                    <ButtonComponent\r\n                        :text=\"currentLang.cancelButton\"\r\n                        :props=\"['gray-color', 'large']\"\r\n                        @clickButton=\"clickCancel\"\r\n                    />\r\n                    <ButtonComponent\r\n                        :text=\"currentLang.sendButton\"\r\n                        :disabled=\"sendButtonDisabled\"\r\n                        :props=\"['secondary', 'large']\"\r\n                        @clickButton=\"clickSend\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </ModalAnyContent>\r\n    `,\r\n    computed: {\r\n        ...mapState(dataStore, [\r\n          'uuid',\r\n          'groupUuid',\r\n          'questionUuid',\r\n\r\n          'typeMode',\r\n          'actionMode',\r\n    \r\n          'groups',\r\n          'questions',\r\n          'answers',\r\n        ]),\r\n        ...mapState(addEditStore, [\r\n          'lang',\r\n    \r\n          'addEditStateWatcher',\r\n          'addEditLoading',\r\n          'addEditError',\r\n\r\n          'image'\r\n        ]),\r\n        ...mapState(controlsStore, [\r\n          'groupFormBlocks',\r\n          'questionFormBlocks',\r\n          'answerFormBlocks',\r\n          'createMulti',\r\n          'addMulti',\r\n          'removeMulti',\r\n        ]),\r\n        currentLang() {\r\n            return this.lang[ this.typeMode ][ this.actionMode ];\r\n        },\r\n        currentBlocks() {\r\n            return this[`${this.typeMode}FormBlocks`]\r\n        },\r\n        sendButtonDisabled() {\r\n            return this.currentBlocks.some(block => block.controls.some(control => control.required && !control.value));\r\n        },\r\n    },\r\n    methods: {\r\n        ...mapActions(dataStore, [\r\n            'runBitrixMethod',\r\n            'changeProp',\r\n            'pushItemsArray'\r\n        ]),\r\n        ...mapActions(controlsStore, [\r\n            'changeControlValue',\r\n\r\n            'changeGroupFormBlocks',\r\n            'changeQuestionFormBlocks',\r\n\r\n            'fillGroupForm',\r\n            'fillQuestionForm',\r\n            'fillAnswerForm',\r\n\r\n            'runHints',\r\n            'setHints'\r\n        ]),\r\n        ...mapActions(addEditStore, [\r\n            'addEditChangeProp',\r\n        ]),\r\n        input(args) {\r\n            this.changeControlValue(args);\r\n        },\r\n        hints({ control, type, action, value }) {\r\n            if (type === 'get') {\r\n                this.runHints(control, action);\r\n            } else if (type === 'set') {\r\n                this.setHints(control, value);\r\n            }\r\n        },\r\n        clickCancel() {\r\n            this.addEditChangeProp('addEditStateWatcher', !this.addEditStateWatcher);\r\n            this.addEditChangeProp('addEditLoading', false)\r\n            this.addEditChangeProp('addEditError', '')\r\n            setTimeout(() => {\r\n                const capitalizedType = this.typeMode.charAt(0).toUpperCase() + this.typeMode.slice(1);\r\n                this[`fill${capitalizedType}Form`]()\r\n            }, 300)\r\n        },\r\n        async clickSend() {\r\n            this.addEditChangeProp('addEditLoading', true);\r\n            \r\n            try {\r\n                const capitalizedType = this.typeMode.charAt(0).toUpperCase() + this.typeMode.slice(1);\r\n                await this[`handle${capitalizedType}Submission`]();\r\n            } catch (error) {\r\n                this.handleError(error);\r\n            }\r\n        },\r\n        async handleGroupSubmission() {\r\n            const formData = this.createGroupFormData();\r\n            \r\n            await this.runBitrixMethod('editGroupQuestions', null, formData);\r\n            const groupsResult = await this.runBitrixMethod('groupsQuestions', { uuid: this.uuid });\r\n\r\n            this.handleSuccess(groupsResult.data);\r\n        },\r\n        async handleQuestionSubmission() {\r\n            const formData = this.createQuestionFormData();\r\n\r\n            await this.runBitrixMethod('editQuestion', null, formData);\r\n            const questionsResult = await this.runBitrixMethod('questions', { uuid: this.groupUuid });\r\n\r\n            this.handleSuccess(questionsResult.data);\r\n        },\r\n        async handleAnswerSubmission() {\r\n            const formData = this.createAnswerFormData();\r\n\r\n            await this.runBitrixMethod('editAnswer', null, formData);\r\n            const answersResult = await this.runBitrixMethod('answers', { uuid: this.questionUuid });\r\n\r\n            this.handleSuccess(answersResult.data);\r\n        },\r\n    \r\n        createGroupFormData() {\r\n            const formData = new FormData();\r\n\r\n            let imageUpdate = 2;// nothing to do with the image\r\n            if (this.groupFormBlocks[0].controls[3].file) {\r\n                imageUpdate = 1;// add or rewrite the image\r\n            } else if (!this.groupFormBlocks[0].controls[3].value && this.image) {\r\n                imageUpdate = 0;// delete the image\r\n            }\r\n\r\n            const data = {\r\n                uuid: this.groupFormBlocks[0].controls[0].value,\r\n                parentUuid: this.uuid,\r\n                name: this.groupFormBlocks[0].controls[1].value,\r\n                description: this.groupFormBlocks[0].controls[2].value,\r\n                image: this.groupFormBlocks[0].controls[3].file,\r\n                sortIndex: Number(this.groupFormBlocks[1].controls[0].value),\r\n                imageUpdate\r\n            };\r\n        \r\n            Object.entries(data).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null) {\r\n                    formData.append(key, value);\r\n                }\r\n            });\r\n        \r\n            return formData;\r\n        },\r\n    \r\n        createQuestionFormData() {\r\n            const formData = new FormData();\r\n\r\n            let imageUpdate = 2;// nothing to do with the image\r\n            if (this.questionFormBlocks[0].controls[3].file) {\r\n                imageUpdate = 1;// add or rewrite the image\r\n            } else if (!this.questionFormBlocks[0].controls[3].value && this.image) {\r\n                imageUpdate = 0;// delete the image\r\n            }\r\n\r\n            const data = {\r\n                parentUuid: this.groupUuid,\r\n                uuid: this.questionFormBlocks[0].controls[0].value,\r\n                name: this.questionFormBlocks[0].controls[1].value,\r\n                description: this.questionFormBlocks[0].controls[2].value,\r\n                image: this.questionFormBlocks[0].controls[3].file,\r\n\r\n                files: this.questionFormBlocks[1].controls[0].multi.map(c => c.file),\r\n\r\n                type: Number(this.questionFormBlocks[2].controls[0].value),\r\n                selectableAnswers: Number(this.questionFormBlocks[2].controls[1].value),\r\n                sortIndex: Number(this.questionFormBlocks[2].controls[2].value),\r\n                imageUpdate\r\n            };\r\n        \r\n            Object.entries(data).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null) {\r\n                    if (Array.isArray(value)) {\r\n                        value.forEach((v, i) => {\r\n                            if (v) {\r\n                                formData.append(`${key}[${i}]`, v);\r\n                            }\r\n                        })\r\n                    } else {\r\n                        formData.append(key, value);\r\n                    }\r\n                }\r\n            });\r\n        \r\n            return formData;\r\n        },\r\n\r\n        createAnswerFormData() {\r\n            const formData = new FormData();\r\n\r\n            let imageUpdate = 2;// nothing to do with the image\r\n            if (this.answerFormBlocks[0].controls[3].file) {\r\n                imageUpdate = 1;// add or rewrite the image\r\n            } else if (!this.answerFormBlocks[0].controls[3].value && this.image) {\r\n                imageUpdate = 0;// delete the image\r\n            }\r\n\r\n            const data = {\r\n                parentUuid: this.questionUuid,\r\n                uuid: this.answerFormBlocks[0].controls[0].value,\r\n                name: this.answerFormBlocks[0].controls[1].value,\r\n                description: this.answerFormBlocks[0].controls[2].value,\r\n                image: this.answerFormBlocks[0].controls[3].file,\r\n                sortIndex: Number(this.answerFormBlocks[1].controls[0].value),\r\n                imageUpdate\r\n            };\r\n        \r\n            Object.entries(data).forEach(([key, value]) => {\r\n                if (value !== undefined && value !== null) {\r\n                    formData.append(key, value);\r\n                }\r\n            });\r\n        \r\n            return formData;\r\n        },\r\n    \r\n        handleSuccess(data) {\r\n            this.addEditChangeProp('addEditLoading', false);\r\n            this.addEditChangeProp('addEditStateWatcher', !this.addEditStateWatcher);\r\n            \r\n            if (data) {\r\n                if (this.typeMode === 'group') {\r\n                    this.changeProp('groups', data);\r\n                    this.fillGroupForm();\r\n                } else if (this.typeMode === 'question') {\r\n                    this.pushItemsArray({type: 'questions', parentUuid: this.groupUuid, itemsArray: data});\r\n                    this.changeProp('groupUuid', '');\r\n                    this.fillQuestionForm();\r\n                } else if (this.typeMode === 'answer') {\r\n                    this.pushItemsArray({type: 'answers', parentUuid: this.questionUuid, itemsArray: data});\r\n                    this.changeProp('questionUuid', '');\r\n                    this.fillAnswerForm();\r\n                }\r\n            }\r\n        },\r\n    \r\n        handleError(error) {\r\n            this.addEditChangeProp('addEditLoading', false);\r\n            this.addEditChangeProp('addEditError', error?.errors?.[0]?.message || error);\r\n        },\r\n    }\r\n}","import './edit-form.css'\r\n\r\nimport { ControlChoice } from 'local.vue-components.control-choice';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const EditForm = {\r\n    props: ['customData', 'signedParameters', 'actions', 'voting'],\r\n    emits: ['input', 'hints', 'clickCancel', 'clickSend'],\r\n    components: {\r\n        ControlChoice,\r\n        ButtonComponent\r\n    },\r\n    template: `\r\n        <div id=\"votingEditForm\">voting edit form</div>\r\n    `,\r\n    mounted() {\r\n        if (window.BX && BX.VotingCreate) {\r\n            const editvoting = new BX.VotingCreate('#votingEditForm', {\r\n                data: this.customData,\r\n                signedParameters: this.signedParameters,\r\n                voting: this.voting\r\n            });\r\n            editvoting.run();\r\n        }\r\n        if (document.querySelector('#votingEditForm')) {\r\n            document.querySelector('#votingEditForm').addEventListener('clickCancel', () => {\r\n                this.$emit('clickCancel');\r\n            });\r\n            document.querySelector('#votingEditForm').addEventListener('clickSend', () => {\r\n                this.$emit('clickSend');\r\n            });\r\n        }\r\n    }\r\n}","import './application.css';\r\n\r\nimport { DetailInfo } from './detail-info';\r\nimport { GroupsComponent } from './groups-component.js';\r\nimport { AddEditForm } from './add-edit-form';\r\nimport { EditForm } from './edit-form';\r\n\r\nimport { ControlChoice } from 'local.vue-components.control-choice';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\nimport { LoaderCircle } from 'local.vue-components.loader-circle';\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\nimport { ModalAnyContent } from 'local.vue-components.modal-any-content';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { dataStore } from '../stores/data.js';\r\nimport { controlsStore } from '../stores/controls.js';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    DetailInfo,\r\n    GroupsComponent,\r\n    AddEditForm,\r\n    EditForm,\r\n\r\n    ControlChoice,\r\n    ButtonComponent,\r\n    LoaderCircle,\r\n    MessageComponent,\r\n    ModalAnyContent\r\n  },\r\n  // language=Vue\r\n  template: `\r\n  <div class=\"twpx-poll-detail\">\r\n\r\n    <div class=\"twpx-poll-detail__loader\" v-if=\"loading\">\r\n      <LoaderCircle :show=\"loading\" />\r\n    </div>\r\n\r\n    <MessageComponent v-else-if=\"error\" type=\"error\" size=\"big\" :message=\"error\" />\r\n\r\n    <div class=\"twpx-poll-detail__wrapper\" v-else>\r\n\r\n      <DetailInfo\r\n        :voting=\"voting\"\r\n        :lang=\"lang\"\r\n        @clickChangeDetail=\"clickChangeDetail\"\r\n      />\r\n\r\n      <GroupsComponent />\r\n\r\n      <AddEditForm />\r\n\r\n      <ModalAnyContent :stateWatcher=\"editModalStateWatcher\" @onClose=\"onEditModalClose\">\r\n        <div class=\"twpx-poll-detail__loader\" v-if=\"editModalLoading\">\r\n          <LoaderCircle :show=\"editModalLoading\" />\r\n        </div>\r\n\r\n        <MessageComponent v-else-if=\"editModalError\" type=\"error\" size=\"big\" :message=\"editModalError\" />\r\n\r\n        <EditForm v-else\r\n          :customData=\"customData\"\r\n          :signedParameters=\"signedParameters\"\r\n          :voting=\"voting\"\r\n          @input=\"input\"\r\n          @hints=\"hints\"\r\n          @clickCancel=\"clickEditFormCancel\"\r\n          @clickSend=\"clickEditFormSend\"\r\n        />\r\n      </ModalAnyContent>\r\n      \r\n    </div>\r\n  </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(dataStore, [\r\n      'customData',\r\n      'signedParameters',\r\n      'lang',\r\n      'uuid',\r\n\r\n      'loading',\r\n      'error',\r\n\r\n      'typeMode',\r\n      'actionMode',\r\n\r\n      'voting',\r\n      'groups',\r\n      'questions',\r\n      'answers',\r\n\r\n      'modalStateWatcher',\r\n      'modalLoading',\r\n      'modalError',\r\n\r\n      'editModalStateWatcher',\r\n      'editModalLoading',\r\n      'editModalError'\r\n    ]),\r\n    deleteHeading() {\r\n      return this.lang[ this.typeMode ].deleteModal.heading\r\n    },\r\n    deleteText() {\r\n      return this.lang[ this.typeMode ].deleteModal.text\r\n    },\r\n    deleteYes() {\r\n      return this.lang[ this.typeMode ].deleteModal.yes\r\n    },\r\n    deleteNo() {\r\n      return this.lang[ this.typeMode ].deleteModal.no\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(dataStore, [\r\n      'runBitrixMethod',\r\n      'changeProp',\r\n      'pushItemsArray'\r\n    ]),\r\n    ...mapActions(controlsStore, [\r\n      'changeGroupFormBlocks',\r\n      'changeQuestionFormBlocks',\r\n      'changeControlValue',\r\n      'clearGroupForm',\r\n      'clearQuestionForm',\r\n      'runHints',\r\n      'setHints'\r\n    ]),\r\n    clickChangeDetail() {\r\n      this.changeProp('editModalStateWatcher', !this.editModalStateWatcher);\r\n    },\r\n    addQuestion() {\r\n      this.changeProp('modalStateWatcher', !this.modalStateWatcher);\r\n      this.changeProp('modalError', '')\r\n      this.changeProp('typeMode', 'question')\r\n      this.changeProp('actionMode', 'add')\r\n    },\r\n    input(args) {\r\n      this.changeControlValue(args);\r\n    },\r\n    hints({ control, type, action, value }) {\r\n      if (type === 'get') {\r\n        this.runHints(control, action);\r\n      } else if (type === 'set') {\r\n        this.setHints(control, value);\r\n      }\r\n    },\r\n    clickEditFormCancel() {\r\n      this.changeProp('editModalStateWatcher', !this.editModalStateWatcher);\r\n    },\r\n    clickEditFormSend() {\r\n      this.changeProp('editModalStateWatcher', !this.editModalStateWatcher);\r\n      this.getVoting();\r\n    },\r\n    onEditModalClose() {\r\n      if (document.querySelector('#PollCreateApp')) {\r\n        document.querySelector('#PollCreateApp').dispatchEvent(new Event(\"closeModal\"));\r\n      }\r\n    },\r\n    async getVoting() {\r\n      this.changeProp('loading', true)\r\n      try {\r\n        const result = await this.runBitrixMethod('voting', {uuid: this.uuid})\r\n\r\n        if (result && result.data && result.data.length) {\r\n          this.changeProp('voting', result.data[0])\r\n        }\r\n\r\n        if (result?.data[0]?.questionsGroups?.length) {\r\n          this.changeProp('groups', result.data[0].questionsGroups)\r\n\r\n          // get questions\r\n          result.data[0].questionsGroups.forEach(async g => {\r\n            const questions = await this.runBitrixMethod('questions', {uuid: g.uuid});\r\n            this.pushItemsArray({type: 'questions', parentUuid: g.uuid, itemsArray: questions.data});\r\n\r\n            // get answers\r\n            questions.data.forEach(async q => {\r\n              const answers = await this.runBitrixMethod('answers', {uuid: q.uuid});\r\n              this.pushItemsArray({type: 'answers', parentUuid: q.uuid, itemsArray: answers.data});\r\n            });\r\n          });\r\n        }\r\n        \r\n        this.changeProp('loading', false)\r\n      } catch(error) {\r\n          this.changeProp('loading', false)\r\n          this.changeProp('error', error.errors[0].message)\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getVoting();\r\n  }\r\n};\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { Application } from './components/application';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { dataStore } from './stores/data';\r\n\r\nexport class VotingDetail {\r\n  #store;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options) {\r\n    this.#store = createPinia();\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run() {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'VotingDetail',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: '<Application/>',\r\n      beforeMount() {\r\n        dataStore().customData = self.options.data || {};\r\n        dataStore().signedParameters = self.options.signedParameters || '';\r\n        dataStore().uuid = self.options.uuid || '';\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  initStorageBeforeStartApplication() {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getFormStore() {\r\n    return formStore;\r\n  }\r\n}\r\n"],"names":["DetailInfo","props","emits","components","ButtonComponent","template","computed","detail","Object","keys","voting","length","id","heading","items","title","value","name","announcement","description","toHumanWithTimeBlock","activityStartDate","activityEndDate","voteEndDate","numberVotesLimit","numberVoters","buttonMessage","messageAfterVoting","sortIndex","groupsVoting","groupsVotingEio","groupsVotingUmc","groupsCommission","pdfTitle","pdfSubTitle","methods","input","m","trim","match","yyyy","mm","dd","hh","min","dataStore","defineStore","state","customData","signedParameters","lang","deleteModal","group","text","no","yes","question","answer","block","button","uuid","groupUuid","questionUuid","actions","typeMode","actionMode","groups","questions","answers","loading","error","editModalStateWatcher","editModalLoading","editModalError","deleteModalStateWatcher","itemToDelete","pushItemsArray","type","parentUuid","itemsArray","changeProp","prop","runBitrixMethod","method","data","formData","Array","isArray","Promise","reject","errors","message","payload","FormData","entries","forEach","key","undefined","append","BX","ajax","runComponentAction","mode","controlsStore","groupFormBlocks","controls","property","label","required","hint_external","questionFormBlocks","file","accept","multi","maxsize","answerFormBlocks","createMulti","parent","addMulti","add","randomId","Math","round","random","sub","s","push","removeMulti","index","splice","changeGroupFormBlocks","blocks","changeQuestionFormBlocks","fillGroupForm","groupArray","item","changeControlValue","control","String","b","c","fillQuestionForm","questionArray","fillAnswerForm","answerArray","changeTextControlValue","changeSelectRadioValue","changeSelectDropdownValue","changeDateValue","changeFileValue","checked","substring","toUpperCase","toLowerCase","runHints","action","url","URL","window","location","origin","searchParams","controller","AbortController","timeoutId","setTimeout","abort","fetch","signal","headers","response","clearTimeout","ok","Error","status","json","result","setHints","hints","addEditStore","cancelButton","sendButton","edit","addEditStateWatcher","addEditLoading","addEditError","image","addEditChangeProp","AnswerItem","nopic","floor","ControlChoice","clickDelete","$emit","clickEdit","QuestionItem","DocComponent","addAnswer","editAnswer","args","deleteAnswer","GroupItem","addQuestion","editQuestion","deleteQuestion","GroupsComponent","ModalYesNo","mapState","currentLang","mapActions","addGroup","editGroup","deleteGroup","clickDeleteModalYes","groupResult","questionsResult","clickDeleteModalNo","AddEditForm","ModalAnyContent","LoaderCircle","MessageComponent","currentBlocks","sendButtonDisabled","some","clickCancel","capitalizedType","charAt","slice","clickSend","handleError","handleGroupSubmission","createGroupFormData","groupsResult","handleSuccess","handleQuestionSubmission","createQuestionFormData","handleAnswerSubmission","createAnswerFormData","answersResult","imageUpdate","Number","files","map","selectableAnswers","v","i","EditForm","mounted","VotingCreate","editvoting","run","document","querySelector","addEventListener","Application","deleteHeading","deleteText","deleteYes","deleteNo","clickChangeDetail","modalStateWatcher","clickEditFormCancel","clickEditFormSend","getVoting","onEditModalClose","dispatchEvent","Event","questionsGroups","g","q","VotingDetail","rootNode","options","createPinia","self","BitrixVue","createApp","beforeMount","use","mount","setActivePinia","formStore"],"mappings":"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"}