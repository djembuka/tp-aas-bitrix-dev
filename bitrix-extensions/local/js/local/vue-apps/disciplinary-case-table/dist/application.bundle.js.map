{"version":3,"file":"application.bundle.js","sources":["../src/components/loader.js","../src/components/card.js","../src/stores/table.js","../src/components/application.js","../src/loader.js"],"sourcesContent":["import '../css/loader.css';\r\n\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  // language=Vue\r\n  template: `\r\n    <div class=\"vue-table-loader\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  `,\r\n};\r\n","import '../css/action-cards.css';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const CardComponent = {\r\n  components: {\r\n    ButtonComponent,\r\n  },\r\n  props: ['card'],\r\n  emits: ['clickButton'],\r\n  template: `\r\n      <div class=\"dc-action-card\" :class=\"{'dc-action-card--wide': !this.card.buttons}\" :data-id=\"card.id\">\r\n          <div class=\"dc-action-card__content\">\r\n              <div class=\"dc-action-card__props\">\r\n                  <div class=\"dc-action-card__prop\" v-for=\"prop in card.cell\" :key=\"card.id + prop.id\">\r\n                      <div class=\"dc-action-card__prop-title\">{{ prop.name }}</div>\r\n                      <div class=\"dc-action-card__prop-value\" v-html=\"prop.value\"></div>\r\n                  </div>\r\n              </div>\r\n              <div class=\"dc-action-card__edit\" v-if=\"editButton\">\r\n                  <ButtonComponent :text=\"editButton.text\" :props=\"editButton.props\" @clickButton=\"clickEdit()\" /> \r\n              </div>\r\n          </div>\r\n          <div class=\"dc-action-card__button\" v-if=\"deleteButton\">\r\n              <ButtonComponent :text=\"deleteButton.text\" :props=\"deleteButton.props\" @clickButton=\"clickDelete()\" />\r\n          </div>\r\n      </div>\r\n    `,\r\n  computed: {\r\n    editButton() {\r\n      if (!this.card.buttons) return null;\r\n      return this.card.buttons.find((b) => b.code === 'edit');\r\n    },\r\n    deleteButton() {\r\n      if (!this.card.buttons) return null;\r\n      return this.card.buttons.find((b) => b.code === 'delete');\r\n    },\r\n  },\r\n  methods: {\r\n    clickEdit() {\r\n      this.$emit('clickButton', { itemId: this.card.id, code: 'edit' });\r\n    },\r\n    clickDelete() {\r\n      this.$emit('clickButton', { itemId: this.card.id, code: 'delete' });\r\n    },\r\n  },\r\n};\r\n","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const tableStore = defineStore('table', {\r\n  state: () => {\r\n    return {\r\n      data: {},\r\n      ajax: {},\r\n      view: 'table',\r\n      lang: {},\r\n      outerMethods: {},\r\n      loadingCols: false,\r\n      loadingItems: false,\r\n      columnsNames: [],\r\n      items: {},\r\n      errorTable: '',\r\n      deleteModalStateWatcher: false,\r\n      activeItemId: null,\r\n      showButtons: true,\r\n    };\r\n  },\r\n  getters: {\r\n    loadingTable() {\r\n      return this.loadingCols || this.loadingItems;\r\n    },\r\n    cols() {\r\n      if (!this.columnsNames.length) {\r\n        return [];\r\n      }\r\n\r\n      const length = this.columnsNames.length - 1;\r\n      const value = `${Math.floor(100 / length)}%`;\r\n\r\n      const arr = Array(length).fill(value);\r\n      arr.push('160px');\r\n\r\n      return arr;\r\n    },\r\n  },\r\n  actions: {\r\n    getItemId() {\r\n      return this.activeItemId;\r\n    },\r\n    changeActiveItemId(itemId) {\r\n      this.activeItemId = itemId;\r\n    },\r\n    changeDeleteModalStateWatcher() {\r\n      this.deleteModalStateWatcher = !this.deleteModalStateWatcher;\r\n    },\r\n    hideErrorTable() {\r\n      this.errorTable = '';\r\n    },\r\n    showError({ error, method }) {\r\n      if (typeof error === 'boolean') {\r\n        this.errorTable = error;\r\n      } else if (typeof error === 'object') {\r\n        if (\r\n          error.errors &&\r\n          typeof error.errors === 'object' &&\r\n          error.errors[0] &&\r\n          error.errors[0].code !== undefined\r\n        ) {\r\n          if (error.errors[0].code === 'NETWORK_ERROR') {\r\n            if (error.data && error.data.ajaxRejectData) {\r\n              if (error.data.ajaxRejectData.data) {\r\n                this.errorTable = `${window.BX.message('ERROR_SUPPORT')}\r\n                    <br>\r\n                    <br>\r\n                    Метод: ${method}. Код ошибки: ${\r\n                  error.data.ajaxRejectData.data\r\n                }. Описание: ${\r\n                  window.BX.message(\r\n                    'ERROR_' + error.data.ajaxRejectData.data\r\n                  ) || window.BX.message('ERROR_SERVER')\r\n                }.`;\r\n              }\r\n            } else if (window.BX.message) {\r\n              this.errorTable = `${window.BX.message('ERROR_SUPPORT')}\r\n                <br>\r\n                <br>\r\n                Метод: ${method}. Код ошибки: NETWORK_ERROR. Описание: ${window.BX.message(\r\n                'ERROR_OFFLINE'\r\n              )}.`;\r\n            }\r\n          } else {\r\n            this.errorTable = `${window.BX.message('ERROR_SUPPORT')}\r\n              <br>\r\n              <br>\r\n              Метод: ${method}.${\r\n              error.errors[0].code\r\n                ? ' Код ошибки: ' + error.errors[0].code + '.'\r\n                : ''\r\n            } ${\r\n              error.errors[0].message\r\n                ? ' Описание: ' + error.errors[0].message + '.'\r\n                : ''\r\n            }`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    loadTable() {\r\n      this.runColumnsNames();\r\n      this.runItems();\r\n    },\r\n    deleteItem() {\r\n      this.runDelete();\r\n    },\r\n    runColumnsNames() {\r\n      this.loadingCols = true;\r\n\r\n      let a = window.BX.ajax.runComponentAction(\r\n        this.ajax.columnsNames[0],\r\n        this.ajax.columnsNames[1],\r\n        {\r\n          mode: 'class',\r\n          data: this.data,\r\n        }\r\n      );\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loadingCols = false;\r\n          if (result.data) {\r\n            this.columnsNames = result.data;\r\n            this.columnsNames.push({\r\n              id: Math.floor(Math.random() * 100),\r\n              name: '',\r\n              type: 'buttons',\r\n            });\r\n          }\r\n        },\r\n        (error) => {\r\n          this.loadingCols = false;\r\n          this.showError({ error, method: 'columnsNames' });\r\n        }\r\n      );\r\n    },\r\n    runItems() {\r\n      this.loadingItems = true;\r\n\r\n      window.BX.ajax\r\n        .runComponentAction(this.ajax.items[0], this.ajax.items[1], {\r\n          mode: 'class',\r\n          data: this.data,\r\n        })\r\n        .then(\r\n          (result) => {\r\n            this.loadingItems = false;\r\n            if (result.data) {\r\n              this.items = result.data;\r\n\r\n              if (this.showButtons) {\r\n                this.items?.items?.forEach((i) => {\r\n                  i.buttons = [\r\n                    {\r\n                      code: 'edit',\r\n                      text:\r\n                        this.view === 'table' ? 'Edit' : this.lang.editButton,\r\n                      props:\r\n                        this.view === 'table'\r\n                          ? ['icon', 'edit', 'medium']\r\n                          : ['serve', 'small'],\r\n                    },\r\n                    {\r\n                      code: 'delete',\r\n                      text: 'Delete',\r\n                      props: ['icon', 'delete', 'medium'],\r\n                    },\r\n                  ];\r\n                });\r\n              }\r\n            }\r\n          },\r\n          (error) => {\r\n            this.loadingItems = false;\r\n            this.showError({ error, method: 'items' });\r\n          }\r\n        );\r\n    },\r\n    runDelete() {\r\n      this.loadingItems = true;\r\n\r\n      window.BX.ajax\r\n        .runComponentAction(this.ajax.deleteItem[0], this.ajax.deleteItem[1], {\r\n          mode: 'class',\r\n          data: {\r\n            ...this.data,\r\n            item_id: this.activeItemId,\r\n          },\r\n        })\r\n        .then(\r\n          (result) => {\r\n            this.loadingItems = false;\r\n            this.loadTable();\r\n          },\r\n          (error) => {\r\n            this.loadingItems = false;\r\n            this.showError({ error, method: 'deleteItem' });\r\n          }\r\n        );\r\n    },\r\n  },\r\n});\r\n","import '../css/application.css';\r\nimport Loader from './loader.js';\r\n\r\nimport { TableComponent } from 'local.vue-components.table-component';\r\nimport { StickyScroll } from 'local.vue-components.sticky-scroll';\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\nimport { ModalYesNo } from 'local.vue-components.modal-yes-no';\r\n\r\nimport { CardComponent } from './card.js';\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { tableStore } from '../stores/table';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    Loader,\r\n    TableComponent,\r\n    StickyScroll,\r\n    MessageComponent,\r\n    ButtonComponent,\r\n    ModalYesNo,\r\n\r\n    CardComponent,\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n    <div>\r\n      <ModalYesNo\r\n        :heading=\"lang.deleteModal.heading\"\r\n        :text=\"lang.deleteModal.text\"\r\n        :yes=\"lang.deleteModal.yes\"\r\n        :no=\"lang.deleteModal.no\"\r\n        :buttons=\"{\r\n\t\t\t\t\tyes: {\r\n\t\t\t\t\t  props: ['danger', 'large']\r\n\t\t\t\t\t},\r\n\t\t\t\t\tno: {\r\n\t\t\t\t\t  props: ['gray-color', 'large']\r\n\t\t\t\t\t}\r\n\t\t\t\t}\"\r\n        :stateWatcher=\"deleteModalStateWatcher\"\r\n        @clickYes=\"clickYes\"\r\n        @clickNo=\"clickNo\"\r\n      />\r\n\r\n      <Loader v-if=\"loadingTable\" />\r\n\r\n      <div v-else :class=\"{'disciplinary-case-table-wrapper': true, 'disciplinary-case-table-wrapper--card': view==='card'}\">\r\n\r\n        <MessageComponent v-if=\"errorTable\" type=\"error\" size=\"big\" :message=\"errorTable\" />\r\n\r\n        <div v-if=\"view==='card'\">\r\n          <div class=\"dc-action-cards\" v-if=\"items.items && items.items.length\">\r\n            <CardComponent v-for=\"card in items.items\"\r\n              :key=\"card.id\"\r\n              :card=\"card\"\r\n              @clickButton=\"clickButton\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div v-else>\r\n          <StickyScroll>\r\n            <TableComponent\r\n              :columnsNames=\"columnsNames\"\r\n              :cols=\"cols\"\r\n              :items=\"items\"\r\n              @clickButton=\"clickButton\"\r\n            />\r\n          </StickyScroll>\r\n        </div>\r\n\r\n        <ButtonComponent v-if=\"showButtons\" :text=\"lang.addButton\" :props=\"['success', 'small']\" @clickButton=\"clickAddButton\" />\r\n\r\n      </div>\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(tableStore, [\r\n      'lang',\r\n      'outerMethods',\r\n      'data',\r\n      'view',\r\n      'cols',\r\n      'loadingTable',\r\n      'columnsNames',\r\n      'items',\r\n      'errorTable',\r\n      'deleteModalStateWatcher',\r\n      'showButtons',\r\n    ]),\r\n    error() {\r\n      return this.errorTable;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(tableStore, [\r\n      'loadTable',\r\n      'deleteItem',\r\n      'changeDeleteModalStateWatcher',\r\n      'changeActiveItemId',\r\n    ]),\r\n    clickButton({ itemId, code }) {\r\n      if (\r\n        code === 'edit' &&\r\n        this.outerMethods.editForm &&\r\n        window[this.outerMethods.editForm[0]]\r\n      ) {\r\n        window[this.outerMethods.editForm[0]][this.outerMethods.editForm[1]]({\r\n          ...this.data,\r\n          item_id: itemId,\r\n        });\r\n      } else if (code === 'delete') {\r\n        this.changeDeleteModalStateWatcher();\r\n        this.changeActiveItemId(itemId);\r\n      }\r\n    },\r\n    clickAddButton() {\r\n      if (this.outerMethods.addForm && window[this.outerMethods.addForm[0]]) {\r\n        window[this.outerMethods.addForm[0]][this.outerMethods.addForm[1]]({\r\n          ...this.data,\r\n        });\r\n      }\r\n    },\r\n    clickYes() {\r\n      this.deleteItem();\r\n      this.changeDeleteModalStateWatcher();\r\n    },\r\n    clickNo() {\r\n      this.changeDeleteModalStateWatcher();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadTable();\r\n  },\r\n};\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { Application } from './components/application';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { tableStore } from './stores/table';\r\n\r\nexport class DisciplinaryCaseTable {\r\n  #store;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options) {\r\n    this.#store = createPinia();\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run() {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Disciplinary Case Table Application',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: '<Application/>',\r\n      beforeMount() {\r\n        tableStore().data = self.options.data || {};\r\n        tableStore().ajax = self.options.actions || {};\r\n        tableStore().view = self.options.view || 'table';\r\n        tableStore().lang = self.options.lang || {};\r\n        tableStore().outerMethods = self.options.outerMethods || {};\r\n        tableStore().showButtons = self.options.showButtons ?? true;\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  loadTable() {\r\n    tableStore().loadTable();\r\n  }\r\n\r\n  initStorageBeforeStartApplication() {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getTableStore() {\r\n    return tableStore;\r\n  }\r\n}\r\n"],"names":["data","template","CardComponent","components","ButtonComponent","props","emits","computed","editButton","card","buttons","find","b","code","deleteButton","methods","clickEdit","$emit","itemId","id","clickDelete","tableStore","defineStore","state","ajax","view","lang","outerMethods","loadingCols","loadingItems","columnsNames","items","errorTable","deleteModalStateWatcher","activeItemId","showButtons","getters","loadingTable","cols","length","value","Math","floor","arr","Array","fill","push","actions","getItemId","changeActiveItemId","changeDeleteModalStateWatcher","hideErrorTable","showError","error","method","errors","undefined","ajaxRejectData","window","BX","message","loadTable","runColumnsNames","runItems","deleteItem","runDelete","a","runComponentAction","mode","then","result","random","name","type","forEach","i","text","item_id","Application","Loader","TableComponent","StickyScroll","MessageComponent","ModalYesNo","mapState","mapActions","clickButton","editForm","clickAddButton","addForm","clickYes","clickNo","mounted","DisciplinaryCaseTable","rootNode","options","createPinia","document","querySelector","self","BitrixVue","createApp","beforeMount","use","mount","setActivePinia"],"mappings":"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"}