{"version":3,"file":"application.bundle.js","sources":["../src/components/loader.js","../src/components/action-cards.js","../src/stores/table.js","../src/components/application.js","../src/loader.js"],"sourcesContent":["import '../css/loader.css';\r\n\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  // language=Vue\r\n  template: `\r\n    <div class=\"vue-table-loader\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  `,\r\n};\r\n","import '../css/action-cards.css'\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\n\r\nexport const ActionCards = {\r\n    components: {\r\n        ButtonComponent\r\n    },\r\n    props: [\r\n        'titles',\r\n        'items'\r\n    ],\r\n    emits: ['clickButton'],\r\n    template: `\r\n        <div class=\"dc-action-cards\" v-if=\"items && items.length\">\r\n\r\n            <div class=\"dc-action-card\" v-for=\"card in items\"\r\n                :data-id=\"card.id\"\r\n                :key=\"card.id\"\r\n            >\r\n                <div class=\"dc-action-card__content\">\r\n                    <div class=\"dc-action-card__props\">\r\n                        <div class=\"dc-action-card__prop\" v-for=\"prop in card.cell\" :key=\"card.id + prop.id\">\r\n                            <div class=\"dc-action-card__prop-title\">{{ prop.name }}</div>\r\n                            <div class=\"dc-action-card__prop-value\" v-html=\"prop.value\"></div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"dc-action-card__edit\">\r\n                        <ButtonComponent text=\"Изменить\" :props=\"['serve','small']\" @clickButton=\"clickEdit(card.id)\" /> \r\n                    </div>\r\n                </div>\r\n                <div class=\"dc-action-card__button\">\r\n                    <ButtonComponent :text=\"\" :props=\"['icon','delete','medium']\" @clickButton=\"clickDelete(card.id)\" />\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    `,\r\n    methods: {\r\n        clickEdit(itemId) {\r\n            this.$emit('clickButton', {itemId, code: 'edit'});\r\n        },\r\n        clickDelete(itemId) {\r\n            this.$emit('clickButton', {itemId, code: 'delete'});\r\n        },\r\n    }\r\n};","import { defineStore } from 'ui.vue3.pinia';\r\n\r\nexport const tableStore = defineStore('table', {\r\n  state: () => {\r\n    return {\r\n      data: {},\r\n      ajax: {},\r\n      lang: {},\r\n      outerMethods: {},\r\n      loadingCols: false,\r\n      loadingItems: false,\r\n      columnsNames: [],\r\n      items: {},\r\n      errorTable: '',\r\n      deleteModalStateWatcher: false,\r\n      activeItemId: null\r\n    };\r\n  },\r\n  getters: {\r\n    loadingTable() {\r\n      return this.loadingCols || this.loadingItems;\r\n    },\r\n    cols() {\r\n      if (!this.columnsNames.length) {\r\n        return [];\r\n      }\r\n\r\n      const length = this.columnsNames.length - 1;\r\n      const value = `${Math.floor(100 / length)}%`;\r\n\r\n      const arr = Array(length).fill(value);\r\n      arr.push('160px');\r\n\r\n      return arr;\r\n    }\r\n  },\r\n  actions: {\r\n    getItemId() {\r\n      return this.activeItemId;\r\n    },\r\n    changeActiveItemId(itemId) {\r\n      this.activeItemId = itemId;\r\n    },\r\n    changeDeleteModalStateWatcher() {\r\n      this.deleteModalStateWatcher = !this.deleteModalStateWatcher;\r\n    },\r\n    hideErrorTable() {\r\n      this.errorTable = '';\r\n    },\r\n    showError({ error, method }) {\r\n      if (typeof error === 'boolean') {\r\n        this.errorTable = error;\r\n      } else if (typeof error === 'object') {\r\n        if (\r\n          error.errors &&\r\n          typeof error.errors === 'object' &&\r\n          error.errors[0] &&\r\n          error.errors[0].code !== undefined\r\n        ) {\r\n          if (error.errors[0].code === 'NETWORK_ERROR') {\r\n            if (error.data && error.data.ajaxRejectData) {\r\n              if (error.data.ajaxRejectData.data) {\r\n                this.errorTable = `${window.BX.message('ERROR_SUPPORT')}\r\n                    <br>\r\n                    <br>\r\n                    Метод: ${method}. Код ошибки: ${\r\n                  error.data.ajaxRejectData.data\r\n                }. Описание: ${\r\n                  window.BX.message(\r\n                    'ERROR_' + error.data.ajaxRejectData.data\r\n                  ) || window.BX.message('ERROR_SERVER')\r\n                }.`;\r\n              }\r\n            } else if (window.BX.message) {\r\n              this.errorTable = `${window.BX.message('ERROR_SUPPORT')}\r\n                <br>\r\n                <br>\r\n                Метод: ${method}. Код ошибки: NETWORK_ERROR. Описание: ${window.BX.message(\r\n                'ERROR_OFFLINE'\r\n              )}.`;\r\n            }\r\n          } else {\r\n            this.errorTable = `${window.BX.message('ERROR_SUPPORT')}\r\n              <br>\r\n              <br>\r\n              Метод: ${method}.${\r\n              error.errors[0].code\r\n                ? ' Код ошибки: ' + error.errors[0].code + '.'\r\n                : ''\r\n            } ${\r\n              error.errors[0].message\r\n                ? ' Описание: ' + error.errors[0].message + '.'\r\n                : ''\r\n            }`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    loadTable() {\r\n      this.runColumnsNames();\r\n      this.runItems();\r\n    },\r\n    deleteItem() {\r\n      this.runDelete()\r\n    },\r\n    runColumnsNames() {\r\n      this.loadingCols = true;\r\n\r\n      let a = window.BX.ajax.runComponentAction( this.ajax.columnsNames[0], this.ajax.columnsNames[1], {\r\n        mode: 'class',\r\n        data: this.data,\r\n      });\r\n\r\n      a.then(\r\n        (result) => {\r\n          this.loadingCols = false;\r\n          if (result.data) {\r\n            this.columnsNames = result.data;\r\n            this.columnsNames.push({\r\n              id: Math.floor(Math.random() * 100),\r\n              name: '',\r\n              type: 'buttons'\r\n            });\r\n          }\r\n        },\r\n        (error) => {\r\n          this.loadingCols = false;\r\n          this.showError({ error, method: 'columnsNames' });\r\n        }\r\n      );\r\n    },\r\n    runItems() {\r\n      this.loadingItems = true;\r\n\r\n      window.BX.ajax.runComponentAction( this.ajax.items[0], this.ajax.items[1], {\r\n        mode: 'class',\r\n        data: this.data,\r\n      }).then(\r\n        (result) => {\r\n          this.loadingItems = false;\r\n          if (result.data) {\r\n            this.items = result.data;\r\n\r\n            this.items?.items?.forEach(i => {\r\n              i.buttons = [\r\n                {\r\n                  code: 'edit',\r\n                  text: 'Edit',\r\n                  props: ['icon','edit','medium']\r\n                },\r\n                {\r\n                  code: 'delete',\r\n                  text: 'Delete',\r\n                  props: ['icon','delete','medium']\r\n                }\r\n              ];\r\n            });\r\n          }\r\n        },\r\n        (error) => {\r\n          this.loadingItems = false;\r\n          this.showError({ error, method: 'items' });\r\n        }\r\n      );\r\n    },\r\n    runDelete() {\r\n      this.loadingItems = true;\r\n\r\n      window.BX.ajax.runComponentAction( this.ajax.deleteItem[0], this.ajax.deleteItem[1], {\r\n        mode: 'class',\r\n        data: {\r\n          ...this.data,\r\n          item_id: this.activeItemId\r\n        },\r\n      }).then(\r\n        (result) => {\r\n          this.loadingItems = false;\r\n          this.loadTable();\r\n        },\r\n        (error) => {\r\n          this.loadingItems = false;\r\n          this.showError({ error, method: 'deleteItem' });\r\n        }\r\n      );\r\n    },\r\n  },\r\n});\r\n","import '../css/application.css';\r\nimport Loader from './loader.js';\r\n\r\nimport { TableComponent } from 'local.vue-components.table-component';\r\nimport { StickyScroll } from 'local.vue-components.sticky-scroll';\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\nimport { ButtonComponent } from 'local.vue-components.button-component';\r\nimport { ModalYesNo } from 'local.vue-components.modal-yes-no';\r\n\r\nimport { ActionCards } from './action-cards.js'\r\n\r\nimport { mapState, mapActions } from 'ui.vue3.pinia';\r\nimport { tableStore } from '../stores/table';\r\n\r\nexport const Application = {\r\n  data() {\r\n    return {};\r\n  },\r\n  components: {\r\n    Loader,\r\n    TableComponent,\r\n    StickyScroll,\r\n    MessageComponent,\r\n    ButtonComponent,\r\n    ModalYesNo,\r\n    \r\n    ActionCards\r\n  },\r\n  // language=Vue\r\n\r\n  template: `\r\n    <div>\r\n      <ModalYesNo\r\n        :heading=\"lang.deleteModal.heading\"\r\n        :text=\"lang.deleteModal.text\"\r\n        :yes=\"lang.deleteModal.yes\"\r\n        :no=\"lang.deleteModal.no\"\r\n        :buttons=\"{\r\n\t\t\t\t\tyes: {\r\n\t\t\t\t\t  props: ['danger', 'large']\r\n\t\t\t\t\t},\r\n\t\t\t\t\tno: {\r\n\t\t\t\t\t  props: ['gray-color', 'large']\r\n\t\t\t\t\t}\r\n\t\t\t\t}\"\r\n        :stateWatcher=\"deleteModalStateWatcher\"\r\n        @clickYes=\"clickYes\"\r\n        @clickNo=\"clickNo\"\r\n      />\r\n\r\n      <Loader v-if=\"loadingTable\" />\r\n\r\n      <div v-else :class=\"{'disciplinary-case-table-wrapper': true, 'disciplinary-case-table-wrapper--card': view==='card'}\">\r\n\r\n        <MessageComponent v-if=\"errorTable\" type=\"error\" size=\"big\" :message=\"errorTable\" />\r\n\r\n        <div v-if=\"view==='card'\">\r\n          <ActionCards :titles=\"columnsNames\" :items=\"items.items\" @clickButton=\"clickButton\" />\r\n        </div>\r\n\r\n        <div v-else>\r\n          <StickyScroll>\r\n            <TableComponent :columnsNames=\"columnsNames\" :cols=\"cols\" :items=\"items\" @clickButton=\"clickButton\" />\r\n          </StickyScroll>\r\n        </div>\r\n\r\n        <ButtonComponent :text=\"lang.addButton\" :props=\"['success', 'small']\" @clickButton=\"clickAddButton\" />\r\n\r\n      </div>\r\n    </div>\r\n\t`,\r\n  computed: {\r\n    ...mapState(tableStore, [\r\n      'lang', 'outerMethods', 'data',\r\n      'view',\r\n      'cols',\r\n      'loadingTable',\r\n      'columnsNames',\r\n      'items',\r\n      'errorTable',\r\n      'deleteModalStateWatcher'\r\n    ]),\r\n    error() {\r\n      return this.errorTable;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(tableStore, [ 'loadTable', 'deleteItem', 'changeDeleteModalStateWatcher', 'changeActiveItemId' ]),\r\n    clickButton({itemId, code}) {\r\n      if (code === 'edit' && this.outerMethods.editForm && window[this.outerMethods.editForm[0]]) {\r\n        window[this.outerMethods.editForm[0]][this.outerMethods.editForm[1]]({ ...this.data, item_id: itemId });\r\n      } else if (code === 'delete') {\r\n        this.changeDeleteModalStateWatcher();\r\n        this.changeActiveItemId(itemId);\r\n      }\r\n    },\r\n    clickAddButton() {\r\n      if (this.outerMethods.addForm && window[this.outerMethods.addForm[0]]) {\r\n        window[this.outerMethods.addForm[0]][this.outerMethods.addForm[1]]({ ...this.data });\r\n      }\r\n    },\r\n    clickYes() {\r\n      this.deleteItem();\r\n      this.changeDeleteModalStateWatcher();\r\n    },\r\n    clickNo() {\r\n      this.changeDeleteModalStateWatcher();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadTable();\r\n  },\r\n};\r\n","import { BitrixVue } from 'ui.vue3';\r\nimport { Application } from './components/application';\r\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\r\nimport { tableStore } from './stores/table';\r\n\r\nexport class DisciplinaryCaseTable {\r\n  #store;\r\n  #rootNode;\r\n  #application;\r\n\r\n  constructor(rootNode, options) {\r\n    this.#store = createPinia();\r\n    this.#rootNode = document.querySelector(rootNode);\r\n    this.options = options;\r\n  }\r\n\r\n  run() {\r\n    const self = this;\r\n\r\n    this.#application = BitrixVue.createApp({\r\n      name: 'Disciplinary Case Table Application',\r\n      components: {\r\n        Application,\r\n      },\r\n      template: '<Application/>',\r\n      beforeMount() {\r\n        tableStore().data = self.options.data || {};\r\n        tableStore().ajax = self.options.actions || {};\r\n        tableStore().view = self.options.view || 'table';\r\n        tableStore().lang = self.options.lang || {};\r\n        tableStore().outerMethods = self.options.outerMethods || {};\r\n      },\r\n    });\r\n\r\n    this.#application.use(this.#store);\r\n    this.#application.mount(this.#rootNode);\r\n  }\r\n\r\n  loadTable() {\r\n    tableStore().loadTable();\r\n  }\r\n\r\n  initStorageBeforeStartApplication() {\r\n    setActivePinia(this.#store);\r\n  }\r\n\r\n  getTableStore() {\r\n    return tableStore;\r\n  }\r\n}\r\n"],"names":["data","template","ActionCards","components","ButtonComponent","props","emits","methods","clickEdit","itemId","$emit","code","clickDelete","tableStore","defineStore","state","ajax","lang","outerMethods","loadingCols","loadingItems","columnsNames","items","errorTable","deleteModalStateWatcher","activeItemId","getters","loadingTable","cols","length","value","Math","floor","arr","Array","fill","push","actions","getItemId","changeActiveItemId","changeDeleteModalStateWatcher","hideErrorTable","showError","error","method","errors","undefined","ajaxRejectData","window","BX","message","loadTable","runColumnsNames","runItems","deleteItem","runDelete","a","runComponentAction","mode","then","result","id","random","name","type","forEach","i","buttons","text","item_id","Application","Loader","TableComponent","StickyScroll","MessageComponent","ModalYesNo","computed","mapState","mapActions","clickButton","editForm","clickAddButton","addForm","clickYes","clickNo","mounted","DisciplinaryCaseTable","rootNode","options","createPinia","document","querySelector","self","BitrixVue","createApp","beforeMount","view","use","mount","setActivePinia"],"mappings":"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"}