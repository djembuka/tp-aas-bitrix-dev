{"version":3,"file":"component.bundle.js","sources":["../src/placeholder.js","../src/svg/icon-open.js","../src/svg/icon-item-clear.js","../src/filter-closed.js","../src/svg/icon-close.js","../src/svg/icon-clear.js","../src/filter-open.js","../src/component.js"],"sourcesContent":["export const Placeholder = {\r\n  template: `\r\n    <div class=\"vue-tf-filter-ph\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  `,\r\n};\r\n","export const IconOpen = {\r\n  template: `\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\">\r\n      <path d=\"M3.15385 6H12.8462M1 1.5H15M6.38461 10.5H9.61538\" stroke=\"#5F7696\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    </svg>\r\n  `,\r\n};\r\n","export const IconItemClear = {\r\n  template: `\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\" viewBox=\"0 0 8 8\" fill=\"none\">\r\n      <path d=\"M4.59983 3.99312L7.87383 0.71912C7.91698 0.681154 7.9519 0.634756 7.97643 0.582784C8.00097 0.530812 8.0146 0.474366 8.0165 0.416925C8.01839 0.359483 8.0085 0.302262 7.98744 0.248787C7.96638 0.195312 7.9346 0.146715 7.89404 0.105991C7.85349 0.0652659 7.80503 0.0332758 7.75164 0.0119911C7.69825 -0.0092936 7.64107 -0.0194221 7.58363 -0.0177704C7.52618 -0.0161188 7.46967 -0.00272195 7.4176 0.0215947C7.36552 0.0459114 7.31898 0.080633 7.28083 0.12362L4.00633 3.40012L0.732332 0.12362C0.653364 0.0446521 0.54626 0.000288244 0.434582 0.000288244C0.322904 0.000288244 0.2158 0.0446521 0.136832 0.12362C0.0578639 0.202589 0.0135 0.309692 0.0135 0.42137C0.0135 0.533048 0.0578639 0.640152 0.136832 0.71912L3.41083 3.99312L0.123332 7.28112C0.0443639 7.36009 0 7.46719 0 7.57887C0 7.69055 0.0443639 7.79765 0.123332 7.87662C0.2023 7.95559 0.309404 7.99995 0.421082 7.99995C0.53276 7.99995 0.639864 7.95559 0.718832 7.87662L4.00633 4.58912L7.28033 7.86362C7.3593 7.94259 7.4664 7.98695 7.57808 7.98695C7.68976 7.98695 7.79686 7.94259 7.87583 7.86362C7.9548 7.78465 7.99916 7.67755 7.99916 7.56587C7.99916 7.45419 7.9548 7.34709 7.87583 7.26812L4.59983 3.99312Z\" fill=\"#5F7696\"/>\r\n    </svg>\r\n  `,\r\n};\r\n","import { IconOpen } from './svg/icon-open.js';\r\nimport { IconItemClear } from './svg/icon-item-clear.js';\r\n\r\nexport const FilterClosed = {\r\n  props: ['filterState', 'filledControls'],\r\n  emits: ['changeState', 'input'],\r\n  components: {\r\n    IconOpen,\r\n    IconItemClear,\r\n  },\r\n  template: `\r\n    <div class=\"twpx-vue-filter--closed\">\r\n\r\n      <div class=\"twpx-vue-filter__open-button\" @click=\"$emit('changeState', 'open')\">\r\n        <IconOpen />\r\n        <span>Отфильтровать</span>\r\n      </div>\r\n\r\n      <div class=\"twpx-vue-filter__open-text\" v-if=\"filledControls.length === 0\">Нажмите и выберите фильтры, чтобы сузить выборку.</div>\r\n\r\n      <div class=\"twpx-vue-filter__filled-items\" v-if=\"filledControls.length\">\r\n\r\n        <div class=\"twpx-vue-filter__filled-item\" v-for=\"control in filledControls\" :key=\"control.id\">\r\n          <div class=\"twpx-vue-filter__filled-item__text\">\r\n            <span>{{ control.label }}:</span>\r\n            <b>{{ getValue(control) }}</b>\r\n          </div>\r\n          <IconItemClear @click=\"clear(control)\" />\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  `,\r\n  methods: {\r\n    getValue(c) {\r\n      if (c.property === 'select' && c.type === 'dropdown') {\r\n        return c.options.find((o) => o.code === c.value)?.label;\r\n      } else if (c.property === 'date' && c.type === 'range') {\r\n        if (c.value[0] && c.value[1]) {\r\n          return `${c.value[0]} - ${c.value[1]}`;\r\n        }\r\n      } else if (c.property === 'hint') {\r\n        return c.value?.value;\r\n      }\r\n\r\n      return c.value;\r\n    },\r\n    clear(control) {\r\n      this.$emit('input', {\r\n        control,\r\n        value: control.property === 'date' ? null : '',\r\n      });\r\n    },\r\n  },\r\n};\r\n","export const IconClose = {\r\n  template: `\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"17\" height=\"16\" viewBox=\"0 0 17 16\" fill=\"none\">\r\n      <path d=\"M4.12498 4.5H12.875M12.875 15L4.12498 15C2.67525 15 1.5 13.8247 1.5 12.375L1.5 3.625C1.5 2.17525 2.67525 1 4.12499 1L12.875 1C14.3248 1 15.5 2.17525 15.5 3.625V12.375C15.5 13.8247 14.3248 15 12.875 15Z\" stroke=\"#5F7696\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    </svg>\r\n\t`,\r\n};\r\n","export const IconClear = {\r\n  template: `\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"18\" viewBox=\"0 0 16 18\" fill=\"none\">\r\n      <path d=\"M1 3.82353H15M5.375 1H10.625M6.25 13.2353V7.58824M9.75 13.2353V7.58824M11.0625 17H4.9375C3.971 17 3.1875 16.1572 3.1875 15.1176L2.78798 4.80389C2.76726 4.26918 3.16468 3.82353 3.66222 3.82353H12.3378C12.8353 3.82353 13.2327 4.26918 13.212 4.80389L12.8125 15.1176C12.8125 16.1572 12.029 17 11.0625 17Z\" stroke=\"#5F7696\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    </svg>\r\n\t`,\r\n};\r\n","import { IconClose } from './svg/icon-close.js';\r\nimport { IconClear } from './svg/icon-clear.js';\r\nimport { ControlComponent } from 'local.vue-components.control-component';\r\n\r\nexport const FilterOpen = {\r\n  components: {\r\n    IconClose,\r\n    IconClear,\r\n    ControlComponent,\r\n  },\r\n  props: ['filters'],\r\n  emits: ['input', 'hints'],\r\n  template: `\r\n    <div class=\"twpx-vue-filter--open\">\r\n\r\n      <div class=\"twpx-vue-filter__open-head\">\r\n\r\n        <h3 class=\"twpx-vue-filter__open-title\">Выберите фильтры</h3>\r\n\r\n        <div class=\"twpx-vue-filter__clear-button\" @click=\"clickClear\">\r\n          <IconClear />\r\n          <span>Очистить фильтр</span>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"twpx-vue-filter__controls\">\r\n        <ControlComponent v-for=\"control in filters\" :key=\"control.id\" :control=\"control\" @input=\"input\" @hints=\"hints\" />\r\n      </div>\r\n\r\n      <div class=\"twpx-vue-filter__close-button\" @click=\"close\">\r\n        <IconClose />\r\n        <span>Свернуть</span>\r\n      </div>\r\n    </div>\r\n  `,\r\n  methods: {\r\n    input({ control, value, checked }) {\r\n      this.$emit('input', { control, value, checked });\r\n    },\r\n    hints({ type, control, action, value }) {\r\n      this.$emit('hints', {\r\n        type,\r\n        control,\r\n        action,\r\n        value,\r\n      });\r\n    },\r\n    close() {\r\n      this.$emit('changeState', 'closed');\r\n    },\r\n    reset() {\r\n      this.filters.forEach((control) => {\r\n        this.$emit('input', {\r\n          control,\r\n          value: control.property === 'date' ? null : '',\r\n        });\r\n      });\r\n    },\r\n    clickClear() {\r\n      this.reset();\r\n      this.close();\r\n    },\r\n  },\r\n};\r\n","import { Placeholder } from './placeholder.js';\r\nimport { FilterClosed } from './filter-closed.js';\r\nimport { FilterOpen } from './filter-open.js';\r\n\r\nimport './component.css';\r\n\r\nexport const FilterComponent = {\r\n  data() {\r\n    return {\r\n      filterState: 'closed', // open, closed\r\n    };\r\n  },\r\n  props: ['filters', 'loading'],\r\n  emits: ['input', 'hints', 'reset'],\r\n  components: {\r\n    Placeholder,\r\n    FilterClosed,\r\n    FilterOpen,\r\n  },\r\n  // language=Vue\r\n  template: `\r\n    <Placeholder v-if=\"loading\" />\r\n\r\n\t\t<div class=\"vue-tf-filter\" v-else>\r\n\r\n      <FilterClosed v-if=\"filterState === 'closed'\" :filledControls=\"filledControls\" @changeState=\"changeState\" @input=\"input\" />\r\n\r\n      <FilterOpen v-else :filters=\"filters\" @input=\"input\" @hints=\"hints\" @changeState=\"changeState\" />\r\n      \r\n    </div>\r\n\t`,\r\n  computed: {\r\n    filledControls() {\r\n      return this.filters.filter((c) => {\r\n        if (!c.value) return false;\r\n\r\n        if (c.propery === 'date' && c.type === 'range') {\r\n          if (!c.value[0] || !c.value[1]) {\r\n            return false;\r\n          }\r\n        }\r\n\r\n        return true;\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    changeState(value) {\r\n      this.filterState = value;\r\n    },\r\n    input({ control, value, checked }) {\r\n      this.$emit('input', { control, value, checked });\r\n    },\r\n    hints({ type, control, action, value }) {\r\n      this.$emit('hints', {\r\n        type,\r\n        control,\r\n        action,\r\n        value,\r\n      });\r\n    },\r\n  },\r\n};\r\n"],"names":["Placeholder","template","IconOpen","IconItemClear","FilterClosed","props","emits","components","methods","getValue","c","property","type","options","find","o","code","value","label","clear","control","$emit","IconClose","IconClear","FilterOpen","ControlComponent","input","checked","hints","action","close","reset","filters","forEach","clickClear","FilterComponent","data","filterState","computed","filledControls","filter","propery","changeState"],"mappings":"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"}