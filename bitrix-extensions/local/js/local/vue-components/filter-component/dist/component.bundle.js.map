{"version":3,"file":"component.bundle.js","sources":["../src/icon-open.js","../src/icon-item-clear.js","../src/component.js"],"sourcesContent":["export const IconOpen = {\r\n  // language=Vue\r\n  template: `\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r\n      <path d=\"M5.18475 4.68618H11.1337M6.62865 8.02419H9.37035M7.64835 11.3611H8.35065M5.27947 13.0643L4.03407 9.83735C3.9333 9.5768 3.8003 9.3312 3.63707 9.1091L1.62286 6.35305C0.0116969 4.14907 1.73672 0.984043 4.39076 1.00006H11.703C14.2623 0.984043 15.9863 4.14907 14.3751 6.35305L12.3609 9.1091C12.1977 9.33227 12.0647 9.5768 11.9639 9.83735L10.7185 13.0643C9.72302 15.6452 6.27398 15.6452 5.27846 13.0643H5.27947Z\" stroke=\"white\" stroke-width=\"1.5\" stroke-miterlimit=\"10\" stroke-linecap=\"round\"/>\r\n    </svg>\r\n\t`,\r\n};\r\n","export const IconItemClear = {\r\n  template: `\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\" viewBox=\"0 0 8 8\" fill=\"none\">\r\n      <path d=\"M4.59983 3.99312L7.87383 0.71912C7.91698 0.681154 7.9519 0.634756 7.97643 0.582784C8.00097 0.530812 8.0146 0.474366 8.0165 0.416925C8.01839 0.359483 8.0085 0.302262 7.98744 0.248787C7.96638 0.195312 7.9346 0.146715 7.89404 0.105991C7.85349 0.0652659 7.80503 0.0332758 7.75164 0.0119911C7.69825 -0.0092936 7.64107 -0.0194221 7.58363 -0.0177704C7.52618 -0.0161188 7.46967 -0.00272195 7.4176 0.0215947C7.36552 0.0459114 7.31898 0.080633 7.28083 0.12362L4.00633 3.40012L0.732332 0.12362C0.653364 0.0446521 0.54626 0.000288244 0.434582 0.000288244C0.322904 0.000288244 0.2158 0.0446521 0.136832 0.12362C0.0578639 0.202589 0.0135 0.309692 0.0135 0.42137C0.0135 0.533048 0.0578639 0.640152 0.136832 0.71912L3.41083 3.99312L0.123332 7.28112C0.0443639 7.36009 0 7.46719 0 7.57887C0 7.69055 0.0443639 7.79765 0.123332 7.87662C0.2023 7.95559 0.309404 7.99995 0.421082 7.99995C0.53276 7.99995 0.639864 7.95559 0.718832 7.87662L4.00633 4.58912L7.28033 7.86362C7.3593 7.94259 7.4664 7.98695 7.57808 7.98695C7.68976 7.98695 7.79686 7.94259 7.87583 7.86362C7.9548 7.78465 7.99916 7.67755 7.99916 7.56587C7.99916 7.45419 7.9548 7.34709 7.87583 7.26812L4.59983 3.99312Z\" fill=\"#5F7696\"/>\r\n    </svg>\r\n  `,\r\n};\r\n","import { IconOpen } from './icon-open.js';\r\nimport { IconItemClear } from './icon-item-clear.js';\r\nimport { ControlComponent } from 'local.vue-components.control-component';\r\nimport './component.css';\r\n\r\nexport const FilterComponent = {\r\n  data() {\r\n    return {\r\n      filterState: 'closed', // open, closed\r\n    };\r\n  },\r\n  props: ['filters', 'loading'],\r\n  emits: ['input', 'hints'],\r\n  components: {\r\n    IconOpen,\r\n    IconItemClear,\r\n    ControlComponent,\r\n  },\r\n  // language=Vue\r\n  template: `\r\n    <div class=\"vue-tf-filter-ph\" v-if=\"loading\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n\t\t<div class=\"vue-tf-filter\" v-else>\r\n    <pre>{{filters}}</pre>\r\n\r\n      <div class=\"twpx-vue-filter--closed\" v-if=\"filterState === 'closed'\">\r\n\r\n        <div class=\"twpx-vue-filter__open-button\">\r\n          <IconOpen />\r\n          <span>Фильтр</span>\r\n        </div>\r\n\r\n        <div class=\"twpx-vue-filter__open-text\" v-if=\"filledControls.length === 0\">Нажмите и выберите фильтры, чтобы сузить выборку.</div>\r\n\r\n        <div class=\"twpx-vue-filter__filled-item\" v-for=\"control in filledControls\" :key=\"control.id\">\r\n          <div class=\"twpx-vue-filter__filled-item__text\">\r\n            <span>{{ control.label }}:</span>\r\n            <b>{{ getValue(control) }}</b>\r\n          </div>\r\n          <IconItemClear />\r\n        </div>\r\n\r\n        <div class=\"twpx-vue-filter__filled-items--mobile\">\r\n          <div class=\"twpx-vue-filter__filled-item\" v-for=\"control in filledControls\" :key=\"control.id\">\r\n            <div class=\"twpx-vue-filter__filled-item__text\">\r\n              <span>{{ control.label }}:</span>\r\n              <b>{{ getValue(control) }}</b>\r\n            </div>\r\n            <IconItemClear />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"twpx-vue-filter--open\">\r\n        <div class=\"twpx-vue-filter__open-head\">\r\n          <h3 class=\"twpx-vue-filter__open-title\">Выберите фильтры</h3>\r\n          <div class=\"twpx-vue-filter__open-clear\">Очистить фильтры</div>\r\n        </div>\r\n        <div class=\"twpx-vue-filter__controls\">\r\n          <ControlComponent v-for=\"control in filters\" :key=\"control.id\" :control=\"control\" @input=\"input\" @hints=\"hints\" />\r\n        </div>\r\n        <div class=\"twpx-vue-filter__close-button\">Свернуть</div>\r\n      </div>\r\n      \r\n    </div>\r\n\t`,\r\n  computed: {\r\n    filledControls() {\r\n      return this.filters.filter((c) => {\r\n        if (!c.value) return false;\r\n\r\n        if (c.propery === 'date' && c.type === 'range') {\r\n          if (!c.value[0] || !c.value[1]) {\r\n            return false;\r\n          }\r\n        }\r\n\r\n        return true;\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    input({ control, value, checked }) {\r\n      this.$emit('input', { control, value, checked });\r\n    },\r\n    hints({ type, control, action, value }) {\r\n      this.$emit('hints', {\r\n        type,\r\n        control,\r\n        action,\r\n        value,\r\n      });\r\n    },\r\n    getValue(c) {\r\n      if (c.property === 'select' && c.type === 'dropdown') {\r\n        return c.options.find((o) => o.code === c.value)?.label;\r\n      } else if (c.property === 'date' && c.type === 'range') {\r\n        if (c.value[0] && c.value[1]) {\r\n          return `${c.value[0]} - ${c.value[1]}`;\r\n        }\r\n      }\r\n\r\n      return c.value;\r\n    },\r\n  },\r\n};\r\n"],"names":["IconOpen","template","IconItemClear","FilterComponent","data","filterState","props","emits","components","ControlComponent","computed","filledControls","filters","filter","c","value","propery","type","methods","input","control","checked","$emit","hints","action","getValue","property","options","find","o","code","label"],"mappings":";;;;;EAAO,IAAMA,QAAQ,GAAG;;IAEtBC,QAAQ;EAKV,CAAC;;ECPM,IAAMC,aAAa,GAAG;IAC3BD,QAAQ;EAKV,CAAC;;MCDYE,eAAe,GAAG;IAC7BC,IAAI,kBAAG;MACL,OAAO;QACLC,WAAW,EAAE,QAAQ;OACtB;KACF;;IACDC,KAAK,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC;IAC7BC,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC;IACzBC,UAAU,EAAE;MACVR,QAAQ,EAARA,QAAQ;MACRE,aAAa,EAAbA,aAAa;MACbO,gBAAgB,EAAhBA;KACD;;IAEDR,QAAQ,kyEAkDR;IACAS,QAAQ,EAAE;MACRC,cAAc,4BAAG;QACf,OAAO,IAAI,CAACC,OAAO,CAACC,MAAM,CAAC,UAACC,CAAC,EAAK;UAChC,IAAI,CAACA,CAAC,CAACC,KAAK,EAAE,OAAO,KAAK;UAE1B,IAAID,CAAC,CAACE,OAAO,KAAK,MAAM,IAAIF,CAAC,CAACG,IAAI,KAAK,OAAO,EAAE;YAC9C,IAAI,CAACH,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,IAAI,CAACD,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE;cAC9B,OAAO,KAAK;;;UAIhB,OAAO,IAAI;SACZ,CAAC;;KAEL;IACDG,OAAO,EAAE;MACPC,KAAK,uBAA8B;QAAA,IAA3BC,OAAO,QAAPA,OAAO;UAAEL,KAAK,QAALA,KAAK;UAAEM,OAAO,QAAPA,OAAO;QAC7B,IAAI,CAACC,KAAK,CAAC,OAAO,EAAE;UAAEF,OAAO,EAAPA,OAAO;UAAEL,KAAK,EAALA,KAAK;UAAEM,OAAO,EAAPA;SAAS,CAAC;OACjD;MACDE,KAAK,wBAAmC;QAAA,IAAhCN,IAAI,SAAJA,IAAI;UAAEG,OAAO,SAAPA,OAAO;UAAEI,MAAM,SAANA,MAAM;UAAET,KAAK,SAALA,KAAK;QAClC,IAAI,CAACO,KAAK,CAAC,OAAO,EAAE;UAClBL,IAAI,EAAJA,IAAI;UACJG,OAAO,EAAPA,OAAO;UACPI,MAAM,EAANA,MAAM;UACNT,KAAK,EAALA;SACD,CAAC;OACH;MACDU,QAAQ,oBAACX,CAAC,EAAE;QACV,IAAIA,CAAC,CAACY,QAAQ,KAAK,QAAQ,IAAIZ,CAAC,CAACG,IAAI,KAAK,UAAU,EAAE;UAAA;UACpD,0BAAOH,CAAC,CAACa,OAAO,CAACC,IAAI,CAAC,UAACC,CAAC;YAAA,OAAKA,CAAC,CAACC,IAAI,KAAKhB,CAAC,CAACC,KAAK;YAAC,oDAAzC,gBAA2CgB,KAAK;SACxD,MAAM,IAAIjB,CAAC,CAACY,QAAQ,KAAK,MAAM,IAAIZ,CAAC,CAACG,IAAI,KAAK,OAAO,EAAE;UACtD,IAAIH,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,IAAID,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE;YAC5B,iBAAUD,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,gBAAMD,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;;;QAIxC,OAAOD,CAAC,CAACC,KAAK;;;EAGpB,CAAC;;;;;;;;"}