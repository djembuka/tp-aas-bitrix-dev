{"version":3,"file":"component.bundle.js","sources":["../src/component.js"],"sourcesContent":["import './component.css';\r\n\r\nexport const PaginationComponent = {\r\n  // language=Vue\r\n  template: `\r\n    <div class=\"vue-pagination\" v-if=\"pagesArr.length\">\r\n      <div v-for=\"item in pagesArr\">\r\n        <a class=\"vue-pagination-page\" href=\"\" v-if=\"item.count && item.type === 'page'\" @click.prevent=\"$emit('clickPage', {count: item.count})\">{{ item.count }}</a>\r\n        <span class=\"vue-pagination-active\" v-else-if=\"item.count && item.type === 'active'\">{{ item.count }}</span>\r\n        <a class=\"vue-pagination-page\" href=\"\" v-else-if=\"item.count && item.type === 'ellipsis'\" @click.prevent=\"$emit('clickPage', {count: item.count})\" :data-count=\"item.count\">...</a>\r\n        <a class=\"vue-pagination-arrow\" href=\"\" v-else-if=\"item.count && item.type === 'prev'\" @click.prevent=\"$emit('clickPage', {count: item.count})\">Предыдущая</a>\r\n        <a class=\"vue-pagination-arrow\" href=\"\" v-else-if=\"item.count && item.type === 'next'\" @click.prevent=\"$emit('clickPage', {count: item.count})\">Следующая</a>\r\n      </div>\r\n    </div>\r\n  `,\r\n  props: ['pagesNum', 'pageActive'],\r\n  emits: ['clickPage'],\r\n  computed: {\r\n    pagesArr() {\r\n      const pagesArr = [];\r\n\r\n      //active\r\n      pagesArr.push({\r\n        type: 'active',\r\n        count: this.pageActive,\r\n      });\r\n      if (this.pageActive - 1 > 1) {\r\n        pagesArr.unshift({\r\n          type: 'page',\r\n          count: this.pageActive - 1,\r\n        });\r\n      }\r\n      if (this.pageActive - 2 > 1) {\r\n        pagesArr.unshift({\r\n          type: 'page',\r\n          count: this.pageActive - 2,\r\n        });\r\n      }\r\n      if (this.pageActive + 1 < this.pagesNum) {\r\n        pagesArr.push({\r\n          type: 'page',\r\n          count: this.pageActive + 1,\r\n        });\r\n      }\r\n      if (this.pageActive + 2 < this.pagesNum) {\r\n        pagesArr.push({\r\n          type: 'page',\r\n          count: this.pageActive + 2,\r\n        });\r\n      }\r\n      //additional\r\n      if (this.pageActive + 2 > this.pagesNum && this.pageActive - 3 > 1) {\r\n        pagesArr.unshift({\r\n          type: 'page',\r\n          count: this.pageActive - 3,\r\n        });\r\n      }\r\n      if (this.pageActive + 1 > this.pagesNum && this.pageActive - 4 > 1) {\r\n        pagesArr.unshift({\r\n          type: 'page',\r\n          count: this.pageActive - 4,\r\n        });\r\n      }\r\n      if (this.pageActive - 2 < 1 && this.pageActive + 3 < this.pagesNum) {\r\n        pagesArr.push({\r\n          type: 'page',\r\n          count: this.pageActive + 3,\r\n        });\r\n      }\r\n      if (this.pageActive - 1 < 1 && this.pageActive + 4 < this.pagesNum) {\r\n        pagesArr.push({\r\n          type: 'page',\r\n          count: this.pageActive + 4,\r\n        });\r\n      }\r\n      //first last\r\n      if (this.pageActive && Number(this.pageActive) !== 1) {\r\n        pagesArr.unshift({\r\n          type: 'page',\r\n          count: 1,\r\n        });\r\n      }\r\n      if (\r\n        this.pageActive &&\r\n        Number(this.pageActive) !== Number(this.pagesNum)\r\n      ) {\r\n        pagesArr.push({\r\n          type: 'page',\r\n          count: this.pagesNum,\r\n        });\r\n      }\r\n      //ellipsis\r\n      let a = [];\r\n      pagesArr.forEach((item, index) => {\r\n        if (pagesArr[index + 1] && pagesArr[index + 1].count - item.count > 1) {\r\n          a.push(index);\r\n        }\r\n      });\r\n      console.log(a);\r\n      if (a[0] !== undefined) {\r\n        pagesArr.splice(a[0] + 1, 0, {\r\n          type: 'ellipsis',\r\n          count: Math.round(\r\n            pagesArr[a[0]].count +\r\n              (pagesArr[a[0] + 1].count - pagesArr[a[0]].count) / 2\r\n          ),\r\n        });\r\n      }\r\n      if (a[1] !== undefined) {\r\n        pagesArr.splice(a[1] + 2, 0, {\r\n          type: 'ellipsis',\r\n          count: Math.round(\r\n            pagesArr[a[1] + 1].count +\r\n              (pagesArr[a[1] + 2].count - pagesArr[a[1] + 1].count) / 2\r\n          ),\r\n        });\r\n      }\r\n      //prev next\r\n      if (this.pageActive - 1 >= 1) {\r\n        pagesArr.push({\r\n          type: 'prev',\r\n          count: this.pageActive - 1,\r\n        });\r\n      }\r\n      if (this.pageActive + 1 <= this.pagesNum) {\r\n        pagesArr.push({\r\n          type: 'next',\r\n          count: this.pageActive + 1,\r\n        });\r\n      }\r\n      return pagesArr;\r\n    },\r\n  },\r\n};\r\n"],"names":["PaginationComponent","template","props","emits","computed","pagesArr","push","type","count","pageActive","unshift","pagesNum","Number","a","forEach","item","index","console","log","undefined","splice","Math","round"],"mappings":"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"}