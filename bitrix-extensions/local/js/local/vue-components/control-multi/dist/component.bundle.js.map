{"version":3,"file":"component.bundle.js","sources":["../src/component.js"],"sourcesContent":["import { Control } from 'local.vue-components.control';\r\n\r\nexport const ControlMulti = {\r\n  data() {\r\n    return {\r\n      multi: 1,\r\n      copy: {},\r\n    };\r\n  },\r\n  props: ['parent'],\r\n  components: {\r\n    Control,\r\n  },\r\n  // language=Vue\r\n  template: `\r\n\t\t<div>\r\n      <div v-for=\"(addedControl, index) in parent.multi\" :key=\"addedControl.id\">\r\n        <div class=\"btn-delete\" @click.prevent=\"remove(index)\" v-if=\"controlsLength > 1\"></div>\r\n        <Control :control=\"addedControl\" @input=\"input\" @hints=\"hints\"></Control>\r\n      </div>\r\n      <div class=\"btn btn-success btn-md\" :class=\"{'btn-disabled': isDisabled}\" @click.prevent=\"add\">Добавить</div>\r\n    </div>\r\n\t`,\r\n  emits: ['create', 'add', 'remove', 'input', 'hints'],\r\n  computed: {\r\n    controlsLength() {\r\n      if (\r\n        this.parent.multi &&\r\n        typeof this.parent.multi === 'object' &&\r\n        this.parent.multi.length !== undefined\r\n      ) {\r\n        return this.parent.multi.length;\r\n      }\r\n      return 0;\r\n    },\r\n    isDisabled() {\r\n      return this.controlsLength >= this.multi;\r\n    },\r\n  },\r\n  methods: {\r\n    add() {\r\n      if (!this.isDisabled) {\r\n        this.$emit('add', {\r\n          parent: this.parent,\r\n          add: Object.assign({}, this.copy),\r\n        });\r\n      }\r\n    },\r\n    remove(index) {\r\n      this.$emit('remove', { parent: this.parent, index });\r\n    },\r\n    input(attrs) {\r\n      this.$emit('input', attrs);\r\n    },\r\n    hints() {},\r\n  },\r\n  beforeMount() {\r\n    this.multi = this.parent.multi;\r\n\r\n    this.copy = Object.assign({}, this.parent);\r\n    delete this.copy.multi;\r\n\r\n    this.$emit('create', { parent: this.parent });\r\n    this.add();\r\n  },\r\n};\r\n"],"names":["ControlMulti","data","multi","copy","props","components","Control","template","emits","computed","controlsLength","parent","length","undefined","isDisabled","methods","add","$emit","Object","assign","remove","index","input","attrs","hints","beforeMount"],"mappings":";;;;;MAEaA,YAAY,GAAG;IAC1BC,IAAI,kBAAG;MACL,OAAO;QACLC,KAAK,EAAE,CAAC;QACRC,IAAI,EAAE;OACP;KACF;IACDC,KAAK,EAAE,CAAC,QAAQ,CAAC;IACjBC,UAAU,EAAE;MACVC,OAAO,EAAPA;KACD;;IAEDC,QAAQ,seAQR;IACAC,KAAK,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC;IACpDC,QAAQ,EAAE;MACRC,cAAc,4BAAG;QACf,IACE,IAAI,CAACC,MAAM,CAACT,KAAK,IACjB,uBAAO,IAAI,CAACS,MAAM,CAACT,KAAK,MAAK,QAAQ,IACrC,IAAI,CAACS,MAAM,CAACT,KAAK,CAACU,MAAM,KAAKC,SAAS,EACtC;UACA,OAAO,IAAI,CAACF,MAAM,CAACT,KAAK,CAACU,MAAM;;QAEjC,OAAO,CAAC;OACT;MACDE,UAAU,wBAAG;QACX,OAAO,IAAI,CAACJ,cAAc,IAAI,IAAI,CAACR,KAAK;;KAE3C;IACDa,OAAO,EAAE;MACPC,GAAG,iBAAG;QACJ,IAAI,CAAC,IAAI,CAACF,UAAU,EAAE;UACpB,IAAI,CAACG,KAAK,CAAC,KAAK,EAAE;YAChBN,MAAM,EAAE,IAAI,CAACA,MAAM;YACnBK,GAAG,EAAEE,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAChB,IAAI;WACjC,CAAC;;OAEL;MACDiB,MAAM,kBAACC,KAAK,EAAE;QACZ,IAAI,CAACJ,KAAK,CAAC,QAAQ,EAAE;UAAEN,MAAM,EAAE,IAAI,CAACA,MAAM;UAAEU,KAAK,EAALA;SAAO,CAAC;OACrD;MACDC,KAAK,iBAACC,KAAK,EAAE;QACX,IAAI,CAACN,KAAK,CAAC,OAAO,EAAEM,KAAK,CAAC;OAC3B;MACDC,KAAK,mBAAG;KACT;IACDC,WAAW,yBAAG;MACZ,IAAI,CAACvB,KAAK,GAAG,IAAI,CAACS,MAAM,CAACT,KAAK;MAE9B,IAAI,CAACC,IAAI,GAAGe,MAAM,CAACC,MAAM,CAAC,EAAE,EAAE,IAAI,CAACR,MAAM,CAAC;MAC1C,OAAO,IAAI,CAACR,IAAI,CAACD,KAAK;MAEtB,IAAI,CAACe,KAAK,CAAC,QAAQ,EAAE;QAAEN,MAAM,EAAE,IAAI,CAACA;OAAQ,CAAC;MAC7C,IAAI,CAACK,GAAG,EAAE;;EAEd,CAAC;;;;;;;;"}