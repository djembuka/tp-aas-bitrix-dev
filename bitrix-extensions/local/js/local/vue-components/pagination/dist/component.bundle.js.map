{"version":3,"file":"component.bundle.js","sources":["../src/component.js"],"sourcesContent":["import './component.css';\n\nexport const TablePagination = {\n  // language=Vue\n  template: `\n    <div class=\"vue-pagination\" v-if=\"pagesArr.length\">\n      <div v-for=\"item in pagesArr\">\n        <a class=\"vue-pagination-page\" href=\"\" v-if=\"item.count && item.type === 'page'\" @click.prevent=\"$emit('clickPage', {count: item.count})\">{{ item.count }}</a>\n        <span class=\"vue-pagination-active\" v-else-if=\"item.count && item.type === 'active'\">{{ item.count }}</span>\n        <a class=\"vue-pagination-page\" href=\"\" v-else-if=\"item.count && item.type === 'ellipsis'\" @click.prevent=\"$emit('clickPage', {count: item.count})\">...</a>\n        <a class=\"vue-pagination-arrow\" href=\"\" v-else-if=\"item.count && item.type === 'prev'\" @click.prevent=\"$emit('clickPage', {count: item.count})\">Предыдущая</a>\n        <a class=\"vue-pagination-arrow\" href=\"\" v-else-if=\"item.count && item.type === 'next'\" @click.prevent=\"$emit('clickPage', {count: item.count})\">Следующая</a>\n      </div>\n    </div>\n  `,\n  props: ['pagesNum', 'pageActive'],\n  emits: ['clickPage'],\n  computed: {\n    pagesArr() {\n      const pagesArr = [];\n\n      //active\n      pagesArr.push({\n        type: 'active',\n        count: this.pageActive,\n      });\n      if (this.pageActive - 1 > 1) {\n        pagesArr.unshift({\n          type: 'page',\n          count: this.pageActive - 1,\n        });\n      }\n      if (this.pageActive - 2 > 1) {\n        pagesArr.unshift({\n          type: 'page',\n          count: this.pageActive - 2,\n        });\n      }\n      if (this.pageActive + 1 < this.pagesNum) {\n        pagesArr.push({\n          type: 'page',\n          count: this.pageActive + 1,\n        });\n      }\n      if (this.pageActive + 2 < this.pagesNum) {\n        pagesArr.push({\n          type: 'page',\n          count: this.pageActive + 2,\n        });\n      }\n      //additional\n      if (this.pageActive + 2 > this.pagesNum && this.pageActive - 3 > 1) {\n        pagesArr.unshift({\n          type: 'page',\n          count: this.pageActive - 3,\n        });\n      }\n      if (this.pageActive + 1 > this.pagesNum && this.pageActive - 4 > 1) {\n        pagesArr.unshift({\n          type: 'page',\n          count: this.pageActive - 4,\n        });\n      }\n      if (this.pageActive - 2 < 1 && this.pageActive + 3 < this.pagesNum) {\n        pagesArr.push({\n          type: 'page',\n          count: this.pageActive + 3,\n        });\n      }\n      if (this.pageActive - 1 < 1 && this.pageActive + 4 < this.pagesNum) {\n        pagesArr.push({\n          type: 'page',\n          count: this.pageActive + 4,\n        });\n      }\n      //first last\n      if (Number(this.pageActive) !== 1) {\n        pagesArr.unshift({\n          type: 'page',\n          count: 1,\n        });\n      }\n      if (Number(this.pageActive) !== Number(this.pagesNum)) {\n        pagesArr.push({\n          type: 'page',\n          count: this.pagesNum,\n        });\n      }\n      //ellipsis\n      let a = [];\n      pagesArr.forEach((item, index) => {\n        if (pagesArr[index + 1] && pagesArr[index + 1].count - item.count > 1) {\n          a.push(index);\n        }\n      });\n      if (a[0] !== undefined) {\n        pagesArr.splice(a[0] + 1, 0, {\n          type: 'ellipsis',\n          count: Math.round(\n            pagesArr[a[0]].count +\n              pagesArr[a[0] + 1].count -\n              pagesArr[a[0]].count / 2\n          ),\n        });\n      }\n      if (a[1] !== undefined) {\n        pagesArr.splice(a[1] + 2, 0, {\n          type: 'ellipsis',\n          count: Math.round(\n            pagesArr[a[1]].count +\n              pagesArr[a[1] + 1].count -\n              pagesArr[a[1]].count / 2\n          ),\n        });\n      }\n      //prev next\n      if (this.pageActive - 1 >= 1) {\n        pagesArr.push({\n          type: 'prev',\n          count: this.pageActive - 1,\n        });\n      }\n      if (this.pageActive + 1 <= this.pagesNum) {\n        pagesArr.push({\n          type: 'next',\n          count: this.pageActive + 1,\n        });\n      }\n      return pagesArr;\n    },\n  },\n};\n"],"names":["TablePagination","template","props","emits","computed","pagesArr","push","type","count","pageActive","unshift","pagesNum","Number","a","forEach","item","index","undefined","splice","Math","round"],"mappings":"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"}