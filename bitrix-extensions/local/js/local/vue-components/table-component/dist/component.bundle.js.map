{"version":3,"file":"component.bundle.js","sources":["../src/component.js"],"sourcesContent":["import './component.css';\r\nimport './placeholder.css';\r\n\r\nimport { MessageComponent } from 'local.vue-components.message-component';\r\n\r\nexport const TableComponent = {\r\n  components: { MessageComponent },\r\n  template: `\r\n    <div v-if=\"loading\" class=\"vue-tf-table-ph\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n\r\n    <MessageComponent v-else-if=\"!items.items || !items.items.length\" type=\"table-result\" size=\"small\" message=\"По выбранным фильтрам ничего не найдено. Измените параметры фильтра и попробуйте снова.\" :button=\"false\" />\r\n\r\n    <div v-else-if=\"columnsNames.length\" class=\"vue-ft-table\">\r\n      <table class=\"table table-responsive\" :class=\"{'table-sortable': sortable}\">\r\n        <colgroup>\r\n          <col v-for=\"(col, index) in columnsNames\" :key=\"col.id\" :style=\"'width:' +  (cols[index] || 'auto') + ';'\">\r\n        </colgroup>\r\n        <thead>\r\n          <tr>\r\n            <th v-for=\"column in columnsNames\" :key=\"column.id\" :class=\"className({td:column})\" @click=\"clickTh(column)\">{{column.name}}</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in items.items\" :key=\"item.id\" :class=\"className({tr: item})\" :data-id=\"item.id\" :title=\"item.value\" @click=\"clickTr(item)\">\r\n            <td v-for=\"cell in item.cell\" v-html=\"cell.value\" :class=\"className({td:cell})\"></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    `,\r\n  props: ['cols', 'columnsNames', 'items', 'sort', 'loading', 'sortable'],\r\n  emits: ['clickTh'],\r\n  methods: {\r\n    clickTh(column) {\r\n      if (this.sortable) {\r\n        this.$emit('clickTh', { column });\r\n      }\r\n    },\r\n    clickTr(item) {\r\n      let url = item.url;\r\n      let target = item.target;\r\n      if (!url) return;\r\n\r\n      if (target === '_blank') {\r\n        window.open(url, 'new');\r\n      } else {\r\n        window.location.href = url;\r\n      }\r\n    },\r\n    className({ tr, td }) {\r\n      if (tr) {\r\n        let result = '';\r\n        if (tr.url) {\r\n          result += 'vue-tf-table--clickable ';\r\n        }\r\n        if (tr.new) {\r\n          result += 'vue-tf-table--new ';\r\n        }\r\n        return result;\r\n      } else if (td) {\r\n        if (!this.sortable) {\r\n          return '';\r\n        }\r\n\r\n        return this.sort.columnSort === td.id\r\n          ? this.sort.sortType.toLowerCase()\r\n          : '';\r\n      }\r\n    },\r\n  },\r\n};\r\n"],"names":["TableComponent","components","MessageComponent","template","props","emits","methods","clickTh","column","sortable","$emit","clickTr","item","url","target","window","open","location","href","className","tr","td","result","sort","columnSort","id","sortType","toLowerCase"],"mappings":";;;;;MAKaA,cAAc,GAAG;IAC5BC,UAAU,EAAE;MAAEC,gBAAgB,EAAhBA;KAAkB;IAChCC,QAAQ,k7DA4CL;IACHC,KAAK,EAAE,CAAC,MAAM,EAAE,cAAc,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC;IACvEC,KAAK,EAAE,CAAC,SAAS,CAAC;IAClBC,OAAO,EAAE;MACPC,OAAO,mBAACC,MAAM,EAAE;QACd,IAAI,IAAI,CAACC,QAAQ,EAAE;UACjB,IAAI,CAACC,KAAK,CAAC,SAAS,EAAE;YAAEF,MAAM,EAANA;WAAQ,CAAC;;OAEpC;MACDG,OAAO,mBAACC,IAAI,EAAE;QACZ,IAAIC,GAAG,GAAGD,IAAI,CAACC,GAAG;QAClB,IAAIC,MAAM,GAAGF,IAAI,CAACE,MAAM;QACxB,IAAI,CAACD,GAAG,EAAE;QAEV,IAAIC,MAAM,KAAK,QAAQ,EAAE;UACvBC,MAAM,CAACC,IAAI,CAACH,GAAG,EAAE,KAAK,CAAC;SACxB,MAAM;UACLE,MAAM,CAACE,QAAQ,CAACC,IAAI,GAAGL,GAAG;;OAE7B;MACDM,SAAS,2BAAa;QAAA,IAAVC,EAAE,QAAFA,EAAE;UAAEC,EAAE,QAAFA,EAAE;QAChB,IAAID,EAAE,EAAE;UACN,IAAIE,MAAM,GAAG,EAAE;UACf,IAAIF,EAAE,CAACP,GAAG,EAAE;YACVS,MAAM,IAAI,0BAA0B;;UAEtC,IAAIF,EAAE,OAAI,EAAE;YACVE,MAAM,IAAI,oBAAoB;;UAEhC,OAAOA,MAAM;SACd,MAAM,IAAID,EAAE,EAAE;UACb,IAAI,CAAC,IAAI,CAACZ,QAAQ,EAAE;YAClB,OAAO,EAAE;;UAGX,OAAO,IAAI,CAACc,IAAI,CAACC,UAAU,KAAKH,EAAE,CAACI,EAAE,GACjC,IAAI,CAACF,IAAI,CAACG,QAAQ,CAACC,WAAW,EAAE,GAChC,EAAE;;;;EAId,CAAC;;;;;;;;"}