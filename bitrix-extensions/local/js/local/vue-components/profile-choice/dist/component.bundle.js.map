{"version":3,"file":"component.bundle.js","sources":["../src/component.js"],"sourcesContent":["import './component.css';\r\nimport './placeholder.css';\r\nimport './scroll-menu.css';\r\n\r\nexport const ProfileChoice = {\r\n  data() {\r\n    return {\r\n      initialized: false,\r\n      itemMarginRight: 20,\r\n      margin: 0,\r\n      arrows: {\r\n        right: false,\r\n        left: true,\r\n      },\r\n    };\r\n  },\r\n  props: {\r\n    profiles: {\r\n      type: Object,\r\n      default: [],\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  // language=Vue\r\n  template: `\r\n    <div v-if=\"loading\" class=\"vue-profile-choice-ph\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n    <div class=\"vue-profile-choice\" v-else-if=\"profiles.length\">\r\n\r\n      <div class=\"twpx-scroll-menu\" :class=\"{'twpx-scroll-menu--no-right': !arrows.right, 'twpx-scroll-menu--no-left': !arrows.left}\" @mouseenter=\"hover\" ref=\"sm\">\r\n        <div class=\"twpx-scroll-menu-overflow\">\r\n          <div class=\"twpx-scroll-menu-wrapper\" :style=\"'margin-left: ' + margin + 'px;'\" ref=\"wrapper\">\r\n\r\n            <div v-for=\"profile in profiles\" :key=\"profile.id\" class=\"vue-profile-choice__item\" :class=\"{active: profile.default}\" :data-id=\"profile.id\" @click.prevent=\"click(profile.id)\">\r\n              <i v-if=\"profile.newAppealsCount\">{{ profile.newAppealsCount }}</i>\r\n              <span>{{ profile.name }}</span>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"twpx-scroll-menu-arrows\">\r\n          <div class=\"twpx-scroll-menu-arrow-right\" @click=\"moveTo(-1 * $refs.sm.clientWidth)\"></div>\r\n          <div class=\"twpx-scroll-menu-arrow-left\" @click=\"moveTo($refs.sm.clientWidth)\"></div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\t`,\r\n  emits: ['clickProfile'],\r\n  computed: {\r\n    profiles() {\r\n      return this.$store.state.profiles;\r\n    },\r\n  },\r\n  methods: {\r\n    click(id) {\r\n      this.$emit('clickProfile', { id });\r\n    },\r\n    hover() {\r\n      if (this.calculateWidth() <= this.$refs.sm.clientWidth) {\r\n        this.arrows.right = false;\r\n        this.arrows.left = false;\r\n      } else {\r\n        this.moveTo(0);\r\n      }\r\n    },\r\n    moveTo(dist) {\r\n      this.arrows.right = true;\r\n      this.arrows.left = true;\r\n      let left = this.margin || 0;\r\n      left = left + dist;\r\n\r\n      let width = this.calculateWidth();\r\n\r\n      if (left >= 0) {\r\n        left = 0;\r\n        this.arrows.right = false;\r\n      } else if (left <= -1 * (width - this.$refs.sm.clientWidth)) {\r\n        left = -1 * (width - this.$refs.sm.clientWidth);\r\n        this.arrows.left = false;\r\n      }\r\n\r\n      this.margin = left;\r\n    },\r\n    calculateWidth() {\r\n      let result = 0;\r\n      this.$refs.wrapper.childNodes.forEach((item) => {\r\n        if (item.classList) {\r\n          result += item.clientWidth;\r\n          result += this.itemMarginRight;\r\n        }\r\n      });\r\n\r\n      result -= this.itemMarginRight;\r\n\r\n      return result;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.initialized = true;\r\n  },\r\n};\r\n"],"names":["ProfileChoice","data","initialized","itemMarginRight","margin","arrows","right","left","props","profiles","type","Object","loading","Boolean","template","emits","computed","$store","state","methods","click","id","$emit","hover","calculateWidth","$refs","sm","clientWidth","moveTo","dist","width","result","wrapper","childNodes","forEach","item","classList","mounted"],"mappings":";;;;;MAIaA,aAAa,GAAG;IAC3BC,IAAI,kBAAG;MACL,OAAO;QACLC,WAAW,EAAE,KAAK;QAClBC,eAAe,EAAE,EAAE;QACnBC,MAAM,EAAE,CAAC;QACTC,MAAM,EAAE;UACNC,KAAK,EAAE,KAAK;UACZC,IAAI,EAAE;;OAET;KACF;IACDC,KAAK,EAAE;MACLC,QAAQ,EAAE;QACRC,IAAI,EAAEC,MAAM;QACZ,WAAS;OACV;MACDC,OAAO,EAAE;QACPF,IAAI,EAAEG,OAAO;QACb,WAAS;;KAEZ;;IAEDC,QAAQ,stCA0BR;IACAC,KAAK,EAAE,CAAC,cAAc,CAAC;IACvBC,QAAQ,EAAE;MACRP,QAAQ,sBAAG;QACT,OAAO,IAAI,CAACQ,MAAM,CAACC,KAAK,CAACT,QAAQ;;KAEpC;IACDU,OAAO,EAAE;MACPC,KAAK,iBAACC,EAAE,EAAE;QACR,IAAI,CAACC,KAAK,CAAC,cAAc,EAAE;UAAED,EAAE,EAAFA;SAAI,CAAC;OACnC;MACDE,KAAK,mBAAG;QACN,IAAI,IAAI,CAACC,cAAc,EAAE,IAAI,IAAI,CAACC,KAAK,CAACC,EAAE,CAACC,WAAW,EAAE;UACtD,IAAI,CAACtB,MAAM,CAACC,KAAK,GAAG,KAAK;UACzB,IAAI,CAACD,MAAM,CAACE,IAAI,GAAG,KAAK;SACzB,MAAM;UACL,IAAI,CAACqB,MAAM,CAAC,CAAC,CAAC;;OAEjB;MACDA,MAAM,kBAACC,IAAI,EAAE;QACX,IAAI,CAACxB,MAAM,CAACC,KAAK,GAAG,IAAI;QACxB,IAAI,CAACD,MAAM,CAACE,IAAI,GAAG,IAAI;QACvB,IAAIA,IAAI,GAAG,IAAI,CAACH,MAAM,IAAI,CAAC;QAC3BG,IAAI,GAAGA,IAAI,GAAGsB,IAAI;QAElB,IAAIC,KAAK,GAAG,IAAI,CAACN,cAAc,EAAE;QAEjC,IAAIjB,IAAI,IAAI,CAAC,EAAE;UACbA,IAAI,GAAG,CAAC;UACR,IAAI,CAACF,MAAM,CAACC,KAAK,GAAG,KAAK;SAC1B,MAAM,IAAIC,IAAI,IAAI,CAAC,CAAC,IAAIuB,KAAK,GAAG,IAAI,CAACL,KAAK,CAACC,EAAE,CAACC,WAAW,CAAC,EAAE;UAC3DpB,IAAI,GAAG,CAAC,CAAC,IAAIuB,KAAK,GAAG,IAAI,CAACL,KAAK,CAACC,EAAE,CAACC,WAAW,CAAC;UAC/C,IAAI,CAACtB,MAAM,CAACE,IAAI,GAAG,KAAK;;QAG1B,IAAI,CAACH,MAAM,GAAGG,IAAI;OACnB;MACDiB,cAAc,4BAAG;QAAA;QACf,IAAIO,MAAM,GAAG,CAAC;QACd,IAAI,CAACN,KAAK,CAACO,OAAO,CAACC,UAAU,CAACC,OAAO,CAAC,UAACC,IAAI,EAAK;UAC9C,IAAIA,IAAI,CAACC,SAAS,EAAE;YAClBL,MAAM,IAAII,IAAI,CAACR,WAAW;YAC1BI,MAAM,IAAI,KAAI,CAAC5B,eAAe;;SAEjC,CAAC;QAEF4B,MAAM,IAAI,IAAI,CAAC5B,eAAe;QAE9B,OAAO4B,MAAM;;KAEhB;IACDM,OAAO,qBAAG;MACR,IAAI,CAACnC,WAAW,GAAG,IAAI;;EAE3B,CAAC;;;;;;;;"}