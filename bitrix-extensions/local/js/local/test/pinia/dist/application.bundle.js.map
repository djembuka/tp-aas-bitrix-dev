{"version":3,"file":"application.bundle.js","sources":["../src/stores/status.js","../src/stores/counter.js","../src/components/application.js","../src/demo.js"],"sourcesContent":["import {defineStore} from \"ui.vue3.pinia\";\n\nexport const statusStore = defineStore('status', {\n\tstate: () => ({\n\t\tlastAction: 'None'\n\t}),\n\tactions: {\n\t\tsetAction(action)\n\t\t{\n\t\t\tthis.lastAction = action.toString();\n\t\t},\n\t},\n});","import { defineStore } from \"ui.vue3.pinia\";\nimport { statusStore } from \"./status\";\n\nexport const counterStore = defineStore('counter', {\n\tstate: () => ({\n\t\tcounter: 0\n\t}),\n\tgetters: {\n\t\tdouble()\n\t\t{\n\t\t\treturn this.counter * 2;\n\t\t},\n\t},\n\tactions: {\n\t\tincreaseCounter()\n\t\t{\n\t\t\tthis.counter++;\n\t\t\tstatusStore().setAction('Plus');\n\t\t},\n\t\tdecreaseCounter()\n\t\t{\n\t\t\tthis.counter--;\n\t\t\tstatusStore().setAction('Minus');\n\t\t}\n\t},\n});","import \"./application.css\";\nimport { mapState, mapActions } from \"ui.vue3.pinia\";\nimport { counterStore } from \"../stores/counter\";\nimport { statusStore } from \"../stores/status\";\n\nexport const Application =\n{\n\tcomputed: {\n\t\t...mapState(counterStore, ['counter', 'double']),\n\t\tlastAction: () => statusStore().lastAction,\n\t},\n\tmethods:{\n\t\t...mapActions(counterStore, ['increaseCounter', 'decreaseCounter']),\n\t},\n\t// language=Vue\n\ttemplate: `\n\t\t<div class=\"demo-header\">{{$Bitrix.Loc.getMessage('DEMO_PINIA_TITLE')}}</div>\n\t\t<div>\n\t\t\t<div>{{ $Bitrix.Loc.getMessage('DEMO_PINIA_COUNTER', {'#COUNTER#': this.counter, '#DOUBLE#': this.double}) }}</div> \n\t\t\t<div>{{ $Bitrix.Loc.getMessage('DEMO_PINIA_LAST_ACTION', {'#COUNTER#': this.lastAction}) }}</div> \n\t\t\t<div>\n\t\t\t\t<button @click=\"increaseCounter\">+</button>\n\t\t\t\t<button @click=\"decreaseCounter\">-</button>\n\t\t\t</div>\n\t\t</div>\n\t`\n};","/**\n * Pinia demo\n *\n * @package pinia\n * @subpackage local\n * @copyright 2001-2022 Bitrix\n */\n\nimport { BitrixVue } from 'ui.vue3';\nimport { Application } from './components/application';\nimport { createPinia, setActivePinia } from 'ui.vue3.pinia';\nimport { counterStore } from './stores/counter';\n\nexport class PiniaDemo\n{\n\n\t#store;\n\t#rootNode\n\t#application;\n\n\tconstructor(rootNode): void\n\t{\n\t\tthis.#store = createPinia();\n\t\tthis.#rootNode = document.querySelector(rootNode);\n\t}\n\n\tstart(): void\n\t{\n\t\tthis.#application = BitrixVue.createApp({\n\t\t\tname: 'Pinia Application',\n\t\t\tcomponents: {\n\t\t\t\tApplication\n\t\t\t},\n\t\t\ttemplate: '<Application/>'\n\t\t})\n\t\tthis.#application.use(this.#store);\n\t\tthis.#application.mount(this.#rootNode);\n\t}\n\n\tinitStorageBeforeStartApplication(): void\n\t{\n\t\tsetActivePinia(this.#store);\n\t}\n\n\tgetCounterStore(): Object\n\t{\n\t\treturn counterStore;\n\t}\n}"],"names":["statusStore","defineStore","state","lastAction","actions","setAction","action","toString","counterStore","counter","getters","increaseCounter","decreaseCounter","Application","computed","mapState","methods","mapActions","template","PiniaDemo","rootNode","createPinia","document","querySelector","BitrixVue","createApp","name","components","use","mount","setActivePinia"],"mappings":";;;IAEO,IAAMA,WAAW,GAAGC,yBAAW,CAAC,QAAD,EAAW;IAChDC,EAAAA,KAAK,EAAE;IAAA,WAAO;IACbC,MAAAA,UAAU,EAAE;IADC,KAAP;IAAA,GADyC;IAIhDC,EAAAA,OAAO,EAAE;IACRC,IAAAA,SADQ,qBACEC,MADF,EAER;IACC,WAAKH,UAAL,GAAkBG,MAAM,CAACC,QAAP,EAAlB;IACA;IAJO;IAJuC,CAAX,CAA/B;;ICCA,IAAMC,YAAY,GAAGP,yBAAW,CAAC,SAAD,EAAY;IAClDC,EAAAA,KAAK,EAAE;IAAA,WAAO;IACbO,MAAAA,OAAO,EAAE;IADI,KAAP;IAAA,GAD2C;IAIlDC,EAAAA,OAAO,EAAE;IAAA,gCAER;IACC,aAAO,KAAKD,OAAL,GAAe,CAAtB;IACA;IAJO,GAJyC;IAUlDL,EAAAA,OAAO,EAAE;IACRO,IAAAA,eADQ,6BAER;IACC,WAAKF,OAAL;IACAT,MAAAA,WAAW,GAAGK,SAAd,CAAwB,MAAxB;IACA,KALO;IAMRO,IAAAA,eANQ,6BAOR;IACC,WAAKH,OAAL;IACAT,MAAAA,WAAW,GAAGK,SAAd,CAAwB,OAAxB;IACA;IAVO;IAVyC,CAAZ,CAAhC;;;;;ICEA,IAAMQ,WAAW,GACxB;IACCC,EAAAA,QAAQ,kCACJC,sBAAQ,CAACP,YAAD,EAAe,CAAC,SAAD,EAAY,QAAZ,CAAf,CADJ;IAEPL,IAAAA,UAAU,EAAE;IAAA,aAAMH,WAAW,GAAGG,UAApB;IAAA;IAFL,IADT;IAKCa,EAAAA,OAAO,oBACHC,wBAAU,CAACT,YAAD,EAAe,CAAC,iBAAD,EAAoB,iBAApB,CAAf,CADP,CALR;IAQC;IACAU,EAAAA,QAAQ;IATT,CADO;;;;;;;;;;;;ACQP,QAAaC,SAAb;IAOC,qBAAYC,QAAZ,EACA;IAAA;;IAAA;IAAA;IAAA;IAAA;;IAAA;IAAA;IAAA;IAAA;;IAAA;IAAA;IAAA;IAAA;;IACC,oDAAcC,yBAAW,EAAzB;IACA,uDAAiBC,QAAQ,CAACC,aAAT,CAAuBH,QAAvB,CAAjB;IACA;;IAXF;IAAA;IAAA,4BAcC;IACC,4DAAoBI,iBAAS,CAACC,SAAV,CAAoB;IACvCC,QAAAA,IAAI,EAAE,mBADiC;IAEvCC,QAAAA,UAAU,EAAE;IACXd,UAAAA,WAAW,EAAXA;IADW,SAF2B;IAKvCK,QAAAA,QAAQ,EAAE;IAL6B,OAApB,CAApB;IAOA,4DAAkBU,GAAlB,mCAAsB,IAAtB;IACA,4DAAkBC,KAAlB,mCAAwB,IAAxB;IACA;IAxBF;IAAA;IAAA,wDA2BC;IACCC,MAAAA,4BAAc,mCAAC,IAAD,UAAd;IACA;IA7BF;IAAA;IAAA,sCAgCC;IACC,aAAOtB,YAAP;IACA;IAlCF;IAAA;IAAA;;;;;;;;"}